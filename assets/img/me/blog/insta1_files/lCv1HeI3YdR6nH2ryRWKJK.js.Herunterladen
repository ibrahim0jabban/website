;/*FB_PKG_DELIM*/

__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("BDSignalBufferData",[],(function(t,n,r,o,a,i){"use strict";var e={},l=e;i.default=l}),66);
__d("SignalValueContext",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.cn=e}var t=e.prototype;return t.getSignalValueContextName=function(){return this.cn},e})();i.default=e}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.signalType=e}var t=e.prototype;return t.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")},t.executeAsyncSignalCollection=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield this.executeSignalCollection();return e});function t(){return e.apply(this,arguments)}return t})(),e.getSanitizedURI=function(){var e=window.location.href,t=e.indexOf("?");return t<0?e:e.substring(0,t)},t.getContext=function(){return new(r("SignalValueContext"))(e.getSanitizedURI())},t.throwIfNotInitialized=function(){if(!(this.signalType in r("BDSignalBufferData")))throw new Error("Signal is not intialized")},e})();l.default=e}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(t,n,r,o,a,i,l){"use strict";var e="biometric_signal_collected",s=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.listenForSignals=function(){throw r("err")("Child class responsibility to implement listenForSignals")},n.executeSignalCollection=function(){throw r("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")},t})(r("BDSignalCollectorBase"));l.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=e,l.BDBiometricSignalCollectorBase=s}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.signalFlags=e,this.signalType=t}var t=e.prototype;return t.getSignalCollector=function(){return r("SignalCollectorMap").get(this.signalType)},t.getBufferConfig=function(){return r("BDSignalBufferData")[this.signalType]},e})();l.default=e}),98);
__d("BDLoggingConstants",[],(function(t,n,r,o,a,i){"use strict";var e={ERROR:"error",WARNING:"warning",INFO:"info"},l={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"},s="JS";i.LEVELS=e,i.OPERATIONS=l,i.COMPONENT_NAME=s}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setBdSessionID=function(t){return this.$1.bd_session_id=t,this},t.setComponent=function(t){return this.$1.component=t,this},t.setDurationUs=function(t){return this.$1.duration_us=t,this},t.setExceptionMessage=function(t){return this.$1.exception_message=t,this},t.setExceptionStackTrace=function(t){return this.$1.exception_stack_trace=t,this},t.setExceptionType=function(t){return this.$1.exception_type=t,this},t.setIntValue=function(t){return this.$1.int_value=t,this},t.setLevel=function(t){return this.$1.level=t,this},t.setOperation=function(t){return this.$1.operation=t,this},t.setOperationInfo=function(t){return this.$1.operation_info=n("GeneratedLoggerUtils").serializeMap(t),this},t.setSessionlets=function(t){return this.$1.sessionlets=n("GeneratedLoggerUtils").serializeVector(t),this},e})(),l={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};i.default=e}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.INFO,t,n,r)}function s(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.WARNING,t,n,r)}function u(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.ERROR,t,n,r)}function c(e,t,n,a,i){if(a===void 0&&(a={}),o("Random").coinflip(d(n))){if(a===null)throw new Error("opeartion info null");a.source=e,new(r("BDOperationTypedLogger"))().setLevel(t).setDurationUs(i).setOperation(n).setComponent(o("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(a).log()}}function d(e){var t=o("BDLoggingConstants").OPERATIONS;switch(e){case t.APPEND_SIGNAL:case t.HB_COLLECTED:case t.GET_LOCAL_STORAGE_ERROR:case t.WEB_STORAGE:case t.SIGNAL_NOT_IMPLEMENTED:case t.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}l.logInfo=e,l.logWarning=s,l.logError=u,l.log=c,l.getFlipSamplingByOperation=d}),98);
__d("SignalErrorValueTypeDef",[],(function(t,n,r,o,a,i){"use strict";var e="ec",l="en",s="es",u=500,c=(function(){function t(e,t,n){this.$1=e,this.$2=t,n!=null&&(this.$3=n.substr(0,u))}var n=t.prototype;return n.getErrorCode=function(){return this.$1},n.getErrorName=function(){return this.$2},n.getErrorDetails=function(){return this.$3},n.isEqual=function(t){return this.$1===t.getErrorCode()&&this.$3===t.getErrorDetails()&&this.$2===t.getErrorName()},n.toJSON=function(){var t={};switch(t[e]=this.$1,this.$1){case 0:t[l]=this.$2,t[s]=this.$3;break}return t},t})();i.SignalErrorValueTypeDef=c}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e="SignalValueTypeDef",s="t",u="ctx",c="v",d="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"},p=(function(){function t(e,t,n,r,o){this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=o!=null?o:0}var n=t.prototype;return n.getTimeStampMS=function(){return this.$1},n.getSignalContext=function(){return this.$2},n.getSignalValue=function(){return this.$3},n.getSignalValueType=function(){return this.$4},n.isEqual=function(n,r){if(n==null)return o("BDOperationLogHelper").logWarning(e,o("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL),!1;if(this.getSignalValueType()!==n.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&n.getSignalValueType()===m.ERROR)return this.equalValue(n);var t=!1;return r.has(128)&&(t=this.equalValue(n)),r.has(256)&&(t=t&&this.getSignalContext()!=null&&n.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===n.getSignalContext().getSignalValueContextName()),r.has(512)&&(t=t&&Math.abs(this.getTimeStampMS()-n.getTimeStampMS())<=this.$5),t},n.equalValue=function(t){if(this.isPrimitiveType())return this.getSignalValue()===t.getSignalValue();throw new Error("Must implement in the subclasses")},n.toJSON=function(t){var e={};return t&&(e[s]=this.$1/1e3,this.$2!=null&&(e[u]=this.$2)),this.$3==null?e[d]=new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(2):this.addValueOrErrorToJSON(e),e},n.addValueOrErrorToJSON=function(t){if(this.isPrimitiveType())t[c]=this.$3;else throw new Error("Must implement in the subclasses")},n.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}},t})();l.BD_VALUE=c,l.BD_ERROR=d,l.VALUE_TYPES=m,l.SignalValueTypeDef=p}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.equalValue=function(t){return this.getSignalValue().isEqual(t.getSignalValue())},n.addValueOrErrorToJSON=function(t){t[o("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()},t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e;if(navigator.connection!=null&&navigator.connection.rtt!=null){var t=navigator.connection.rtt;e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),t)}else e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.connection.rtt not supported"));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30004,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.equalValue=function(t){return this.getSignalValue().isEqual(t.getSignalValue())},n.addValueOrErrorToJSON=function(t){t[o("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()},t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("HeartbeatObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.isAppForeground=!0}var t=e.prototype;return t.toJSON=function(){return{f:this.isAppForeground}},t.isEqual=function(t){return!1},e})();i.default=e}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("HeartbeatObject")));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:38e3,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("KeyDownUpObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.action=null,this.key_code=null,this.action=e,this.key_code=t}var t=e.prototype;return t.toJSON=function(){return{action:this.action,key_code:this.key_code}},t.isEqual=function(n){return n instanceof e?this.action===n.action&&this.key_code===n.key_code:!1},e})();i.default=e}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.listenForSignals=function(){var e=this;r("gkx")("21049")&&(document.addEventListener("keydown",function(t){return e.collectSignals(2)}),document.addEventListener("keyup",function(t){return e.collectSignals(1)}))},n.collectSignals=function(t){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("KeyDownUpObject"))(t,0)),n={signalId:this.signalType,data:{valueOrError:e}};window.dispatchEvent(new CustomEvent(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:n}))},t})(o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),s=null,u={signalType:30100,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("StringArrayObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.strings=[],this.strings=e}var t=e.prototype;return t.toJSON=function(){return this.strings},t.isEqual=function(n){if(!(n instanceof e))return!1;if(n.strings===this.strings)return!0;if(n.strings.length!==this.strings.length)return!1;for(var t=0;t<this.strings.length;t++)if(this.strings[t]!==n.strings[t])return!1;return!0},e})();i.default=e}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=[].concat(navigator.languages),t=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("StringArrayObject"))(e));return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30003,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.mimeTypes?navigator.mimeTypes.length:-1,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30002,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e="BDTouchOrMouseSignalCollectorBase",s=(function(t){function n(e,n,r){var o;return o=t.call(this,e)||this,o.eventsToSubscribe=[],o.pauseTimeout=36e5,o.eventsToSubscribe=n,o.pauseTimeout=r,o.handler=function(e){return o.collectSignals(e)},o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.listenForSignals=function(){this.collectSignals(),this.addListeners()},a.addListeners=function(){var t=this;this.eventsToSubscribe.forEach(function(n){try{document.addEventListener(n,t.handler)}catch(t){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:t})}})},a.pauseListeners=function(){var e=this;this.eventsToSubscribe.forEach(function(t){document.removeEventListener(t,e.handler)}),window.setTimeout(function(){return e.addListeners()},this.pauseTimeout)},a.collectSignals=function(t){var e=t!=null;e&&this.pauseListeners();var n=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),e),a={signalId:this.signalType,data:{valueOrError:n}};window.dispatchEvent(new CustomEvent(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))},n})(o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);l.default=s}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(t,n,r,o,a,i,l){"use strict";var e=36e5,s=(function(t){function n(){return t.call(this,c.signalType,["mousedown","mousemove"],e)||this}return babelHelpers.inheritsLoose(n,t),n})(r("BDTouchOrMouseSignalCollectorBase")),u=null,c={signalType:30106,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.appVersion,t=new(r("StringSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30013,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),(e=navigator.hardwareConcurrency)!=null?e:0);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30018,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30093,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var a=t.prototype;return a.executeAsyncSignalCollection=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;try{if(navigator.permissions){var t=yield navigator.permissions.query({name:"notifications"});e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),t.state)}else e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.permissions not supported"))}catch(t){e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:e}});function t(){return e.apply(this,arguments)}return t})(),t})(r("BDSignalCollectorBase")),s=null,u={signalType:30008,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30015,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(t,n,r,o,a,i,l){"use strict";var e=10,s=(function(t){function n(){return t.call(this,c.signalType)||this}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.executeSignalCollection=function(){var t=null;try{for(var n=navigator.plugins?navigator.plugins.length:0,a=new Set,i=0;i<n;i++){var l=navigator.plugins[i].filename;if(l){var s=l.indexOf(".");if(!(s==-1||s==l.length-1)&&(a.add(l.substr(s+1)),a.size>=e))break}}a.size&&(t=new(r("StringArrayObject"))(Array.from(a)))}catch(e){t=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.plugins is not defined"))}return{valueOrError:t}},n})(r("BDSignalCollectorBase")),u=null,c={signalType:30019,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30094,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.vendor,t=new(r("StringSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30012,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e;return window.Notification?e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"Notification not supported")),{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30007,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.plugins?navigator.plugins.length:-1,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30001,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),(e=new Date().getTimezoneOffset())!=null?e:999);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30040,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(t,n,r,o,a,i,l){"use strict";var e=36e5,s=(function(t){function n(){return t.call(this,c.signalType,["touchstart","touchcancel"],e)||this}return babelHelpers.inheritsLoose(n,t),n})(r("BDTouchOrMouseSignalCollectorBase")),u=null,c={signalType:30107,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=!!navigator.webdriver,t=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:3e4,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}var n=!!t,o=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),n);return{valueOrError:o}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30022,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30095,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("DimensionObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.width=null,this.height=null,this.width=e,this.height=t}var t=e.prototype;return t.toJSON=function(){return{w:this.width,h:this.height}},t.isEqual=function(n){return n instanceof e?this.width===n.width&&this.height===n.height:!1},e})();i.default=e}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=window.innerHeight,t=window.innerWidth,n=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("DimensionObject"))(t,e));return{valueOrError:n}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30005,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(t){switch(t){case 3e4:return r("BDWebdriverSignalCollector").get();case 30001:return r("BDPluginCountSignalCollector").get();case 30002:return r("BDMimeTypeCountSignalCollector").get();case 30003:return r("BDLanguagesSignalCollector").get();case 30004:return r("BDConnectionRTTSignalCollector").get();case 30005:return r("BDWindowOuterDimensionSignalCollector").get();case 30007:return r("BDNotificationPermissionSignalCollector").get();case 30008:return r("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return r("BDNavigatorVendorSignalCollector").get();case 30013:return r("BDNavigatorAppVersionSignalCollector").get();case 30015:return r("BDNavigatorPlatformSignalCollector").get();case 30018:return r("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return r("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return r("BDWebglSupportSignalCollector").get();case 30040:return r("BDTimezoneOffsetSignalCollector").get();case 30093:return r("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return r("BDNavigatorUserAgentSignalCollector").get();case 30095:return r("BDWindowHistoryLengthSignalCollector").get();case 30100:return r("BDKeyDownUpSignalCollector").get();case 30106:return r("BDMousePresenceSignalCollector").get();case 30107:return r("BDTouchPresenceSignalCollector").get();case 38e3:return r("BDHeartbeatSignalCollector").get();case 38001:return r("BDHeartbeatV2SignalCollector").get()}}},s=e;l.default=s}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.id="",n.id=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.toJSON=function(){return{f:this.isAppForeground,id:this.id}},t})(r("HeartbeatObject"));l.default=e}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("HeartbeatV2Object"))(r("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:38001,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(t,n,r,o,a,i,l){"use strict";var e="BDClientConfig",s=(function(){function t(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map,this.heartbeatSignal=new(r("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var n=t.prototype;return n.setStaticSignalBufferSize=function(n){return n>0?this.staticSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"s"}),this},n.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize},n.setDynamicSignalBufferSize=function(n){return n>1?this.dynamicSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"d"}),this},n.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize},n.setBiometricSignalBufferSize=function(n){return n>1?this.biometricSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"b"}),this},n.setSID=function(t){return this.sid=t,this},n.setHeartbeatVersion=function(t){return this.hbVersion=t,this},n.getHeartbeatVersion=function(){return this.hbVersion},n.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize},n.setConfigGenerationTimeStamp=function(t){return this.signalConfigGenerationTimeStampMs=t,this},n.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs},n.setHeartbeatIntervalMinutes=function(t){return this.heartbeatIntervalMs=t*60*1e3,this},n.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs},n.setSuspiciousTiersFlushDurationMinutes=function(n){return n>0?this.suspiciousTiersFlushDurationMs=n*60*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"fds"}),this},n.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs},n.setAllTiersFlushDurationMinutes=function(n){return n>0?this.allTiersFlushDurationMs=n*60*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"fda"}),this},n.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs},n.addMultipleSignalsToClientConfig=function(t){var e=this;return t.forEach(function(t){return e.addSignalToClientConfig(t)}),this},n.addSignalToClientConfig=function(t){var e=t.getSignalFlags(),n=t.getSignalId();if(n===38e3)return this;var o=new(r("BDSignalWrapper"))(e,n);return n===38001?(this.heartbeatSignal=o,this):(e.includes(2)?e.includes(4)?this.biometricSignals.push(o):this.dynamicSignals.push(o):this.staticSignals.push(o),t.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[t.getSignalId()]=t.getBufferSize()),this)},n.setPeriodicCollectionIntervalSeconds=function(n){return n>0?this.periodicCollectionIntervalMs=n*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"pi"}),this},n.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs},n.getDynamicSignals=function(){return this.dynamicSignals},n.getStaticSignals=function(){return this.staticSignals},n.getBiometricSignals=function(){return this.biometricSignals},n.getBiometricSignalsMap=function(){return this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(e,t){return e.set(t.signalType,t)},new Map)),this.biometricSignalsMap},n.getHeartbeatSignal=function(){return this.heartbeatSignal},n.getBufferSizeBySignalId=function(t){return this.bufferSizeBySignalIdMap[t]},n.setParsingDone=function(t){this.parsingDone=t},n.isParsingDone=function(){return this.parsingDone},t})(),u=null,c={get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDCollectionTypeEnum",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});i.default=e}),66);
__d("BotDetection_SignalFlags",[],(function(t,n,r,o,a,i){var e=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});i.default=e}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(t,n,r,o,a,i,l){"use strict";var e="BDServerSignalConfig",s=(function(){function t(e,t,n){this.parsedSignalFlags=[],this.signalId=e,this.signalFlags=t,this.bufferSize=n}var n=t.prototype;return n.getSignalId=function(){return this.signalId},n.getSignalFlags=function(){var t=this;if(this.parsedSignalFlags.length===0){var n=Object.keys(r("BotDetection_SignalFlags"));n.forEach(function(e){(r("BotDetection_SignalFlags")[e]&t.signalFlags)===r("BotDetection_SignalFlags")[e]&&t.parsedSignalFlags.push(r("BotDetection_SignalFlags")[e])})}return this.parsedSignalFlags.length===0&&o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()}),this.parsedSignalFlags},n.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0},t})();l.default=s}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(t,n,r,o,a,i,l){"use strict";var e="BDServerConfig";function s(t){var n=[];try{var a=JSON.parse(t.sc),i=new Map(a.c);if(i.forEach(function(e,t){return n.push(new(r("BDServerSignalConfig"))(t,e))}),i.size===0){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}var l=r("BDClientConfig").get();l.setPeriodicCollectionIntervalSeconds(t.i).addMultipleSignalsToClientConfig(n).setConfigGenerationTimeStamp(a.t).setAllTiersFlushDurationMinutes(t.fda).setSuspiciousTiersFlushDurationMinutes(t.fds).setHeartbeatIntervalMinutes(t.hbi).setStaticSignalBufferSize(t.sbs).setDynamicSignalBufferSize(t.dbs).setBiometricSignalBufferSize(t.bbs).setSID(t.sid).setHeartbeatVersion(t.hbv).setParsingDone(!0)}catch(t){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:t})}}l.parseConfig=s}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(t,n,r,o,a,i,l){"use strict";var e="BDSignalBuffer";function s(e,t,n){if(!(e in r("BDSignalBufferData"))){var o=1;t!==void 0&&(o=t),r("BDSignalBufferData")[e]={values:[],max_buffer_size:o,signal_flags:n!=null?n:[]}}}function u(e){if(e in r("BDSignalBufferData"))r("BDSignalBufferData")[e].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function c(t,n){if(t in r("BDSignalBufferData")){var a=r("BDSignalBufferData")[t],i=a.max_buffer_size;a.values.length>=i&&a.values.shift(),a.values.push(n),o("BDOperationLogHelper").logInfo(e,o("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:t.toString()})}else throw o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:t.toString()}),new Error("Tried to append signal that was not intialized:")}function d(){var e=r("BDClientConfig").get(),t=e.getBiometricSignals();t.forEach(function(e){e.signalType in r("BDSignalBufferData")&&u(e.signalType)})}function m(e){var t,n=r("BDSignalBufferData")[e],o=n==null||(t=n.values)==null?void 0:t.length;return o!=null&&o>0?n.values[o-1]:{valueOrError:void 0}}function p(e){return r("BDSignalBufferData")[e].values}function _(e){var t={};for(var n of e)n in r("BDSignalBufferData")&&(t[n]=p(n).map(function(e){return e.valueOrError}));return t}function f(e){var t=g(e);return JSON.stringify(_(t))}function g(e){var t=r("BDClientConfig").get(),n=[];return e.forEach(function(e){switch(e){case r("BDCollectionTypeEnum").STATIC:n=[].concat(n,t.getStaticSignals());break;case r("BDCollectionTypeEnum").DYNAMIC:n=[].concat(n,t.getDynamicSignals());break;case r("BDCollectionTypeEnum").BIOMETRIC:n=[].concat(n,t.getBiometricSignals());break}}),n.map(function(e){return e.signalType})}l.initialize=s,l.clearBuffer=u,l.appendSignal=c,l.clearBiometricSignals=d,l.getLastSignalFormatBySignalId=m,l.retrieveSignal=p,l.retrieveSignals=_,l.getSignalsAsJSONString=f,l._getSignalIdsByCollectionType=g}),98);
__d("BDUtils",[],(function(t,n,r,o,a,i){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}i.uuid=e}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743095"),s=o("FalcoLoggerInternal").create("bd_pdc_signals",e),u=s;l.default=u}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s="SignalCollectionManager",u=(function(){function t(){var e=this;this.$1=!1,this.$6=function(t){if(t instanceof CustomEvent&&t.detail!=null&&t.detail.data!=null){var n=r("BDClientConfig").get().getBiometricSignalsMap().get(t.detail.signalId);n!=null&&e.$4(t.detail.data,n)}}}var a=t.prototype;return a.collectSignals=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=this,o=[];t.forEach(function(e){e.signalFlags.includes(4)?r.$2(e):o.push(r.$3(e))}),yield(e||(e=n("Promise"))).all(o)});function r(e){return t.apply(this,arguments)}return r})(),a.isEqualToLastCollectedSignal=function(t,n){var e=o("BDSignalBuffer").getLastSignalFormatBySignalId(n.signalType);return e.valueOrError==null?!1:t.isEqual(e.valueOrError,new Set(n.signalFlags))},a.getCircularBufferSize=function(t){var e=r("BDClientConfig").get(),n=e.getBufferSizeBySignalId(t.signalType);return n!=null&&e.getBufferSizeBySignalId(t.signalType)>0?n:t.signalFlags.includes(2)?t.signalFlags.includes(4)?e.getBiometricSignalBufferSize():e.getDynamicSignalBufferSize():e.getStaticSignalBufferSize()},a.$3=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.getSignalCollector();if(t!=null)try{var n=yield t.executeAsyncSignalCollection();this.$4(n,e)}catch(e){o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:e})}});function t(t){return e.apply(this,arguments)}return t})(),a.$2=function(t){this.$5();var e=t.getSignalCollector();e!=null&&e instanceof o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&e.listenForSignals()},a.$5=function(){this.$1||(window.addEventListener(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6),this.$1=!0)},a.$4=function(t,n){n.getBufferConfig()==null&&o("BDSignalBuffer").initialize(n.signalType,this.getCircularBufferSize(n),n.signalFlags),t.valueOrError&&!this.isEqualToLastCollectedSignal(t.valueOrError,n)&&o("BDSignalBuffer").appendSignal(n.signalType,t)},t})(),c=null,d={get:function(){return c==null&&(c=new u),c}},m=d;l.default=m}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","Promise","SignalCollectionManager","WebStorage","asyncToGeneratorRuntime","javascript-blowfish"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="BDClientSignalCollectionTrigger",c="signal_flush_timestamp",d=!1,m=!1,p=!1,_=!1,f=0,g=0,h=0,y=30,C=5,b,v,S=o("BDUtils").uuid(),R=r("BDClientConfig").get(),L=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),E={startSignalCollection:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(R.setSID(e.sid),!d){if(d=!0,o("BDServerConfig").parseConfig(e),!R.isParsingDone()){o("BDOperationLogHelper").logError(u,o("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(e)}),d=!1;return}e!=null&&(g=e.hbcbc&&e.hbcbc>0?e.hbcbc:g,h=e.hbvbc&&e.hbvbc>0?e.hbvbc:h,y=e.hbbi&&e.hbbi>0?e.hbbi:y),E.startHeartbeatDelayed(),v=new(s||(s=n("Promise")))(function(e,t){try{R.getDynamicSignals().length>0&&(E.collectDynamicSignals(),o("BDOperationLogHelper").logInfo(u,o("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),R.getBiometricSignals().length>0&&(E.collectBiometricSignals(),o("BDOperationLogHelper").logInfo(u,o("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),e()}catch(e){t(e)}}),yield v,yield E.startSignalPosting()}d&&!p&&!_&&C>0&&(C-=1,o("BDOperationLogHelper").logWarning(u,o("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),E.startHeartbeatDelayed())});function t(t){return e.apply(this,arguments)}return t})(),retrieveSignals:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield v,yield E.postSignals([r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").BIOMETRIC,r("BDCollectionTypeEnum").STATIC])});function t(){return e.apply(this,arguments)}return t})(),postSignals:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield E.collectStaticSignals(),E._postSignalsHelper(o("BDSignalBuffer").getSignalsAsJSONString(e),L.NONE)&&E.setTimestampInStorage(Date.now(),c)});function t(t){return e.apply(this,arguments)}return t})(),_postSignalsHelper:function(t,n){if(t.length<=2)return!1;var e=R.getConfigGenerationTimeStamp(),a=E.encryptDataUsingAsid(S,t),i=function(){return{asid:S,ct:e,sjd:a,sid:R.sid}},l=!1;try{n===L.CRITICAL?r("BdPdcSignalsFalcoEvent").logCritical(i):n===L.VITAL?r("BdPdcSignalsFalcoEvent").logImmediately(i):r("BdPdcSignalsFalcoEvent").log(i),l=!0}catch(e){o("BDOperationLogHelper").logError(u,o("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,e),l=!1}finally{return l}},getInitialVector:function(t){if(t.length!==16)return o("BDOperationLogHelper").logError(u,o("BDLoggingConstants").OPERATIONS.INVALID_LENGTH),"";for(var e="",n=0;n<8;n++)e+=String.fromCharCode(t.charCodeAt(n)^t.charCodeAt(8+n));return e},encryptDataUsingAsid:function(t,n){if(t.length!==36)return o("BDOperationLogHelper").logError(u,o("BDLoggingConstants").OPERATIONS.INVALID_GUID),n;var e=t.slice(19,23)+t.slice(24,36),a=E.getInitialVector(e),i=new(r("javascript-blowfish"))(e,"cbc");return i.base64Encode(i.encrypt(n,a))},startSignalPosting:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=E.getTimestampInStorage(c),t=Date.now()-e;t>=R.getAllTiersFlushDurationMs()?yield E.postSignalsIntermittently():window.setTimeout(function(){E.postSignalsIntermittently()},R.getAllTiersFlushDurationMs()-t)});function t(){return e.apply(this,arguments)}return t})(),postSignalsIntermittently:function(){E.postSignals([r("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){E.postSignals([r("BDCollectionTypeEnum").STATIC,r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").BIOMETRIC])},R.getAllTiersFlushDurationMs())},setTimestampInStorage:function(n,a){var t=(e||(e=r("WebStorage"))).getLocalStorage();if(!t){o("BDOperationLogHelper").logWarning(u,o("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}var i=e.setItemGuarded(t,a,n.toString());i!=null&&o("BDOperationLogHelper").logWarning(u,o("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:i.message})},getTimestampInStorage:function(n){var t=(e||(e=r("WebStorage"))).getLocalStorage();if(!t)return o("BDOperationLogHelper").logWarning(u,o("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR),0;var a=t.getItem(n);if(a==null)return 0;var i=Number.parseInt(a,10);return Number.isFinite(i)?i:0},resetHeartbeatStartedForTest:function(){p=!1,_=!1},startHeartbeatDelayed:function(){if(!(p||_)){var e=E.getTimestampInStorage(E.HEARTBEAT_TIMESTAMP_STORAGE_KEY),t=Date.now()-e;try{t>=R.getHeartbeatIntervalMs()?E.startHeartbeat():(window.setTimeout(function(){return E.startHeartbeat()},R.getHeartbeatIntervalMs()-t),_=!0)}catch(e){o("BDOperationLogHelper").logError(u,o("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:t.toString(),hbi:R.getHeartbeatIntervalMs().toString(),e:e})}}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!p&&R.getHeartbeatIntervalMs()>0&&(E.collectHeartbeatTimes(g,h),f!==0&&(window.clearInterval(f),o("BDOperationLogHelper").logWarning(u,o("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),f=window.setInterval(function(){return E.collectHeartbeatTimes(g,h)},R.getHeartbeatIntervalMs()),p=!0)},collectHeartbeatTimes:function(t,n){t<=0&&n<=0||(t>0&&E.collectHeartbeat(L.CRITICAL),n>0&&E.collectHeartbeat(L.VITAL),(t>1||n>1)&&window.setTimeout(function(){return E.collectHeartbeatTimes(t-1,n-1)},y*1e3))},collectHeartbeat:function(t){var e,n=R==null||(e=R.getHeartbeatSignal())==null||(e=e.getSignalCollector())==null?void 0:e.executeSignalCollection();if(n==null){o("BDOperationLogHelper").logError(u,o("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:t.toString()});return}else o("BDOperationLogHelper").logInfo(u,o("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:t.toString()});E.postHeartbeat(t,n)&&E.setTimestampInStorage(Date.now(),E.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(t,n){var e={};e[38001]=[n==null?void 0:n.valueOrError];var r=JSON.stringify(e);return E._postSignalsHelper(r,t)},collectStaticSignals:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield E.collectSignalsOneTime(R.getStaticSignals())});function t(){return e.apply(this,arguments)}return t})(),collectDynamicSignals:function(){E.stopDynamicSignalCollection(),b=window.setInterval(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield E.collectSignalsOneTime(R.getDynamicSignals())}),R.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){E.collectSignalsOneTime(R.getBiometricSignals())},stopDynamicSignalCollection:function(){b!=null&&(window.clearInterval(b),b=null)},collectSignalsOneTime:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield r("SignalCollectionManager").get().collectSignals(e)});function t(t){return e.apply(this,arguments)}return t})(),startLoginTimeSignalCollection:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){m||(m=!0,o("BDServerConfig").parseConfig(e),yield E.collectSignalsOneTime(R.getDynamicSignals()),yield E.collectSignalsOneTime(R.getBiometricSignals()),yield E.collectSignalsOneTime(R.getStaticSignals()))});function t(t){return e.apply(this,arguments)}return t})(),getSignalsAsJSONString:function(){return o("BDSignalBuffer").getSignalsAsJSONString([r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").STATIC,r("BDCollectionTypeEnum").BIOMETRIC])}},k=E;l.default=k}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("BDClientSignalCollectionTrigger").startSignalCollection(r("BDSignalCollectionData"))}l.initSignalCollection=e}),98);
__d("Chromedome",["fbt"],(function(t,n,r,o,a,i,l,s){function e(){if(document.domain==null)return null;var e=document.domain,t=/^intern\./.test(e);if(t)return null;var n=/(^|\.)facebook\.(com|sg)$/.test(e);if(n)return"facebook";var r=/(^|\.)instagram\.com$/.test(e);if(r)return"instagram";var o=/(^|\.)threads\.(com|net)$/.test(e);if(o)return"threads";var a=/(^|\.)messenger\.com$/.test(e);return a?"messenger":null}function u(e){return e==="instagram"?s._(/*BTDS*/"\u0645\u064a\u0632\u0629 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0647\u0630\u0647 \u0645\u0648\u062c\u0647\u0629 \u0644\u0644\u0645\u0637\u0648\u0631\u064a\u0646. \u0625\u0630\u0627 \u0637\u0644\u0628 \u0645\u0646\u0643 \u0634\u062e\u0635 \u0645\u0627 \u0646\u0633\u062e \u0648\u0644\u0635\u0642 \u0623\u064a \u0634\u064a\u0621 \u0647\u0646\u0627 \u0644\u062a\u0645\u0643\u064a\u0646 \u0645\u064a\u0632\u0629 \u0639\u0644\u0649 Instagram \u0623\u0648 \"\u0627\u062e\u062a\u0631\u0627\u0642\" \u062d\u0633\u0627\u0628 \u0634\u062e\u0635 \u0622\u062e\u0631\u060c \u0641\u0625\u0646 \u0647\u0630\u0647 \u0645\u062d\u0627\u0648\u0644\u0629 \u0627\u062d\u062a\u064a\u0627\u0644\u064a\u0629 \u0648\u0633\u062a\u062a\u064a\u062d \u0644\u0647 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062d\u0633\u0627\u0628 Instagram \u0627\u0644\u062e\u0627\u0635 \u0628\u0643."):e==="threads"?s._(/*BTDS*/"\u0645\u064a\u0632\u0629 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0647\u0630\u0647 \u0645\u0648\u062c\u0647\u0629 \u0644\u0644\u0645\u0637\u0648\u0631\u064a\u0646. \u0625\u0630\u0627 \u0637\u0644\u0628 \u0645\u0646\u0643 \u0634\u062e\u0635 \u0645\u0627 \u0646\u0633\u062e \u0648\u0644\u0635\u0642 \u0623\u064a \u0634\u064a\u0621 \u0647\u0646\u0627 \u0644\u062a\u0645\u0643\u064a\u0646 \u0645\u064a\u0632\u0629 \u0639\u0644\u0649 Threads \u0623\u0648 \"\u0627\u062e\u062a\u0631\u0627\u0642\" \u062d\u0633\u0627\u0628 \u0634\u062e\u0635 \u0622\u062e\u0631\u060c \u0641\u0625\u0646 \u0647\u0630\u0647 \u0645\u062d\u0627\u0648\u0644\u0629 \u0627\u062d\u062a\u064a\u0627\u0644\u064a\u0629 \u0648\u0633\u062a\u062a\u064a\u062d \u0644\u0647 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062d\u0633\u0627\u0628 Threads \u0627\u0644\u062e\u0627\u0635 \u0628\u0643."):s._(/*BTDS*/"\u0645\u064a\u0632\u0629 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0647\u0630\u0647 \u0645\u0648\u062c\u0647\u0629 \u0644\u0644\u0645\u0637\u0648\u0631\u064a\u0646. \u0625\u0630\u0627 \u0637\u0644\u0628 \u0645\u0646\u0643 \u0634\u062e\u0635 \u0645\u0627 \u0646\u0633\u062e \u0648\u0644\u0635\u0642 \u0623\u064a \u0634\u064a\u0621 \u0647\u0646\u0627 \u0644\u062a\u0645\u0643\u064a\u0646 \u0645\u064a\u0632\u0629 \u0639\u0644\u0649 \u0641\u064a\u0633\u0628\u0648\u0643 \u0623\u0648 \"\u0627\u062e\u062a\u0631\u0627\u0642\" \u062d\u0633\u0627\u0628 \u0634\u062e\u0635 \u0622\u062e\u0631\u060c \u0641\u0625\u0646 \u0647\u0630\u0647 \u0645\u062d\u0627\u0648\u0644\u0629 \u0627\u062d\u062a\u064a\u0627\u0644\u064a\u0629 \u0648\u0633\u062a\u062a\u064a\u062d \u0644\u0647 \u0627\u0644\u0648\u0635\u0648\u0644 \u0625\u0644\u0649 \u062d\u0633\u0627\u0628 \u0641\u064a\u0633\u0628\u0648\u0643 \u0627\u0644\u062e\u0627\u0635 \u0628\u0643.")}function c(t){if(top===window){var n=e();if(n!=null){var r=s._(/*BTDS*/"\u0627\u0646\u062a\u0628\u0647!"),o=u(n),a=s._(/*BTDS*/"\u0631\u0627\u062c\u0639 {url} \u0644\u0644\u062d\u0635\u0648\u0644 \u0639\u0644\u0649 \u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a",[s._param("url","https://www.facebook.com/selfxss")]),i="font-family:helvetica; font-size:20px; ";[[r,i+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[o,i],[a,i],["",""]].map(function(e){window.setTimeout(console.log.bind(console,"\n%c"+e[0].toString(),e[1]))})}}}l.start=c}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1764786"),s=o("FalcoLoggerInternal").create("client_consistency",e),u=s;l.default=u}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=!1,c={height:0,width:0};function d(){return s===null&&(s=r("getViewportDimensions")()),s}function m(){var e=r("getViewportDimensions")(),t=e.height,n=e.width;(c.width!==n||c.height!==t)&&(c={height:t,width:n},r("Cookie").set("wd",n+"x"+t))}function p(){!(e||(e=r("ExecutionEnvironment"))).canUseDOM||r("isInIframe")()||u||(u=!0,m(),window.addEventListener("resize",r("CometDebounce")(m,{wait:250}),{passive:!0}),window.addEventListener("focus",m,{passive:!0}))}function _(e){var t,n=d();p();var o={client_hint_width:e==null?void 0:e.clientHintWidth,pixel_ratio:(t=window.devicePixelRatio)!=null?t:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:r("SiteData").pr,server_viewport_x:e==null?void 0:e.viewportWidth,server_viewport_y:e==null?void 0:e.viewportHeight,viewport_x:n.width,viewport_y:n.height};if(window.navigator&&window.navigator.hardwareConcurrency&&(o.cpu_cores_count=window.navigator.hardwareConcurrency),window.innerWidth>0&&window.outerWidth>0){var a=Math.round(window.outerWidth/window.innerWidth*100)/100;o.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){var i=window.getComputedStyle(document.documentElement);i!=null&&(o.document_font_size=i.fontSize)}r("WebBrowserDimensionsTypedLoggerLite").log(o)}l.init=_}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("Chromedome").__setRef("CometChromeDome");function u(){s.onReady(function(t){(e||(e=o("JSScheduler"))).scheduleLoggingPriCallback(function(){t.start({})})})}l.init=u}),98);
__d("CometOnBeforeUnloadDialog.react",["fbt","CometTrackingNodeProvider.react","FDSButtonGroup.react","FDSCardedDialogLegacy.react","FDSText.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.body,n=e.cancel,o=e.confirm,a=e.disabled,i=a===void 0?!1:a,l=e.onClose,c=e.onCloseButtonPress,d=e.primaryAction,m=e.secondaryAction,p=e.title,_=function(){d(),l()},f=function(){m(),l()};return u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:163,children:u.jsxs(r("FDSCardedDialogLegacy.react"),{onClose:function(){c(),l()},testid:void 0,title:p,titleHorizontalAlignment:"start",withCloseButton:!0,children:[u.jsx("div",{className:"xz9dl7a xsag5q8 xf7dkkf xv54qhq x1n2onr6",children:u.jsx(r("FDSText.react"),{type:"body3",children:t})}),u.jsx("div",{className:"x78zum5 x1q0g3np x13a6bvl x1l90r2v xyri2b x1c1uobl xexx8yu",children:u.jsx(r("FDSButtonGroup.react"),{direction:"backward",paddingHorizontal:16,primary:{disabled:i,label:o!=null?o:s._(/*BTDS*/"\u062a\u0623\u0643\u064a\u062f"),onPress:_,testid:"CometOnBeforeUnloadDialogConfirmButton"},secondary:{disabled:i,label:n!=null?n:s._(/*BTDS*/"\u0625\u0644\u063a\u0627\u0621"),onPress:f,reduceEmphasis:!0,testid:"CometOnBeforeUnloadDialogCancelButton"}})})]})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e="dpr";function s(t){r("Cookie").set(e,String(t))}function u(){window.devicePixelRatio!==o("WebPixelRatio").get()&&s(window.devicePixelRatio)}function c(){u(),o("Run").onBeforeUnload(u,!1),"onpagehide"in window&&window.addEventListener("pageHide",u)}l.startDetecting=c}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=null;function u(){s||(s=window.addEventListener("blur",function(){e=null,c()}))}function c(){s&&(s.remove(),s=null)}function d(t){e=t.keyCode,u()}function m(t){e=null,c()}if(typeof window!="undefined"&&window.document&&window.document.createElement){var p=document.documentElement;if(p){if(p.addEventListener)p.addEventListener("keydown",d,!0),p.addEventListener("keyup",m,!0);else if(p.attachEvent){var _=p.attachEvent;_("onkeydown",d),_("onkeyup",m)}}}var f={getKeyDownCode:function(){return e},isKeyDown:function(){return!!e}},g=!1,h=!1,y=null,C=!1;function b(e){var t=new Set,n=f.isKeyDown(),o=e.WEBKIT_FORCE_AT_MOUSE_DOWN,a=e.clientX,i=e.clientY,l=e.isTrusted,s=e.mozInputSource,u=e.offsetX,c=e.offsetY,d=e.webkitForce;if(a===0&&i===0&&u>=0&&c>=0&&h&&l&&s==null&&t.add("Chrome"),g&&h&&!n&&d!=null&&d<o&&u===0&&c===0&&s==null&&t.add("Safari-edge"),a===0&&i===0&&u<0&&c<0&&h&&s==null&&t.add("Safari-old"),!g&&!h&&!n&&l&&r("UserAgent").isBrowser("IE >= 10")&&s==null){var m=e.target,p=m.clientHeight,_=m.clientWidth;a<0&&i<0?t.add("IE"):(u<0||u>_)&&(c<0||c>p)&&t.add("MSIE")}return s===0&&l&&t.add("Firefox"),t}function v(){g=!0,r("setTimeout")(function(){g=!1},0)}function S(){h=!0,r("setTimeout")(function(){h=!1},0)}function R(e){C&&n("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:y,is_virtual_cursor_action:e})}function L(e){y===null&&(y=Array.from(b(e))),C=y!=null&&y.length>0;var t=e.target!=null&&e.target.getAttribute!=null&&e.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";R(t),r("setTimeout")(function(){C=!1,y=null},0)}function E(){document.addEventListener("click",L,!0),document.addEventListener("mousedown",v,!0),document.addEventListener("mouseup",S,!0)}l.initLogging=E}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){(s||(s=o("ODS"))).bumpEntityKey(1678,"www_client_navigations",c())}function c(){if((e||(e=r("performance"))).navigation==null||(e||(e=r("performance"))).navigation.type==null)return"UNSUPPORTED";switch((e||(e=r("performance"))).navigation.type){case(e||(e=r("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(e||(e=r("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(e||(e=r("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(e||(e=r("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}l.logPageNavigationType=u}),98);
__d("StringTransformations",[],(function(t,n,r,o,a,i){"use strict";var e={unicodeEscape:function(t){return t.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+("0000"+t.toUpperCase()).slice(-4)})},unicodeUnescape:function(t){return t.replace(/(\\u[0-9A-Fa-f]{4})/g,function(e){return String.fromCharCode(parseInt(e.slice(2),16))})}};i.default=e}),66);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","ExecutionEnvironment","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageCleanupReason","WebStorageMonsterLoggingURI","ifRequired","isEmpty","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=1e4,d=5,m=!1;function p(e){var t={};for(var n in e){var o=e.getItem(n),a=r("StringTransformations").unicodeEscape(n);typeof o=="string"&&(t[a]=o.length)}return t}function _(t){var n=(e||(e=r("WebStorage"))).getLocalStorage();!n||t==null||!t.keys||h._getLocalStorageKeys().forEach(function(e){t.keys.includes(e)&&(n.removeItem(e),""+e)})}function f(t){var n=(e||(e=r("WebStorage"))).getLocalStorage();n&&h._getLocalStorageKeys().forEach(function(e){t.some(function(t){return new RegExp(t).test(e)})||(n.removeItem(e),""+e)})}function g(e,t){if(e===void 0&&(e=!1),t===void 0&&(t=c),r("UserActivity").isActive(t)){var n=Math.max(c,Math.floor(t/d));r("setTimeoutAcrossTransitions")(function(){g(e,n)},n)}else{h.cleanNow(e);var o=t*d;r("setTimeoutAcrossTransitions")(function(){g(e,o)},o)}}var h={_getLocalStorageKeys:function(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return t?Object.keys(t):[]},cleanNow:function(n){n===void 0&&(n=!1);var t=Date.now(),o={},a=(e||(e=r("WebStorage"))).getLocalStorage();a&&(o.local_storage=p(a));var i=e.getSessionStorage();i&&(o.session_storage=p(i));var l=!(s||(s=r("isEmpty")))(o),u=Date.now();if(o.logtime=u-t,l){var c,d=r("WebStorageMonsterLoggingURI").uri;if(d===null)return null;var m=function(){new(r("AsyncRequest"))(d).setData(o).setHandler(function(e){var t=e.getPayload();t&&t.keys&&(t.keys=t.keys.map(r("StringTransformations").unicodeUnescape)),n||_(t),r("NetworkStatus").reportSuccess()}).setErrorHandler(function(){r("NetworkStatus").reportError()}).setOption("retries",2).send()};if(r("NetworkStatus").isOnline())m();else{var f=function(t){var e=t.online;e&&(m(),c.remove())};c=r("NetworkStatus").onChange(f)}}},cleanOnLogout:function(n,a){o("WebStorageCleanupReason").setLastCleanupReason(a),r("CacheStorage").disablePersistentWrites(),r("ifRequired")("WebAsyncStorage",function(e){e.disablePersistentWrites()}),f(n||[]);var t=(e||(e=r("WebStorage"))).getSessionStorage();t&&t.clear(),r("ifRequired")("WebAsyncStorage",function(e){e.clear(function(){})})},registerLogoutForm:function(t,n){r("Event").listen(t,"submit",function(e){h.cleanOnLogout(n,"WebStorageMonster.registerLogoutForm")})},schedule:function(t){t===void 0&&(t=!1),!(m||!(u||(u=r("ExecutionEnvironment"))).isInBrowser)&&(m=!0,g(t))}},y=h;l.default=y}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u=new Set;function c(e){s?e():u.add(e)}function d(t){Object.entries(t).forEach(function(e){var t=e[0],n=e[1],o=n.expiration_for_js,a=n.first_party_only,i=n.path,l=n.secure,s=n.value;r("DeferredCookie").addToQueue(t,s,o,i,a,!1,l)}),s=!0,u.forEach(function(t){return(e||(e=r("ErrorGuard"))).applyWithGuard(t,null,[])}),u.clear()}l.onCometDeferredCookieSet=c,l.setCometDeferredCookies=d}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","gkx","setCometDeferredCookies","vc-tracker"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=null;function c(t){var a=t.blLoggingCavalryFields,i=t.deferredCookies,l=t.networkStatusToast,u=l===void 0?n("cr:17080"):l;if((s||(s=r("ErrorGuard"))).applyWithGuard(function(){return o("CometBootloaderLoggerUtil").initLogging(a)},null,[]),s.applyWithGuard(function(){return o("CometBootloaderErrorLoggerUtil").initLogging(a)},null,[]),s.applyWithGuard(function(){return o("CometVirtualCursorStatus").initLogging()},null,[]),u!=null&&!r("gkx")("11394")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return u.subscribe()},null,[]),s.applyWithGuard(function(){return o("CometOfflineTracing").initialize()},null,[]),s.applyWithGuard(function(){return o("SimplePageLoadLogger").logPageNavigationType()},null,[]),(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(function(){r("WebStorageMonster").schedule()}),n("cr:1201738")&&r("vc-tracker").VisualCompletionTraceObserver.subscribe(function(e){e.interactionType==="INITIAL_LOAD"&&n("cr:1201738").init("comet.idle")}),o("setCometDeferredCookies").setCometDeferredCookies(i),n("cr:1332233")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1332233")()},null,[]),n("cr:1516609")!=null&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1516609").initSignalCollection()},null,[]),n("cr:1813330")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1813330").init()},null,[]),n("cr:2718")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:2718").init()},null,[]),n("cr:22915"))var c=o("RunComet").onAfterLoad(function(){(s||(s=r("ErrorGuard"))).applyWithGuard(function(){n("cr:22915")==null||n("cr:22915").startRSTFromMainThread(),c.remove()},null,[])})}l.initDeferred=c}),98);
__d("IGDSPrivateToast.react",["BaseTheme.react","IGDSBox.react","IGDSTextVariants.react","IGDSThemeConfig","react","react-compiler-runtime","useCurrentDisplayMode","useFadeEffect"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="x1di15od-B",c="x1xuf6tn-B",d={messageBox:{flexBasis:"x1t1x2f9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",height:"x5yr21d",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0},rootBox:{flexBasis:"x1t1x2f9",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(32),n=e.ref,a=e.actionComponent,i=e["data-testid"],l=e.icon,u=e.isVisible,m=e.message,p=e.messageSecondary,_=e.onClose,f=e.target,g=f===void 0?"center":f,h=r("useFadeEffect")(u),y=h[1],C=h[2],b=r("useCurrentDisplayMode")(),v=b==="dark"?"light":"dark",S;t[0]!==a||t[1]!==u||t[2]!==y||t[3]!==g?(S={0:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xg01cxk xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xeroabh x1ww3oar"},4:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xg01cxk xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid"},2:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xeroabh x1ww3oar xs4xyr0 x1wpepyw x4hg4is x1iy03kw"},6:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xs4xyr0 x1wpepyw x4hg4is x1iy03kw"},1:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xeroabh x1ww3oar xs4xyr0 xqf3suz x4hg4is xg01cxk"},5:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xs4xyr0 xqf3suz x4hg4is xg01cxk"},3:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xeroabh x1ww3oar xs4xyr0 xqf3suz x4hg4is xg01cxk"},7:{className:"x6s0dn4 x1jx94hy x1obq294 x5a5i1n xde0f50 x15x8krk xdy0x9s x78zum5 x2lah0s x1qughib xyamay9 x1xnnf8n x1l90r2v x106a9eq x2b8uid xs4xyr0 xqf3suz x4hg4is xg01cxk"}}[(g==="center"&&a==null)<<2|!!y<<1|!u<<0],t[0]=a,t[1]=u,t[2]=y,t[3]=g,t[4]=S):S=t[4];var R;t[5]!==_?(R=function(t){t.animationName===c&&_!=null&&_()},t[5]=_,t[6]=R):R=t[6];var L;t[7]!==l?(L=l!=null&&s.jsx(r("IGDSBox.react"),{marginEnd:3,children:l}),t[7]=l,t[8]=L):L=t[8];var E;t[9]!==m?(E=s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{maxLines:3,textAlign:"start",zeroMargin:!0,children:m}),t[9]=m,t[10]=E):E=t[10];var k;t[11]!==p?(k=p!=null&&s.jsx(r("IGDSBox.react"),{marginTop:1,children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",maxLines:1,textAlign:"start",zeroMargin:!0,children:p})}),t[11]=p,t[12]=k):k=t[12];var I;t[13]!==E||t[14]!==k?(I=s.jsxs(r("IGDSBox.react"),{direction:"column",justifyContent:"center",wrap:!0,xstyle:d.messageBox,children:[E,k]}),t[13]=E,t[14]=k,t[15]=I):I=t[15];var T;t[16]!==n||t[17]!==L||t[18]!==I?(T=s.jsxs(r("IGDSBox.react"),{alignItems:"center",containerRef:n,direction:"row",overflow:"hidden",xstyle:d.rootBox,children:[L,I]}),t[16]=n,t[17]=L,t[18]=I,t[19]=T):T=t[19];var D;t[20]!==a?(D=a!=null&&s.jsx("div",{className:"x1c4vz4f x2lah0s",children:a}),t[20]=a,t[21]=D):D=t[21];var x;t[22]!==S||t[23]!==R||t[24]!==T||t[25]!==D?(x=s.jsxs("div",babelHelpers.extends({},S,{onAnimationEnd:R,children:[T,D]})),t[22]=S,t[23]=R,t[24]=T,t[25]=D,t[26]=x):x=t[26];var $;return t[27]!==C||t[28]!==i||t[29]!==v||t[30]!==x?($=s.jsx(r("BaseTheme.react"),{"aria-atomic":!0,config:r("IGDSThemeConfig"),displayMode:v,ref:C,role:"alert",testid:void 0,children:x}),t[27]=C,t[28]=i,t[29]=v,t[30]=x,t[31]=$):$=t[31],$}l.default=m}),98);
__d("IGDSPrivateToastContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({onHideFactory:null});l.default=u}),98);
__d("IGDSPrivateToaster.react",["BaseContextualLayer.react","DateConsts","IGDSPrivateToast.react","IGDSPrivateToastContext","PolarisUA","clearTimeout","react","react-compiler-runtime","setTimeout","stylex","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useLayoutEffect,_=c.useMemo,f=c.useRef,g=c.useState,h={bottomContainer:{alignItems:"x6s0dn4",bottom:"x3h4tne",display:"x78zum5",flexDirection:"xdt5ytf",left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,position:"xixxii4",transform:"xjebx4m",$$css:!0},bottomLeftContainer:{alignItems:"x6s0dn4",bottom:"x3h4tne",display:"x78zum5",flexDirection:"xdt5ytf",insetInlineStart:"xr2ch4k",left:null,right:null,position:"xixxii4",$$css:!0},bottomRightContainer:{alignItems:"x6s0dn4",bottom:"x3h4tne",display:"x78zum5",flexDirection:"xdt5ytf",insetInlineEnd:"x145d82y",left:null,right:null,position:"xixxii4",$$css:!0},centerContainer:{left:"x1nrll8i",insetInlineStart:null,insetInlineEnd:null,position:"xixxii4",top:"xwa60dl",transform:"x11lhmoz",zIndex:"x1vjfegm",$$css:!0}},y=3*o("DateConsts").MS_PER_SEC;function C(e){var t=o("react-compiler-runtime").c(29),n=e.config,a=e.toast,i=g("transition"),l=i[0],s=i[1],c=g(null),d=c[0],_=c[1],h=n.isVisible===!1,C=g(h),b=C[0],v=C[1],S=f(null),R=n.isSticky!=null&&n.isSticky,E=n.duration!=null?n.duration:y,k,I;t[0]!==h?(k=function(){return v(!h)},I=[h],t[0]=h,t[1]=k,t[2]=I):(k=t[1],I=t[2]),p(k,I);var T;t[3]!==E||t[4]!==R||t[5]!==b?(T=function(){return b&&!R?S.current=r("setTimeout")(function(){v(!1)},E):r("clearTimeout")(S.current),function(){return r("clearTimeout")(S.current)}},t[3]=E,t[4]=R,t[5]=b,t[6]=T):T=t[6];var D;t[7]!==n||t[8]!==E||t[9]!==R||t[10]!==b?(D=[b,n,E,R],t[7]=n,t[8]=E,t[9]=R,t[10]=b,t[11]=D):D=t[11],m(T,D);var x;t[12]!==n||t[13]!==l||t[14]!==d?(x=function(){d==null||d(l),n.onAfterHide==null||n.onAfterHide()},t[12]=n,t[13]=l,t[14]=d,t[15]=x):x=t[15];var $=x,P;t[16]===Symbol.for("react.memo_cache_sentinel")?(P=function(t){return _(function(e){return t}),function(e){v(!1),s(e)}},t[16]=P):P=t[16];var N=P,M,w;t[17]===Symbol.for("react.memo_cache_sentinel")?(w={onHideFactory:N},t[17]=w):w=t[17],M=w;var A=M,F;t[18]===Symbol.for("react.memo_cache_sentinel")?(F={className:"xjkvuk6"},t[18]=F):F=t[18];var O;t[19]!==b||t[20]!==$?(O=function(){!b&&$()},t[19]=b,t[20]=$,t[21]=O):O=t[21];var B;t[22]!==n||t[23]!==b||t[24]!==a?(B=u.jsx(r("IGDSPrivateToastContext").Provider,{value:A,children:u.jsx(L,{config:n,isVisible:b,toast:a})}),t[22]=n,t[23]=b,t[24]=a,t[25]=B):B=t[25];var W;return t[26]!==O||t[27]!==B?(W=u.jsx("div",babelHelpers.extends({},F,{onAnimationEnd:O,children:B})),t[26]=O,t[27]=B,t[28]=W):W=t[28],W}function b(e){var t=o("react-compiler-runtime").c(23),n=e["data-testid"],a=e.items,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=o("PolarisUA").isMobile(),t[0]=i):i=t[0];var l=i,s=f(null);if(a.length===0)return null;var c,d,m,p;t[1]!==a?(p=[],m=[],c=[],d=[],a.map(function(e){e:switch(e.toast.target){case"center":{p.push(e);break e}case"bottom":{m.push(e);break e}case"bottom-left":{l?m.push(e):c.push(e);break e}case"bottom-right":{l?m.push(e):d.push(e);break e}default:E(e.toast)?m.push(e):p.push(e)}}),t[1]=a,t[2]=c,t[3]=d,t[4]=m,t[5]=p):(c=t[2],d=t[3],m=t[4],p=t[5]);var _;t[6]!==p||t[7]!==n?(_=u.jsx(S,{"data-testid":void 0,items:p,target:"center"}),t[6]=p,t[7]=n,t[8]=_):_=t[8];var g;t[9]!==m||t[10]!==n?(g=u.jsx(S,{"data-testid":void 0,items:m,target:"bottom"}),t[9]=m,t[10]=n,t[11]=g):g=t[11];var h;t[12]!==c||t[13]!==n?(h=u.jsx(S,{"data-testid":void 0,items:c,target:"bottom-left"}),t[12]=c,t[13]=n,t[14]=h):h=t[14];var y;t[15]!==d||t[16]!==n?(y=u.jsx(S,{"data-testid":void 0,items:d,target:"bottom-right"}),t[15]=d,t[16]=n,t[17]=y):y=t[17];var C;return t[18]!==_||t[19]!==g||t[20]!==h||t[21]!==y?(C=u.jsxs(r("BaseContextualLayer.react"),{contextRef:s,children:[_,g,h,y]}),t[18]=_,t[19]=g,t[20]=h,t[21]=y,t[22]=C):C=t[22],C}function v(e){switch(e){case"center":return h.centerContainer;case"bottom-left":return h.bottomLeftContainer;case"bottom-right":return h.bottomRightContainer;case"bottom":default:return h.bottomContainer}}function S(t){var n=o("react-compiler-runtime").c(8),a=t["data-testid"],i=t.items,l=t.target;if(i.length>0){var s;n[0]!==l?(s=(e||(e=r("stylex"))).props(v(l)),n[0]=l,n[1]=s):s=n[1];var c;n[2]!==i?(c=i.map(R),n[2]=i,n[3]=c):c=n[3];var d;return n[4]!==a||n[5]!==s||n[6]!==c?(d=u.jsx("div",babelHelpers.extends({},s,{"data-testid":void 0,children:c})),n[4]=a,n[5]=s,n[6]=c,n[7]=d):d=n[7],d}return null}function R(e){var t=e.config,n=e.toast;return u.jsx(C,{config:t,toast:n},t.key)}R.displayName=R.name+" [from "+i.id+"]";function L(e){var t=o("react-compiler-runtime").c(12),n=e.config,a=e.isVisible,i=e.toast,l=n==null?void 0:n.onImpressionCallback,s;t[0]!==l?(s={onImpressionStart:l},t[0]=l,t[1]=s):s=t[1];var c=r("useSinglePartialViewImpression")(s),d;return t[2]!==n.key||t[3]!==n.onAfterHide||t[4]!==a||t[5]!==i.actionComponent||t[6]!==i.icon||t[7]!==i.message||t[8]!==i.messageSecondary||t[9]!==i.target||t[10]!==c?(d=u.jsx(r("IGDSPrivateToast.react"),{actionComponent:i.actionComponent,"data-testid":void 0,icon:i.icon,isVisible:a,message:i.message,messageSecondary:i.messageSecondary,onClose:n.onAfterHide,ref:c,target:i.target}),t[2]=n.key,t[3]=n.onAfterHide,t[4]=a,t[5]=i.actionComponent,t[6]=i.icon,t[7]=i.message,t[8]=i.messageSecondary,t[9]=i.target,t[10]=c,t[11]=d):d=t[11],d}function E(e){return e.actionComponent!=null}l.default=b}),98);
__d("InstagramWebNotificationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5614"),s=o("FalcoLoggerInternal").create("instagram_web_notification",e),u=s;l.default=u}),98);
__d("LogWebMemoryUsageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1765264"),s=o("FalcoLoggerInternal").create("log_web_memory_usage",e),u=s;l.default=u}),98);
__d("PolarisBackgroundFeedDataFetchEager",["CometRelay","CurrentUser","PolarisFeedActionLoadFeedPageExtras","PolarisFeedQueryConstants","PolarisFeedTimelineRootV2Query.graphql","PolarisRelayEnvironmentFactory","getPolarisFeedInitialPageSize.entrypointutils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("PolarisRelayEnvironmentFactory").getForActorID(r("CurrentUser").getPossiblyNonFacebookUserID()),n=o("PolarisFeedQueryConstants").FEED_TIMELINE_REQUEST_BODY;o("CometRelay").fetchQuery(t,r("PolarisFeedTimelineRootV2Query.graphql"),{data:n,first:o("getPolarisFeedInitialPageSize.entrypointutils").getPolarisFeedInitialPageSize(),variant:"home"}).subscribe({}),e.dispatch(o("PolarisFeedActionLoadFeedPageExtras").loadFeedPageExtras())}l.runBackgroundFeedDataFetch=e}),98);
__d("PolarisFBSDK",[],(function(t,n,r,o,a,i){function e(){try{window.FB&&!window.FB.__buffer||(function(){var e=Function.prototype.apply;function t(t,n){return function(){return e.call(t,n,arguments)}}for(var n={__type:"JS_SDK_SANDBOX",window:window,document:window.document},r=["setTimeout","setInterval","clearTimeout","clearInterval"],o=0;o<r.length;o++)n[r[o]]=t(window[r[o]],window);(function(){var e=window,t=this,r=0;function o(){}var a={},i,l,s,u;(function(e){var n={},r=function(t,n){if(!t&&!n)return null;var e={};return typeof t!="undefined"&&(e.type=t),typeof n!="undefined"&&(e.signature=n),e},o=function(t,n){return r(t&&/^[A-Z]/.test(t)?t:void 0,n&&(n.params&&n.params.length||n.returns)?"function("+(n.params?n.params.map(function(e){return/\?/.test(e)?"?"+e.replace("?",""):e}).join(","):"")+")"+(n.returns?":"+n.returns:""):void 0)},i=function(t,n,r){return t},l=function(n,r,i){return"sourcemeta"in a&&(n.__SMmeta=r),"typechecks"in a&&(r=o(r?r.name:void 0,i),r&&t.__w(n,r)),n},s=function(t,n,r){return r.apply(t,n)},u=function(n,r,o,a){return a&&a.params&&t.__t.apply(n,a.params),o=o.apply(n,r),a&&a.returns&&t.__t([o,a.returns]),o};u=function(t,r,o,a,i){return i&&(i.callId||(i.callId=i.module+":"+(i.line||0)+":"+(i.column||0)),a=i.callId,n[a]=(n[a]||0)+1),o.apply(t,r)},typeof a=="undefined"?(t.__annotator=i,t.__bodyWrapper=s):(t.__annotator=l,"codeusage"in a?(t.__annotator=i,t.__bodyWrapper=u,t.__bodyWrapper.getCodeUsage=function(){return n},t.__bodyWrapper.clearCodeUsage=function(){n={}}):("typechecks"in a,t.__bodyWrapper=s))})(typeof t!="undefined"?t:typeof n!="undefined"?n:typeof window!="undefined"?window:typeof this!="undefined"?this:typeof e!="undefined"?e:{}),(function(e){e.__t=function(e){return e[0]},e.__w=function(e){return e}})(typeof t!="undefined"?t:typeof n!="undefined"?n:typeof window!="undefined"?window:typeof this!="undefined"?this:typeof e!="undefined"?e:{}),(function(e){var n={},r=["global","require","requireDynamic","requireLazy","module","exports"],o=["global","require","importDefault","importNamespace","requireLazy","module","exports"],a=1,i=32,l=64,s={},u=Object.prototype.hasOwnProperty;function c(t,a){if(!u.call(n,t)){if(a)return null;throw new Error("Module "+t+" has not been defined")}if(a=n[t],a.resolved)return a;t=a.special;for(var s=a.factory.length,c=t&i?o.concat(a.deps):r.concat(a.deps),_=[],f,g=0;g<s;g++){switch(c[g]){case"module":f=a;break;case"exports":f=a.exports;break;case"global":f=e;break;case"require":f=d;break;case"requireDynamic":f=null;break;case"requireLazy":f=null;break;case"importDefault":f=m;break;case"importNamespace":f=p;break;default:typeof c[g]=="string"&&(f=d.call(null,c[g]))}_.push(f)}return c=a.factory.apply(e,_),c&&(a.exports=c),t&l?a.exports!=null&&u.call(a.exports,"default")&&(a.defaultExport=a.exports.default):a.defaultExport=a.exports,a.resolved=!0,a}function d(e,t){if(e=c(e,t),e)return e.defaultExport!==s?e.defaultExport:e.exports}function m(e){if(e=c(e),e)return e.defaultExport!==s?e.defaultExport:null}function p(e){if(e=c(e),e)return e.exports}function _(e,t,r,o){typeof r=="function"?(n[e]={factory:r,deps:t,defaultExport:s,exports:{},special:o||0,resolved:!1},o!=null&&o&a&&d.call(null,e)):n[e]={defaultExport:r,exports:r,resolved:!0}}t.__d=_,t.require=d,t.importDefault=m,t.importNamespace=p,t.$RefreshReg$=function(){},t.$RefreshSig$=function(){return function(e){return e}}})(this),t.__d("ES5FunctionPrototype",[],function(e,t,n,r,o,a){e={bind:function(t){if(typeof this!="function")throw new TypeError("Bind must be called on a function");var e=this,n=Array.prototype.slice.call(arguments,1);function r(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}return r.displayName="bound:"+(e.displayName||e.name||"(?)"),r.toString=function(){return"bound: "+e},r}},t=e,a.default=t},66),t.__d("ES5StringPrototype",[],function(e,t,n,r,o,a){e={startsWith:function(t){var e=String(this);if(this==null)throw new TypeError("String.prototype.startsWith called on null or undefined");var n=arguments.length>1?Number(arguments[1]):0;isNaN(n)&&(n=0);var r=Math.min(Math.max(n,0),e.length);return e.indexOf(String(t),n)==r},endsWith:function(t){var e=String(this);if(this==null)throw new TypeError("String.prototype.endsWith called on null or undefined");var n=e.length,r=String(t),o=arguments.length>1?Number(arguments[1]):n;isNaN(o)&&(o=0);var a=Math.min(Math.max(o,0),n),i=a-r.length;return i<0?!1:e.lastIndexOf(r,i)==i},includes:function(t){if(this==null)throw new TypeError("String.prototype.contains called on null or undefined");var e=String(this),n=arguments.length>1?Number(arguments[1]):0;return isNaN(n)&&(n=0),e.indexOf(String(t),n)!=-1},repeat:function(t){if(this==null)throw new TypeError("String.prototype.repeat called on null or undefined");var e=String(this);if(t=t?Number(t):0,isNaN(t)&&(t=0),t<0||t===1/0)throw RangeError();if(t===1)return e;if(t===0)return"";for(var n="";t;)t&1&&(n+=e),(t>>=1)&&(e+=e);return n}},t=e,a.default=t},66),t.__d("ES6Array",[],function(e,t,n,r,o,a){"use strict";e={from:function(t){if(t==null)throw new TypeError("Object is null or undefined");var e=arguments[1],n=arguments[2],r=this,o=Object(t),a=typeof Symbol=="function"&&navigator.userAgent.indexOf("Trident/7.0")===-1&&typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator",i=typeof e=="function",l=typeof o[a]=="function",s=0,u,c;if(l){u=typeof r=="function"?new r:[];for(var d=o[a](),m;!(m=d.next()).done;)c=m.value,i&&(c=e.call(n,c,s)),u[s]=c,s+=1;return u.length=s,u}var p=o.length;for((isNaN(p)||p<0)&&(p=0),u=typeof r=="function"?new r(p):new Array(p);s<p;)c=o[s],i&&(c=e.call(n,c,s)),u[s]=c,s+=1;return u.length=s,u}},t=e,a.default=t},66),t.__d("ES6ArrayPrototype",[],function(e,t,n,r,o,a){var i={find:function(t,n){if(this==null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");return t=i.findIndex.call(this,t,n),t===-1?void 0:this[t]},findIndex:function(t,n){if(this==null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");for(var e=Object(this),r=e.length>>>0,o=0;o<r;o++)if(t.call(n,e[o],o,e))return o;return-1},fill:function(t,n,r){if(this==null)throw new TypeError("Array.prototype.fill called on null or undefined");for(var e=Object(this),o=e.length>>>0,a=arguments[1],i=a>>0,l=i<0?Math.max(o+i,0):Math.min(i,o),s=arguments[2],u=s===void 0?o:s>>0,c=u<0?Math.max(o+u,0):Math.min(u,o);l<c;)e[l]=t,l++;return e}};e=i,a.default=e},66),t.__d("ES6Number",[],function(e,t,n,r,o,a){e=Math.pow(2,-52),t=Math.pow(2,53)-1,n=-1*t,r={isFinite:(function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t})(function(e){return typeof e=="number"&&isFinite(e)}),isNaN:(function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t})(function(e){return typeof e=="number"&&isNaN(e)}),isInteger:function(t){return this.isFinite(t)&&Math.floor(t)===t},isSafeInteger:function(t){return this.isFinite(t)&&t>=this.MIN_SAFE_INTEGER&&t<=this.MAX_SAFE_INTEGER&&Math.floor(t)===t},EPSILON:e,MAX_SAFE_INTEGER:t,MIN_SAFE_INTEGER:n},o=r,a.default=o},66),t.__d("ES6Object",[],function(e,t,n,r,o,a){var i={}.hasOwnProperty;e={assign:function(t){if(t==null)throw new TypeError("Object.assign target cannot be null or undefined");t=Object(t);for(var e=0;e<(arguments.length<=1?0:arguments.length-1);e++){var n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if(n!=null){n=Object(n);for(var r in n)i.call(n,r)&&(t[r]=n[r])}}return t},is:function(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}},t=e,a.default=t},66),t.__d("ES5Array",[],function(e,t,n,r,o,a){e={isArray:function(t){return Object.prototype.toString.call(t)=="[object Array]"}},t=e,a.default=t},66),t.__d("ES5ArrayPrototype",[],function(e,t,n,r,o,a){e={indexOf:function(t,n){n=n;var e=this.length;for(n|=0,n<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1}},t=e,a.default=t},66),t.__d("ES7ArrayPrototype",["ES5Array","ES5ArrayPrototype"],function(e,t,n,r,o,a){var i=t("ES5Array").isArray,l=t("ES5ArrayPrototype").indexOf;function s(e){return Math.min(Math.max(u(e),0),Number.MAX_SAFE_INTEGER)}function u(e){return e=Number(e),isFinite(e)&&e!==0?c(e)*Math.floor(Math.abs(e)):e}function c(e){return e>=0?1:-1}e={includes:function(t){"use strict";if(t!==void 0&&i(this)&&!(typeof t=="number"&&isNaN(t)))return l.apply(this,arguments)!==-1;var e=Object(this),n=e.length?s(e.length):0;if(n===0)return!1;for(var r=arguments.length>1?u(arguments[1]):0,o=r<0?Math.max(n+r,0):r,a=isNaN(t)&&typeof t=="number";o<n;){var c=e[o];if(c===t||typeof c=="number"&&a&&isNaN(c))return!0;o++}return!1}},o.exports=e},null),t.__d("ES7Object",[],function(e,t,n,r,o,a){var i={}.hasOwnProperty;e={entries:function(t){if(t==null)throw new TypeError("Object.entries called on non-object");var e=[];for(var n in t)i.call(t,n)&&e.push([n,t[n]]);return e},values:function(t){if(t==null)throw new TypeError("Object.values called on non-object");var e=[];for(var n in t)i.call(t,n)&&e.push(t[n]);return e}},t=e,a.default=t},66),t.__d("ES7StringPrototype",[],function(e,t,n,r,o,a){e={trimLeft:function(){return this.replace(/^\s+/,"")},trimRight:function(){return this.replace(/\s+$/,"")}},t=e,a.default=t},66),t.__d("json3-3.3.2",[],function(e,d,n,r,o,a){"use strict";var t={},i={exports:t},l;function s(){(function(){var n=typeof l=="function"&&l.amd,r={function:!0,object:!0},o=r[typeof t]&&t&&!t.nodeType&&t,a=r[typeof window]&&window||this,s=o&&r[typeof i]&&i&&!i.nodeType&&typeof e=="object"&&e;s&&(s.global===s||s.window===s||s.self===s)&&(a=s);function u(e,t){e||(e=a.Object()),t||(t=a.Object());var n=e.Number||a.Number,o=e.String||a.String,i=e.Object||a.Object,l=e.Date||a.Date,s=e.SyntaxError||a.SyntaxError,c=e.TypeError||a.TypeError,d=e.Math||a.Math;e=e.JSON||a.JSON,typeof e=="object"&&e&&(t.stringify=e.stringify,t.parse=e.parse),e=i.prototype;var m=e.toString,p,_,f,g=new l(-0xc782b5b800cec);try{g=g.getUTCFullYear()==-109252&&g.getUTCMonth()===0&&g.getUTCDate()===1&&g.getUTCHours()==10&&g.getUTCMinutes()==37&&g.getUTCSeconds()==6&&g.getUTCMilliseconds()==708}catch(e){}function h(e){if(h[e]!==f)return h[e];var r;if(e=="bug-string-char-index")r=!1;else if(e=="json")r=h("json-stringify")&&h("json-parse");else{var a,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if(e=="json-stringify"){var s=t.stringify,u=typeof s=="function"&&g;if(u){(a=function(){return 1}).toJSON=a;try{u=s(0)==="0"&&s(new n)==="0"&&s(new o)=='""'&&s(m)===f&&s(f)===f&&s()===f&&s(a)==="1"&&s([a])=="[1]"&&s([f])=="[null]"&&s(null)=="null"&&s([f,m,null])=="[null,null,null]"&&s({a:[a,!0,!1,null,"\0\b\n\f\r	"]})==i&&s(null,a)==="1"&&s([1,2],null,1)=="[\n 1,\n 2\n]"&&s(new l(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&s(new l(864e13))=='"+275760-09-13T00:00:00.000Z"'&&s(new l(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&s(new l(-1))=='"1969-12-31T23:59:59.999Z"'}catch(e){u=!1}}r=u}if(e=="json-parse"){if(s=t.parse,typeof s=="function")try{if(s("0")===0&&!s(!1)){a=s(i);var c=a.a.length==5&&a.a[0]===1;if(c){try{c=!s('"	"')}catch(e){}if(c)try{c=s("01")!==1}catch(e){}if(c)try{c=s("1.")!==1}catch(e){}}}}catch(e){c=!1}r=c}}return h[e]=!!r}if(!h("json")){var y="[object Function]",C="[object Date]",b="[object Number]",v="[object String]",S="[object Array]",R="[object Boolean]",L=h("bug-string-char-index");if(!g)var E=d.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],I=function(t,n){return k[n]+365*(t-1970)+E((t-1969+(n=+(n>1)))/4)-E((t-1901+n)/100)+E((t-1601+n)/400)};if((p=e.hasOwnProperty)||(p=function(t){var e={},n;return(e.__proto__=null,e.__proto__={toString:1},e).toString!=m?p=function(t){var e=this.__proto__;return t=t in(this.__proto__=null,this),this.__proto__=e,t}:(n=e.constructor,p=function(t){var e=(this.constructor||n).prototype;return t in this&&!(t in e&&this[t]===e[t])}),p.call(this,t)}),_=function(t,n){var e=0,o,a;(o=function(){this.valueOf=0}).prototype.valueOf=0,a=new o;for(o in a)p.call(a,o)&&e++;return a=null,e?e==2?_=function(t,n){var e={},r=m.call(t)==y,o;for(o in t)!(r&&o=="prototype")&&!p.call(e,o)&&(e[o]=1)&&p.call(t,o)&&n(o)}:_=function(t,n){var e=m.call(t)==y,r,o;for(r in t)!(e&&r=="prototype")&&p.call(t,r)&&!(o=r==="constructor")&&n(r);(o||p.call(t,r="constructor"))&&n(r)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],_=function(t,n){var e=m.call(t)==y,o,i=!e&&typeof t.constructor!="function"&&r[typeof t.hasOwnProperty]&&t.hasOwnProperty||p;for(o in t)!(e&&o=="prototype")&&i.call(t,o)&&n(o);for(e=a.length;o=a[--e];i.call(t,o)&&n(o));}),_(t,n)},!h("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},D="000000",x=function(t,n){return(D+(n||0)).slice(-t)},$="\\u00",P=function(t){for(var e='"',n=0,r=t.length,o=!L||r>10,a=o&&(L?t.split(""):t);n<r;n++){var i=t.charCodeAt(n);switch(i){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=T[i];break;default:if(i<32){e+=$+x(2,i.toString(16));break}e+=o?a[n]:t.charAt(n)}}return e+'"'},N=function(t,n,r,o,a,i,l){var e,s,u,d,g,h,y,L,k,T;try{e=n[t]}catch(e){}if(typeof e=="object"&&e)if(s=m.call(e),s==C&&!p.call(e,"toJSON"))if(e>-1/0&&e<1/0){if(I){for(g=E(e/864e5),u=E(g/365.2425)+1970-1;I(u+1,0)<=g;u++);for(d=E((g-I(u,0))/30.42);I(u,d+1)<=g;d++);g=1+g-I(u,d),h=(e%864e5+864e5)%864e5,y=E(h/36e5)%24,L=E(h/6e4)%60,k=E(h/1e3)%60,h=h%1e3}else u=e.getUTCFullYear(),d=e.getUTCMonth(),g=e.getUTCDate(),y=e.getUTCHours(),L=e.getUTCMinutes(),k=e.getUTCSeconds(),h=e.getUTCMilliseconds();e=(u<=0||u>=1e4?(u<0?"-":"+")+x(6,u<0?-u:u):x(4,u))+"-"+x(2,d+1)+"-"+x(2,g)+"T"+x(2,y)+":"+x(2,L)+":"+x(2,k)+"."+x(3,h)+"Z"}else e=null;else typeof e.toJSON=="function"&&(s!=b&&s!=v&&s!=S||p.call(e,"toJSON"))&&(e=e.toJSON(t));if(r&&(e=r.call(n,t,e)),e===null)return"null";if(s=m.call(e),s==R)return""+e;if(s==b)return e>-1/0&&e<1/0?""+e:"null";if(s==v)return P(""+e);if(typeof e=="object"){for(u=l.length;u--;)if(l[u]===e)throw c();if(l.push(e),T=[],d=i,i+=a,s==S){for(g=0,u=e.length;g<u;g++)y=N(g,e,r,o,a,i,l),T.push(y===f?"null":y);L=T.length?a?"[\n"+i+T.join(",\n"+i)+"\n"+d+"]":"["+T.join(",")+"]":"[]"}else _(o||e,function(t){var n=N(t,e,r,o,a,i,l);n!==f&&T.push(P(t)+":"+(a?" ":"")+n)}),L=T.length?a?"{\n"+i+T.join(",\n"+i)+"\n"+d+"}":"{"+T.join(",")+"}":"{}";return l.pop(),L}};t.stringify=function(e,t,n){var o,a,i,l;if(r[typeof t]&&t){if((l=m.call(t))==y)a=t;else if(l==S){i={};for(var s=0,u=t.length,c;s<u;c=t[s++],l=m.call(c),(l==v||l==b)&&(i[c]=1));}}if(n)if((l=m.call(n))==b){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else l==v&&(o=n.length<=10?n:n.slice(0,10));return N("",(c={},c[""]=e,c),a,i,o,"",[])}}if(!h("json-parse")){var M=o.fromCharCode,w={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},A,F,O=function(){throw A=F=null,s()},B=function(){for(var e=F,t=e.length,n,r,o,a,i;A<t;)switch(i=e.charCodeAt(A),i){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return n=L?e.charAt(A):e[A],A++,n;case 34:for(n="@",A++;A<t;)if(i=e.charCodeAt(A),i<32)O();else if(i==92)switch(i=e.charCodeAt(++A),i){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:n+=w[i],A++;break;case 117:for(r=++A,o=A+4;A<o;A++)i=e.charCodeAt(A),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||O();n+=M("0x"+e.slice(r,A));break;default:O()}else{if(i==34)break;for(i=e.charCodeAt(A),r=A;i>=32&&i!=92&&i!=34;)i=e.charCodeAt(++A);n+=e.slice(r,A)}if(e.charCodeAt(A)==34)return A++,n;O();default:if(r=A,i==45&&(a=!0,i=e.charCodeAt(++A)),i>=48&&i<=57){for(i==48&&(i=e.charCodeAt(A+1),i>=48&&i<=57)&&O(),a=!1;A<t&&(i=e.charCodeAt(A),i>=48&&i<=57);A++);if(e.charCodeAt(A)==46){for(o=++A;o<t&&(i=e.charCodeAt(o),i>=48&&i<=57);o++);o==A&&O(),A=o}if(i=e.charCodeAt(A),i==101||i==69){for(i=e.charCodeAt(++A),(i==43||i==45)&&A++,o=A;o<t&&(i=e.charCodeAt(o),i>=48&&i<=57);o++);o==A&&O(),A=o}return+e.slice(r,A)}if(a&&O(),e.slice(A,A+4)=="true")return A+=4,!0;if(e.slice(A,A+5)=="false")return A+=5,!1;if(e.slice(A,A+4)=="null")return A+=4,null;O()}return"$"},W=function(t){var e,n;if(t=="$"&&O(),typeof t=="string"){if((L?t.charAt(0):t[0])=="@")return t.slice(1);if(t=="["){for(e=[];t=B(),t!="]";n||(n=!0))n&&(t==","?(t=B(),t=="]"&&O()):O()),t==","&&O(),e.push(W(t));return e}else if(t=="{"){for(e={};t=B(),t!="}";n||(n=!0))n&&(t==","?(t=B(),t=="}"&&O()):O()),(t==","||typeof t!="string"||(L?t.charAt(0):t[0])!="@"||B()!=":")&&O(),e[t.slice(1)]=W(B());return e}O()}return t},q=function(t,n,r){r=U(t,n,r),r===f?delete t[n]:t[n]=r},U=function(t,n,r){var e=t[n],o;if(typeof e=="object"&&e)if(m.call(e)==S)for(o=e.length;o--;)q(e,o,r);else _(e,function(t){q(e,t,r)});return r.call(t,n,e)};t.parse=function(e,t){var n;return A=0,F=""+e,e=W(B()),B()!="$"&&O(),A=F=null,t&&m.call(t)==y?U((n={},n[""]=e,n),"",t):e}}}return t.runInContext=u,t}if(o&&!n)u(a,o);else{var c=a.JSON,d=a.JSON3,m=!1,p=u(a,a.JSON3={noConflict:function(){return m||(m=!0,a.JSON=c,a.JSON3=d,c=d=null),p}});a.JSON={parse:p.parse,stringify:p.stringify}}n&&l(function(){return p})}).call(this)}var u=!1;function c(){return u||(u=!0,s()),i.exports}function d(e){switch(e){case void 0:return c()}}o.exports=d},null),t.__d("json3",["json3-3.3.2"],function(e,t,n,r,o,a){o.exports=t("json3-3.3.2")()},null),t.__d("ES",["ES5FunctionPrototype","ES5StringPrototype","ES6Array","ES6ArrayPrototype","ES6Number","ES6Object","ES7ArrayPrototype","ES7Object","ES7StringPrototype","json3"],function(l,s,n,r,o,a,i){var e={}.toString,t={"JSON.stringify":n("json3").stringify,"JSON.parse":n("json3").parse};r={"Function.prototype":n("ES5FunctionPrototype"),"String.prototype":n("ES5StringPrototype")},o={Object:n("ES6Object"),"Array.prototype":n("ES6ArrayPrototype"),Number:n("ES6Number"),Array:n("ES6Array")},a={Object:n("ES7Object"),"String.prototype":n("ES7StringPrototype"),"Array.prototype":n("ES7ArrayPrototype")};function l(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n],o=n.split(".");if(o.length===2){var a=o[0],i=o[1];if(!a||!i||!window[a]||!window[a][i]){var l=a?window[a]:"-",s=a&&window[a]&&i?window[a][i]:"-";throw new Error("Unexpected state (t11975770): "+(a+", "+i+", "+l+", "+s+", "+n))}}a=o.length===2?window[o[0]][o[1]]:window[n];for(i in r)if(Object.prototype.hasOwnProperty.call(r,i)){if(typeof r[i]!="function"){t[n+"."+i]=r[i];continue}l=a[i],t[n+"."+i]=l&&/\{\s+\[native code\]\s\}/.test(l)?l:r[i]}}}l(r),l(o),l(a);function s(n,r,o){var a=o?e.call(n).slice(8,-1)+".prototype":n,i;if(Array.isArray(n))if(typeof a=="string")i=t[a+"."+r];else throw new Error("Can't polyfill "+r+" directly on an Array.");else if(typeof a=="string")i=t[a+"."+r];else{if(typeof n=="string")throw new Error("Can't polyfill "+r+" directly on a string.");i=n[r]}if(typeof i=="function"){for(var l=arguments.length,s=new Array(l>3?l-3:0),u=3;u<l;u++)s[u-3]=arguments[u];return i.apply(n,s)}else if(i)return i;throw new Error("Polyfill "+a+" does not have implementation of "+r)}i.default=s},98),t.__d("ES5Object",[],function(e,t,n,r,o,a){var i={}.hasOwnProperty;e={create:function(t){var e=typeof t;if(e!="object"&&e!="function")throw new TypeError("Object prototype may only be a Object or null");return l.prototype=t,new l},keys:function(t){var e=typeof t;if(e!="object"&&e!="function"||t===null)throw new TypeError("Object.keys called on non-object");e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},freeze:function(t){return t},isFrozen:function(){return!1},seal:function(t){return t}};function l(){}t=e,a.default=t},66),t.__d("sdk.babelHelpers",["ES5FunctionPrototype","ES5Object","ES6Object"],function(e,t,n,r,o,a){var i={},l=Object.prototype.hasOwnProperty;i.inheritsLoose=function(e,n){return t("ES6Object").assign(e,n),e.prototype=t("ES5Object").create(n&&n.prototype),e.prototype.constructor=e,e.__superConstructor__=n,n},i.inherits=i.inheritsLoose,i.wrapNativeSuper=function(e){var t=typeof Map=="function"?new Map:void 0;return i.wrapNativeSuper=function(e){if(e===null)return null;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(e))return t.get(e);t.set(e,n)}i.inheritsLoose(n,e);function n(){e.apply(this,arguments)}return n},i.wrapNativeSuper(e)},i.assertThisInitialized=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},i._extends=t("ES6Object").assign,i.extends=i._extends,i.construct=function(e,t){var n=[null];return n.push.apply(n,t),new(Function.prototype.bind.apply(e,n))},i.objectWithoutPropertiesLoose=function(e,t){var n={};for(var r in e)!l.call(e,r)||t.indexOf(r)>=0||(n[r]=e[r]);return n},i.objectWithoutProperties=i.objectWithoutPropertiesLoose,i.taggedTemplateLiteralLoose=function(e,t){return t||(t=e.slice(0)),e.raw=t,e},i.bind=t("ES5FunctionPrototype").bind,o.exports=i},null);var c=t.require("ES"),d=t.require("sdk.babelHelpers");(function(e,t){var n="keys",r="values",o="entries",a=(function(){var e=l(Array),t;return e||(t=(function(){"use strict";function e(e,t){this.$1=e,this.$2=t,this.$3=0}var t=e.prototype;return t.next=function(){if(this.$1==null)return{value:void 0,done:!0};var e=this.$1,t=this.$1.length,a=this.$3,i=this.$2;if(a>=t)return this.$1=void 0,{value:void 0,done:!0};if(this.$3=a+1,i===n)return{value:a,done:!1};if(i===r)return{value:e[a],done:!1};if(i===o)return{value:[a,e[a]],done:!1}},t[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=function(){return this},e})()),{keys:e?function(e){return e.keys()}:function(e){return new t(e,n)},values:e?function(e){return e.values()}:function(e){return new t(e,r)},entries:e?function(e){return e.entries()}:function(e){return new t(e,o)}}})(),i=(function(){var e=l(String),t;return e||(t=(function(){"use strict";function e(e){this.$1=e,this.$2=0}var t=e.prototype;return t.next=function(){if(this.$1==null)return{value:void 0,done:!0};var e=this.$2,t=this.$1,n=t.length;if(e>=n)return this.$1=void 0,{value:void 0,done:!0};var r=t.charCodeAt(e);return r<55296||r>56319||e+1===n?r=t[e]:(n=t.charCodeAt(e+1),n<56320||n>57343?r=t[e]:r=t[e]+t[e+1]),this.$2=e+r.length,{value:r,done:!1}},t[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=function(){return this},e})()),{keys:function(){throw TypeError("Strings default iterator doesn't implement keys.")},values:e?function(e){return e[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]()}:function(e){return new t(e)},entries:function(){throw TypeError("Strings default iterator doesn't implement entries.")}}})();function l(e){return typeof e.prototype[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=="function"&&typeof e.prototype.values=="function"&&typeof e.prototype.keys=="function"&&typeof e.prototype.entries=="function"}var s=(function(){"use strict";function e(e,t){this.$1=e,this.$2=t,this.$3=Object.keys(e),this.$4=0}var t=e.prototype;return t.next=function(){var e=this.$3.length,t=this.$4,a=this.$2,i=this.$3[t];if(t>=e)return this.$1=void 0,{value:void 0,done:!0};if(this.$4=t+1,a===n)return{value:i,done:!1};if(a===r)return{value:this.$1[i],done:!1};if(a===o)return{value:[i,this.$1[i]],done:!1}},t[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=function(){return this},e})(),u={keys:function(t){return new s(t,n)},values:function(t){return new s(t,r)},entries:function(t){return new s(t,o)}};function d(e,t){return typeof e=="string"?i[t||r](e):Array.isArray(e)?a[t||r](e):e[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]?e[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]():u[t||o](e)}c("Object","assign",!1,d,{KIND_KEYS:n,KIND_VALUES:r,KIND_ENTRIES:o,keys:function(t){return d(t,n)},values:function(t){return d(t,r)},entries:function(t){return d(t,o)},generic:u.entries}),e.FB_enumerate=d})(typeof n=="object"?n:typeof this=="object"?this:typeof window=="object"?window:typeof e=="object"?e:{}),t.__d("JSSDKCanvasPrefetcherConfig",[],{enabled:!0,excludedAppIds:[0x83d70a64a992,768691303149786,320528941393723],sampleRate:500}),t.__d("JSSDKConfig",[],{features:{allow_non_canvas_app_events:!1,xd_timeout:{rate:1,value:6e4},use_bundle:!1,should_log_response_error:!0,https_only_enforce_starting:25388092e5,https_only_learn_more:"https://developers.facebook.com/blog/post/2018/06/08/enforce-https-facebook-login/",https_only_scribe_logging:{rate:.001},log_perf:{rate:.001},legacy_xd_init:{rate:0},use_x_xd:{rate:100},cache_auth_response:{rate:100},oauth_funnel_logger_version:1,iab_login_status:!0,iab_login_android_support_version:"277.0",force_popup_to_canvas_apps_with_id:[],force_popup_to_all_canvas_app:!1,max_oauth_dialog_retries:{rate:100,value:99999},idle_callback_wait_time_ms:3e3,chat_plugin_facade_timeout_ms:8e3,chat_plugin_facade_enabled_pageids:["102493178867330","107331571710078","1032787970130843","107771111665395","261907812360345","101305975654752","275483104252055","101664622285042","112682113428700","271628573687012","385757598521443","100545935690488"],should_enable_ig_login_status_fetch:!0,log_cookies_usage:{rate:.1},allow_shadow_dom_for_apps_with_id:[520916077950649,0x8a901293cafc,0x782088d8b564,468663283258845,409976882430412,0xaca9ca662386,360467581347,274266067164],allow_shadow_dom:!0,xfoa_login_enabled:!1}}),t.__d("JSSDKCssConfig",[],{rules:".fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}\n.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:'lucida grande', tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_dialog_advanced{border-radius:8px;padding:10px}.fb_dialog_content{background:#fff;color:#373737}.fb_dialog_close_icon{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{left:5px;right:auto;top:5px}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://connect.facebook.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://connect.facebook.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{height:100%;left:0;margin:0;overflow:visible;position:absolute;top:-10000px;transform:none;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://connect.facebook.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{background:none;height:auto;min-height:initial;min-width:initial;width:auto}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{clear:both;color:#fff;display:block;font-size:18px;padding-top:20px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .4);bottom:0;left:0;min-height:100%;position:absolute;right:0;top:0;width:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_mobile .fb_dialog_iframe{position:sticky;top:0}.fb_dialog_content .dialog_header{background:linear-gradient(from(#738aba), to(#2c4987));border-bottom:1px solid;border-color:#043b87;box-shadow:white 0 1px 1px -1px inset;color:#fff;font:bold 14px Helvetica, sans-serif;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:linear-gradient(from(#4267B2), to(#2a4887));background-clip:padding-box;border:1px solid #29487d;border-radius:3px;display:inline-block;line-height:18px;margin-top:3px;max-width:85px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{background:none;border:none;color:#fff;font:bold 12px Helvetica, sans-serif;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://connect.facebook.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #4a4a4a;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f5f6f7;border:1px solid #4a4a4a;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://connect.facebook.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-position:50% 50%;background-repeat:no-repeat;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}\n.fb_mpn_mobile_landing_page_slide_out{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_out_from_left{animation-duration:200ms;animation-name:fb_mpn_landing_page_slide_out_from_left;transition-timing-function:ease-in}.fb_mpn_mobile_landing_page_slide_up{animation-duration:500ms;animation-name:fb_mpn_landing_page_slide_up;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_in{animation-duration:300ms;animation-name:fb_mpn_bounce_in;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out{animation-duration:300ms;animation-name:fb_mpn_bounce_out;transition-timing-function:ease-in}.fb_mpn_mobile_bounce_out_v2{animation-duration:300ms;animation-name:fb_mpn_fade_out;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_v2{animation-duration:300ms;animation-name:fb_bounce_in_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_in_from_left{animation-duration:300ms;animation-name:fb_bounce_in_from_left;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_v2{animation-duration:300ms;animation-name:fb_bounce_out_v2;transition-timing-function:ease-in}.fb_customer_chat_bounce_out_from_left{animation-duration:300ms;animation-name:fb_bounce_out_from_left;transition-timing-function:ease-in}.fb_invisible_flow{display:inherit;height:0;overflow-x:hidden;width:0}@keyframes fb_mpn_landing_page_slide_out{0%{margin:0 12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;margin:0 24px;width:60px}}@keyframes fb_mpn_landing_page_slide_out_from_left{0%{left:12px;width:100% - 24px}60%{border-radius:18px}100%{border-radius:50%;left:12px;width:60px}}@keyframes fb_mpn_landing_page_slide_up{0%{bottom:0;opacity:0}100%{bottom:24px;opacity:1}}@keyframes fb_mpn_bounce_in{0%{opacity:.5;top:100%}100%{opacity:1;top:0}}@keyframes fb_mpn_fade_out{0%{bottom:30px;opacity:1}100%{bottom:0;opacity:0}}@keyframes fb_mpn_bounce_out{0%{opacity:1;top:0}100%{opacity:.5;top:100%}}@keyframes fb_bounce_in_v2{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}50%{transform:scale(1.03, 1.03);transform-origin:bottom right}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}}@keyframes fb_bounce_in_from_left{0%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}50%{transform:scale(1.03, 1.03);transform-origin:bottom left}100%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}}@keyframes fb_bounce_out_v2{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom right}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom right}}@keyframes fb_bounce_out_from_left{0%{opacity:1;transform:scale(1, 1);transform-origin:bottom left}100%{opacity:0;transform:scale(0, 0);transform-origin:bottom left}}@keyframes slideInFromBottom{0%{opacity:.1;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}@keyframes slideInFromBottomDelay{0%{opacity:0;transform:translateY(100%)}97%{opacity:0;transform:translateY(100%)}100%{opacity:1;transform:translateY(0)}}",components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.customer_chat_plugin_iframe"]}),t.__d("JSSDKRuntimeConfig",[],{locale:"en_US",revision:"1007242444",rtl:!1,sdkab:null,sdkns:"",sdkurl:"https://connect.facebook.net/en_US/sdk.js",scribeurl:"https://www.facebook.com/platform/scribe_endpoint.php/"}),t.__d("JSSDKXDConfig",[],{XXdUrl:"/x/connect/xd_arbiter/?version=C-8998888-1007242444-20230404094308",useCdn:!0}),t.__d("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",business:"business.facebook.com",api:"api.facebook.com",api_read:"api-read.facebook.com",graph:"graph.facebook.com",an:"an.facebook.com",fbcdn:"static.xx.fbcdn.net",cdn:"staticxx.facebook.com",graph_facebook:"graph.facebook.com",graph_gaming:"graph.fb.gg",graph_instagram:"graph.instagram.com",www_instagram:"www.instagram.com",social_plugin:"socialplugin.facebook.net"}),t.__d("JSSDKShadowCssConfig",[],{"css:fb.shadow.css.fb_login_button":".fb_login_button_container{align-content:center;align-items:center;border:0;color:#fff;display:flex;font-family:'Roboto', 'Freight Sans LF Pro', Helvetica, Arial, 'Lucida Grande', sans-serif;font-weight:bold;margin:auto}.fb-button-main-element{display:flex;flex-wrap:nowrap;overflow:hidden}.fb-iframe-overlay{display:flex}.fb-button-main-element:hover{cursor:pointer}.fb-button-main-element:focus{filter:brightness(80%)}.fb_button_label_element{align-items:center;display:flex;font-weight:bold;justify-content:center}.fb_button_label{margin:auto;pointer-events:none}.fb_button_svg_logo{height:1.33em;margin-left:.4em;margin-right:.4em;padding:.065em}.login_fb_logo .f_logo_f{fill:transparent}.single_button_svg_logo{margin-bottom:.08em}"}),t.__d("DOMWrapper",[],function(r,o,l,s,a,i){"use strict";var t,n;function r(e){t=e}function o(){return t||document.body}function l(e){n=e}function s(){return n||e}i.setRoot=r,i.getRoot=o,i.setWindow=l,i.getWindow=s},66),t.__d("dotAccess",[],function(e,t,n,r,o,a){function e(e,t,n){t=t.split(".");do{var r=t.shift();e=e[r]||n&&(e[r]={})}while(t.length&&e);return e}a.default=e},66),t.__d("guid",[],function(e,t,n,r,o,a){function e(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}a.default=e},66),t.__d("wrapFunction",[],function(i,t,n,r,o,a){var e={};function i(t,n,r){var o=n in e?e[n](t,r):t;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.apply(this,t)}}i.setWrapper=function(t,n){e[n]=t},a.default=i},66),t.__d("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(s,u,n,r,o,a,i){var e,t;function l(o){e=n("dotAccess")(r("DOMWrapper").getWindow(),o,!0),t=o}function s(r,o){e||l("__globalCallbacks");var a=n("guid")();return e[a]=n("wrapFunction")(r,"entry",(r=o)!=null?r:"GlobalCallback"),t+"."+a}function u(n){n=n.substring(t.length+1),delete e[n]}i.setPrefix=l,i.create=s,i.remove=u},98),t.__d("Log",[],function(i,t,n,r,o,a){"use strict";var e=-1;t={DEBUG:3,INFO:2,WARNING:1,ERROR:0},n=function(n,r,o){for(var t=arguments.length,a=new Array(t>3?t-3:0),i=3;i<t;i++)a[i-3]=arguments[i];var l=0,s=o.replace(/%s/g,function(){return String(a[l++])}),u=window.console;u&&e>=r&&u[n in u?n:"log"](s)};function i(t){e=t}r=c(n,"bind",!0,null,"debug",t.DEBUG),o=c(n,"bind",!0,null,"info",t.INFO);var l=c(n,"bind",!0,null,"warn",t.WARNING),s=c(n,"bind",!0,null,"error",t.ERROR);a.Level=t,a.log=n,a.setLevel=i,a.debug=r,a.info=o,a.warn=l,a.error=s},66),t.__d("sdk.UA",[],function(e,t,n,r,o,a){e=navigator.userAgent;var i={iphone:/\b(iPhone|iP[ao]d)/.test(e),ipad:/\b(iP[ao]d)/.test(e),android:/Android/i.test(e),nativeApp:/FBAN\/\w+;/i.test(e)&&!/FBAN\/mLite;/.test(e),nativeAndroidApp:/FB_IAB\/\w+;/i.test(e),nativeInstagramApp:/Instagram/i.test(e),nativeMessengeriOSApp:/MessengerForiOS/i.test(e),nativeMessengerAndroidApp:/Orca\-Android/i.test(e),ucBrowser:/UCBrowser/i.test(e)},l=/Mobile/i.test(e),s={ie:NaN,firefox:NaN,chrome:NaN,webkit:NaN,osx:NaN,edge:NaN,operaMini:NaN,ucWeb:NaN};t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),t&&(s.ie=t[1]?parseFloat(t[1]):t[4]?parseFloat(t[4]):NaN,s.firefox=t[2]||"",s.webkit=t[3]||"",t[3]&&(n=/(?:Chrome\/(\d+\.\d+))/.exec(e),s.chrome=n?n[1]:"",r=/(?:Edge\/(\d+\.\d+))/.exec(e),s.edge=r?r[1]:"")),o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e),o&&(s.osx=o[1]),t=/(?:Opera Mini\/(\d+(?:\.\d+)?))/.exec(e),t&&(s.operaMini=t[1]),n=/(?:UCWEB\/(\d+(?:\.\d+))?)/.exec(e),n&&(s.ucWeb=n[1]||"2.0");function u(e){return String(e).split(".").map(function(e){return parseFloat(e)})}var c={};Object.keys(s).map(function(e){var t=function(){return parseFloat(s[e])};t.getVersionParts=function(){return u(s[e])},c[e]=t}),Object.keys(i).map(function(e){c[e]=function(){return i[e]}}),c.mobile=function(){return i.iphone||i.ipad||i.android||l},c.mTouch=function(){return i.android||i.iphone||i.ipad},c.facebookInAppBrowser=function(){return i.nativeApp||i.nativeAndroidApp},c.inAppBrowser=function(){return i.nativeApp||i.nativeAndroidApp||i.nativeInstagramApp},c.mBasic=function(){return!!(s.ucWeb||s.operaMini)},c.instagram=function(){return i.nativeInstagramApp},c.messenger=function(){return i.nativeMessengeriOSApp||i.nativeMessengerAndroidApp},c.isSupportedIABVersion=function(e){if(!c.facebookInAppBrowser())return!1;var t=/(?:FBAV\/(\d+(\.\d+)+))/.exec(navigator.userAgent);return!!(t&&(t=parseFloat(t[1]),t>=e))},r=c,a.default=r},66),t.__d("sdk.domReady",[],function(t,i,n,r,o,a){var e;n="readyState"in document?/loaded|complete/.test(document.readyState):!!document.body;function t(){if(e){for(var t;t=e.shift();)t();e=null}}function i(t){if(e){e.push(t);return}else t()}n||(e=[],document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",t),window.attachEvent("onload",t))),a.default=i},67),t.__d("sdk.Content",["Log","sdk.UA","sdk.domReady"],function(c,t,n,r,o,a,i){"use strict";var e,l;function s(t,o){return o||(e?o=e:(e=o=document.getElementById("fb-root"),o||(r("Log").warn('The "fb-root" div has not been created, auto-creating'),e=o=document.createElement("div"),o.id="fb-root",n("sdk.UA").ie()||!document.body?n("sdk.domReady")(function(){o&&document.body&&document.body.appendChild(o)}):document.body.appendChild(o)),o.className+=" fb_reset")),o.appendChild(t),t}function u(e){if(!l){l=document.createElement("div");var t=l.style;t.position="absolute",t.top="-10000px",t.width="0",t.height="0",l=s(l)}return s(e,l)}function c(e,t){var n=document.createElement("form");n.action=e.url,n.target=e.target,n.method=t?"GET":"POST",u(n);for(t in e.params)if(Object.prototype.hasOwnProperty.call(e.params,t)){var r=e.params[t];if(r!=null){var o=document.createElement("input");o.name=t,o.value=r,n.appendChild(o)}}n.submit(),n.parentNode&&n.parentNode.removeChild(n)}i.append=s,i.appendHidden=u,i.submitToTarget=c},98),t.__d("sdk.DOM",["guid","sdk.domReady"],function(o,a,n,s,u,d,i){var e={},t={};function r(e,t){return e=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,"")),e!=null?String(e):null}function o(e,t){return e=r(e,t),e!=null?/^(true|1|yes|on)$/.test(e):null}function a(e,t){try{e.innerHTML=t}catch(e){throw new Error("Could not set innerHTML : "+e.message)}}function l(e,t){return e=" "+e.className+" ",e.indexOf(" "+t+" ")>=0}function s(e,t){e!=null&&(l(e,t)||(e.className=e.className+" "+t))}function u(e,t){e!=null&&(t=new RegExp("\\s*"+t,"g"),e.className=e.className.replace(t,"").trim())}function d(e,t,n){return n===void 0&&(n="*"),t=t||document.body,t==null?[]:(n=n||"*",c("Array","from",!1,t.querySelectorAll(n+"."+e)))}function m(e,t){t=v(t);var n=document.defaultView.getComputedStyle(e).getPropertyValue(t);return n=e.style.getPropertyValue(t),/background-position?/.test(t)&&/top|left/.test(n)&&(n="0%"),n}function p(e,t,n){e.style.setProperty(v(t),n)}function _(e,t,n,r,o){e=e.styleSheets;for(var a=0;a<e.length;a++){var i;if(e[a].ownerNode instanceof HTMLElement&&e[a].ownerNode.dataset!=null&&((i=e[a].ownerNode.dataset.fbcssmodules)==null?void 0:i.indexOf(t))!==-1&&(i=e[a],i instanceof CSSStyleSheet)){for(var l=0;l<i.cssRules.length;l++){var s=i.cssRules[l];if(s instanceof CSSStyleRule&&s.selectorText===n){s.style.setProperty(v(r),o);return}}i.insertRule(n+"{"+v(r)+":"+((s=o)!=null?s:"")+"}",0)}}}function f(r,o,a){var i;if(a!=null&&a.nodeType===11){var l=a;l.host.id!=null&&t[l.host.id]!=null?i=t[l.host.id]:(l.host.id||(l.host.id=n("guid")()),i={},t[l.host.id]=i)}else i=e;l=!0;for(var s=0,u;u=o[s++];)u in i||(l=!1,i[u]=!0);if(!l){u=document.createElement("style"),u.type="text/css",u.textContent=r;var c="";o.forEach(function(e){return c+=e+" "}),u.setAttribute("data-fbcssmodules",c.trim()),a==null||a===document?document.getElementsByTagName("head")[0].appendChild(u):a.appendChild(u)}}function g(e){return!e||!e.parentNode?null:e.parentNode.removeChild(e)}function h(){var e,t=document.documentElement&&document.compatMode=="CSS1Compat"?document.documentElement:document.body;return{scrollTop:(t==null?void 0:t.scrollTop)||((e=document.body)==null?void 0:e.scrollTop),scrollLeft:(t==null?void 0:t.scrollLeft)||((e=document.body)==null?void 0:e.scrollLeft),width:window.innerWidth?window.innerWidth:t==null?void 0:t.clientWidth,height:window.innerHeight?window.innerHeight:t==null?void 0:t.clientHeight}}var y=/[A-Z]/g,C=/^\([^-]\)-/,b=["o","moz","ms","webkit"];function v(e){e=e.replace(y,"-$&").toLowerCase();var t=e.match(C);return t&&b.indexOf(t[1])!==-1&&(e="-"+e),e}i.getAttr=r,i.getBoolAttr=o,i.html=a,i.containsCss=l,i.addCss=s,i.removeCss=u,i.getByClass=d,i.getStyle=m,i.setStyle=p,i.updateOrAddCssRule=_,i.addCssRules=f,i.remove=g,i.getViewportInfo=h,i.ready=n("sdk.domReady")},98),t.__d("ManagedError",[],function(e,t,n,r,o,a){e=(function(e){d.inheritsLoose(t,e);function t(t,n){var r;return r=e.call(this,t!=null?t:"")||this,t!=null?r.message=t:r.message="",r.innerError=n,r}return t})(d.wrapNativeSuper(Error)),a.default=e},66),t.__d("normalizeError",["sdk.UA"],function(e,t,n,r,o,a,i){"use strict";function e(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e,e=/([\w:\.\/]+\.js):(\d+)/.exec(e.stack),n("sdk.UA").chrome()&&e&&(t.script=e[1],t.line=parseInt(e[2],10));for(e in t)t[e]==null&&delete t[e];return t}i.default=e},98),t.__d("ObservableMixin",[],function(e,t,n,r,o,a){function e(){this.__observableEvents={}}e.prototype={inform:function(t){for(var e=this,n=Array.prototype.slice.call(arguments,1),r=Array.prototype.slice.call(this.getSubscribers(t)),o=function(){if(r[a]===null)return 1;try{r[a].apply(e,n)}catch(e){window.setTimeout(function(){throw e},0)}},a=0;a<r.length;a++)o();return this},getSubscribers:function(t){return this.__observableEvents[t]||(this.__observableEvents[t]=[])},clearSubscribers:function(t){return t&&(this.__observableEvents[t]=[]),this},subscribe:function(t,n){return t=this.getSubscribers(t),t.push(n),this},unsubscribe:function(t,n){t=this.getSubscribers(t);for(var e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}return this}},o.exports=e},null),t.__d("AssertionError",["ManagedError"],function(e,t,n,r,o,a,i){e=(function(e){d.inheritsLoose(t,e);function t(t){return e.call(this,t)||this}return t})(n("ManagedError")),i.default=e},98),t.__d("sprintf",[],function(e,t,n,r,o,a){function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0;return e.replace(/%s/g,function(){return String(n[o++])})}a.default=e},66),t.__d("Assert",["AssertionError","sprintf"],function(s,t,n,r,o,a,i){function e(e,t){if(typeof e!="boolean"||e===!1)throw new(n("AssertionError"))(t);return e}function l(t,r,o){var a;if(r===void 0)a="undefined";else if(r===null)a="null";else{var i=Object.prototype.toString.call(r);i=/\s(\w*)/.exec(i),a=i==null?typeof i:i[1].toLowerCase()}return e(t.indexOf(a)!==-1,(i=o)!=null?i:n("sprintf")("Expression is of type %s, not %s",a,t)),r}function s(t,n,r){return e(n instanceof t,(t=r)!=null?t:"Expression not instance of type"),n}function u(e,t){d["is"+e]=t,d["maybe"+e]=function(e,n){return e==null?e:t(e,n)}}t=function(t,n){return t};var d={isInstanceOf:s,isTrue:e,isTruthy:function(n,r){return e(!!n,r)},isBoolean:t,isFunction:t,isNumber:t,isObject:t,isString:t,isUndefined:t,maybeObject:t,maybeNumber:t,maybeFunction:t};["Boolean","Function","Number","Object","String","Undefined"].forEach(function(e){u(e,c(l,"bind",!0,null,e.toLowerCase()))}),r=d,i.default=r},98),t.__d("Type",["Assert"],function(e,t,n,r,o,a){function i(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function l(e,t){if(t instanceof e)return!0;if(t instanceof i){for(var n=0;n<t.__mixins.length;n++)if(t.__mixins[n]==e)return!0}return!1}function s(e,t){var n=e.prototype;for(Array.isArray(t)||(t=[t]),e=0;e<t.length;e++){var r=t[e];typeof r=="function"&&(n.__mixins.push(r),r=r.prototype),Object.keys(r).forEach(function(e){n[e]=r[e]})}}function u(e,n,r){var o=n&&Object.prototype.hasOwnProperty.call(n,"constructor")?n.constructor:function(){this.parent.apply(this,arguments)};if(t("Assert").isFunction(o),e&&!(e.prototype instanceof i))throw new Error("parent type does not inherit from Type");e=e||i;function a(){}return a.prototype=e.prototype,o.prototype=new a,n&&c("Object","assign",!1,o.prototype,n),o.prototype.constructor=o,o.parent=e,o.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[],r&&s(o,r),o.prototype.parent=function(){this.parent=e.prototype.parent,e.apply(this,arguments)},o.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},o.extend=function(e,t){return u(this,e,t)},o}c("Object","assign",!1,i.prototype,{instanceOf:function(t){return l(t,this)}}),c("Object","assign",!1,i,{extend:function(t,n){return typeof t=="function"?u.apply(null,arguments):u(null,t,n)},instanceOf:l}),o.exports=i},null),t.__d("sdk.Model",["ObservableMixin","Type"],function(e,t,n,r,o,a,i){"use strict";e=n("Type").extend({constructor:function(t){this.parent();var e={},n=this;Object.keys(t).forEach(function(r){e[r]=t[r],n["set"+r]=function(t){return t===e[r]||(e[r]=t,n.inform(r+".change",t)),n},n["get"+r]=function(){return e[r]}})}},n("ObservableMixin")),t=e,i.default=t},98),t.__d("sdk.Runtime",["JSSDKRuntimeConfig","sdk.Model"],function(e,t,n,r,o,a,i){var l={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},s=new(n("sdk.Model"))({AccessToken:"",AutoLogAppEvents:!1,ClientID:"",CookieUserID:"",EnforceHttps:!1,Environment:l.UNKNOWN,FamilyLoginLoaded:!1,GraphDomain:"",Initialized:!1,IsSPIN:!!r("JSSDKRuntimeConfig").isSPIN,IsVersioned:!1,KidDirectedSite:void 0,Locale:r("JSSDKRuntimeConfig").locale,LoggedIntoFacebook:void 0,LoginStatus:void 0,Revision:r("JSSDKRuntimeConfig").revision,Rtl:r("JSSDKRuntimeConfig").rtl,Scope:void 0,SDKAB:r("JSSDKRuntimeConfig").sdkab,SDKUrl:r("JSSDKRuntimeConfig").sdkurl,SDKNS:r("JSSDKRuntimeConfig").sdkns,ShouldLoadFamilyLogin:!1,UseCookie:!1,UseLocalStorage:!0,UserID:"",Version:void 0});c("Object","assign",!1,s,{ENVIRONMENTS:l,isEnvironment:function(t){var e=this.getEnvironment();return(t|e)===e},isCanvasEnvironment:function(){return this.isEnvironment(l.CANVAS)||this.isEnvironment(l.PAGETAB)}}),(function(){var e=/app_runner/.test(window.name)?l.PAGETAB:/iframe_canvas/.test(window.name)?l.CANVAS:l.UNKNOWN;(e|l.PAGETAB)===e&&(e|=l.CANVAS),s.setEnvironment(e)})(),e=s,i.default=e},98),t.__d("sdk.ErrorHandler",["ManagedError","normalizeError","sdk.Runtime","wrapFunction"],function(e,t,n,r,o,a,i){function e(e,t){var r="";function o(e){var n=e._originalError;throw delete e._originalError,t(e),n}function a(t,a){return function(){if(!e)return t.apply(this,arguments);try{return r=a,t.apply(this,arguments)}catch(e){if(e instanceof n("ManagedError"))throw e;var i=n("normalizeError")(e);if(!i.script){var l=/.*\/([^?#]+)/.exec(n("sdk.Runtime").getSDKUrl());i.script=l!==null?l[1]:""}i.entry=a;var s=Array.prototype.slice.call(arguments).map(function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});i.args=c("JSON","stringify",!1,s).substring(0,200),o(i)}finally{r=""}}}function i(e){return e.__wrapper||(e.__wrapper=function(){try{return e.apply(this,arguments)}catch(e){return window.setTimeout(function(){throw e},0),!1}}),e.__wrapper}function l(e){try{return e&&e.callee&&e.callee.caller?e.callee.caller.name:""}catch(e){return""}}function s(e,t){return function(o,a){var i=t+":"+(r||"[global]")+":"+(o.name||"[anonymous]"+l(arguments));return e(n("wrapFunction")(o,"entry",i),a)}}return e&&(setTimeout=s(setTimeout,"setTimeout"),setInterval=s(setInterval,"setInterval"),n("wrapFunction").setWrapper(a,"entry")),{guard:a,unguard:i}}i.create=e},98),t.__d("QueryString",[],function(t,i,n,r,o,a){function e(e){var t=[];return Object.keys(e).sort().forEach(function(n){var r=e[n];if(r!==void 0){if(r===null){t.push(n);return}t.push(encodeURIComponent(n)+"="+encodeURIComponent(String(r)))}}),t.join("&")}function t(e,t){t===void 0&&(t=!1);var n={};if(e==="")return n;e=e.split("&");for(var r=0;r<e.length;r++){var o=e[r].split("=",2),a=decodeURIComponent(o[0]);if(t&&Object.prototype.hasOwnProperty.call(n,a))throw new URIError("Duplicate key: "+a);n[a]=o.length===2?decodeURIComponent(o[1]):null}return n}function i(t,n){return t+(t.indexOf("?")!==-1?"&":"?")+(typeof n=="string"?n:e(n))}n={encode:e,decode:t,appendToUrl:i},a.default=n},66),t.__d("Env",[],function(e,t,n,r,o,a){t={ajaxpipe_token:null,compat_iframe_token:null,iframeKey:"",iframeTarget:"",iframeToken:"",isCQuick:!1,jssp_header_sent:!1,jssp_targeting_enabled:!1,start:Date.now(),nocatch:!1,useTrustedTypes:!1,isTrustedTypesReportOnly:!1,enableDefaultTrustedTypesPolicy:!1,ig_server_override:"",ig_mqtt_wss_endpoint:"",ig_mqtt_polling_endpoint:"",scheduledCSSJSScheduler:!1},e.Env&&c("Object","assign",!1,t,e.Env),e.Env=t,n=t,a.default=n},66),t.__d("fb-error-lite",[],function(i,t,n,r,o,a){"use strict";var e={PREVIOUS_FILE:1,PREVIOUS_FRAME:2,PREVIOUS_DIR:3,FORCED_KEY:4};function i(t){var n=new Error(t);if(n.stack===void 0)try{throw n}catch(e){}n.messageFormat=t;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return n.messageParams=o.map(function(e){return String(e)}),n.taalOpcodes=[e.PREVIOUS_FRAME],n}t={err:i,TAALOpcode:e},a.default=t},66),t.__d("invariant",["Env","fb-error-lite","sprintf"],function(e,t,n,r,o,a,i){"use strict";function e(e,t){if(!e){for(var r=t,o=arguments.length,a=new Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];if(typeof r=="number"){var s=l(r,a),u=s.message,c=s.decoderLink;r=u,a.unshift(c)}else if(r===void 0){r="Invariant: ";for(var d=0;d<a.length;d++)r+="%s,"}var m=r,p=new Error(m);throw p.name="Invariant Violation",p.messageFormat=r,p.messageParams=a.map(function(e){return String(e)}),p.taalOpcodes=[n("fb-error-lite").TAALOpcode.PREVIOUS_FRAME],p.stack,p}}function l(e,t){var r="Minified invariant #"+e+"; %s";return t.length>0&&(r+=" Params: "+t.map(function(e){return"%s"}).join(", ")),e=n("Env").show_invariant_decoder===!0?"visit "+s(e,t)+" to see the full message.":"",{message:r,decoderLink:e}}function s(e,t){return e="https://www.internalfb.com/intern/invariant/"+e+"/",t.length>0&&(e+="?"+t.map(function(e,t){return"args["+t+"]="+encodeURIComponent(String(e))}).join("&")),e}i.default=e},98),t.__d("UrlMap",["invariant","UrlMapConfig","sdk.Runtime"],function(e,t,n,r,o,a,i,l){function e(e){var t="https";if(e==="graph_domain"){var o=n("sdk.Runtime").getGraphDomain();o?e="graph_".concat(o):e="graph"}return e in r("UrlMapConfig")?t+"://"+r("UrlMapConfig")[e]:(e in r("UrlMapConfig")||l(0,2511,e),"")}i.resolve=e},98),t.__d("sdk.Scribe",["QueryString","UrlMap","sdk.Runtime"],function(l,t,n,r,o,a,i){var e={};function l(t,o,a){if(a===void 0&&(a=!1),t==="jssdk_error"){var i=c("JSON","stringify",!1,o);if(Object.prototype.hasOwnProperty.call(e,i))return;e[i]=!0}o.extra!=null&&typeof o.extra=="object"&&(i=o.extra,i.revision=n("sdk.Runtime").getRevision()),i=new Image;var l=r("UrlMap").resolve("www")+"/platform/scribe_endpoint.php/";a||(i.crossOrigin="anonymous"),i.src=n("QueryString").appendToUrl(l,{c:t,m:c("JSON","stringify",!1,d.extends({},o,{isSPIN:n("sdk.Runtime").getIsSPIN()}))})}i.log=l},98),t.__d("sdk.FeatureFunctor",[],function(i,t,n,r,o,a){function e(e,t,n){return e.features&&t in e.features?(e=e.features[t],typeof e=="object"&&typeof e.rate=="number"?e.rate&&Math.random()*100<=e.rate?e.value||!0:e.value?null:!1:e):n}function i(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(r.length<2)throw new Error("Default value is required");var a=r[0],i=r[1];return e(t,a,i)}}a.create=i},66),t.__d("sdk.feature",["JSSDKConfig","sdk.FeatureFunctor"],function(e,t,n,r,o,a,i){e=r("sdk.FeatureFunctor").create(r("JSSDKConfig")),i.default=e},98),t.__d("sdk.ErrorHandling",["sdk.ErrorHandler","sdk.Runtime","sdk.Scribe","sdk.feature"],function(e,t,n,r,o,a,i){e=n("sdk.feature")("error_handling",!1),t=r("sdk.ErrorHandler").create(e,function(e){r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:e.name||e.message,extra:e})}),i.default=t},98),t.__d("FB",["DOMWrapper","GlobalCallback","JSSDKCssConfig","Log","dotAccess","sdk.Content","sdk.DOM","sdk.ErrorHandling","sdk.domReady"],function(u,t,n,r,o,a,i){window.FB&&window.FB.__buffer&&(window.__buffer=d.extends({},window.FB.__buffer));var e=window.FB={};t={},r("Log").setLevel(0),r("GlobalCallback").setPrefix("FB.__globalCallbacks");var l=document.createElement("div");r("DOMWrapper").setRoot(l),n("sdk.domReady")(function(){r("Log").info("domReady"),r("sdk.Content").appendHidden(l),n("JSSDKCssConfig").rules&&r("sdk.DOM").addCssRules(n("JSSDKCssConfig").rules,n("JSSDKCssConfig").components)});function s(e,t,r,o){return n("sdk.ErrorHandling").guard(function(){function r(e){return Array.isArray(e)?e.map(r):e&&typeof e=="object"&&e.__wrapped?e.__wrapped:typeof e=="function"&&/^function/.test(e.toString())?n("sdk.ErrorHandling").unguard(e):e}var a=Array.prototype.slice.call(arguments).map(r),i=e.apply(o,a),l,u=!0;if(i&&typeof i=="object"){l=Object.create(i),l.__wrapped=i;for(var c in i){var d=i[c];typeof d!="function"||c==="constructor"||(u=!1,l[c]=s(d,t+":"+c,c,i))}}return u&&u?i:l},t)}function u(t,r){var o=t?n("dotAccess")(e,t,!0):e;Object.keys(r).forEach(function(e){var n=r[e];if(typeof n=="function"){var a=(t?t+".":"")+e;a=s(n,a,e,r),a&&(o[e]=a)}else(typeof n=="object"||typeof n=="number")&&(o[e]=n)})}c("Object","assign",!1,t,{provide:u}),o=t,i.default=o},98),t.__d("AppUserPropertyAPIBuiltinField",[],function(e,t,n,r,o,a){o.exports={GENDER:"$gender",CITY:"$city",STATE:"$state",ZIPCODE:"$zipcode",COUNTRY:"$country",LANGUAGE:"$language",CURRENCY:"$currency",INSTALL_SOURCE:"$install_source",USER_TYPE:"$user_type",ACCOUNT_CREATED_TIME:"$account_created_time",APP_ID:"$app_id"}},null),t.__d("ArgumentError",["ManagedError"],function(e,t,n,r,o,a,i){e=(function(e){d.inheritsLoose(t,e);function t(t,n){return e.call(this,t,n)||this}return t})(n("ManagedError")),i.default=e},98),t.__d("flattenObject",[],function(e,t,n,r,o,a){"use strict";function e(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if(r==null)continue;typeof r=="string"?t[n]=r:t[n]=c("JSON","stringify",!1,r)}return t}a.default=e},66),t.__d("performance",[],function(e,t,n,r,o,a){"use strict";t=e.performance||e.msPerformance||e.webkitPerformance||{},n=t,a.default=n},66),t.__d("performanceNow",["performance"],function(e,t,n,r,o,a,i){if(n("performance").now)t=function(){return n("performance").now()};else{r=e._cstart,o=Date.now();var l=typeof r=="number"&&r<o?r:o,s=0;t=function(){var e=Date.now(),t=e-l;return t<s&&(l-=s-t,t=e-l),s=t,t}}a=t,i.default=a},98),t.__d("performanceNowSinceAppStart",["performanceNow"],function(e,t,n,r,o,a,i){i.default=n("performanceNow")},98),t.__d("removeFromArray",[],function(e,t,n,r,o,a){function e(e,t){t=e.indexOf(t),t!==-1&&e.splice(t,1)}a.default=e},66),t.__d("fb-error",["performanceNowSinceAppStart","removeFromArray"],function(e,t,x,$,o,N){"use strict";var n={PREVIOUS_FILE:1,PREVIOUS_FRAME:2,PREVIOUS_DIR:3,FORCED_KEY:4};function r(e){var t=new Error(e);if(t.stack===void 0)try{throw t}catch(e){}t.messageFormat=e;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.messageParams=o.map(function(e){return String(e)}),t.taalOpcodes=[n.PREVIOUS_FRAME],t}var a=!1,i={errorListener:function(n){var t=e.console,r=t[n.type]?n.type:"error";(n.type==="fatal"||r==="error"&&!a)&&(r=n.message,t.error("ErrorUtils caught an error:\n\n"+r+"\n\nSubsequent non-fatal errors won't be logged; see https://fburl.com/debugjs."),a=!0)}},l={access_token:null},s=6,u=6e4,m=10*u,p=new Map,_=0;function f(){var e=t("performanceNowSinceAppStart")();if(e>_+u){for(var n=e-m,a=p,r=Array.isArray(a),o=0,a=r?a:a[typeof Symbol=="function"&&typeof Symbol=="function"?Symbol.iterator:"@@iterator"]();;){var i;if(r){if(o>=a.length)break;i=a[o++]}else{if(o=a.next(),o.done)break;i=o.value}i=i;var l=i[0];i=i[1],i.lastAccessed<n&&p.delete(l)}_=e}}function g(e){f();var n=t("performanceNowSinceAppStart")(),r=p.get(e);if(r==null)return p.set(e,{dropped:0,logged:[n],lastAccessed:n}),1;e=r.dropped;var o=r.logged;for(r.lastAccessed=n;o[0]<n-u;)o.shift();return o.length<s?(r.dropped=0,o.push(n),e+1):(r.dropped++,null)}var h={shouldLog:function(t){return g(t.hash)}},y="RE_EXN_ID";function C(e){var t=null;return e==null||typeof e!="object"?t=r("Non-object thrown: %s",String(e)):Object.prototype.hasOwnProperty.call(e,y)?t=r("Rescript exception thrown: %s",c("JSON","stringify",!1,e)):typeof e.message!="string"?t=r("Non-error thrown: %s, keys: %s",String(e),c("JSON","stringify",!1,Object.keys(e).sort())):Object.isExtensible&&!Object.isExtensible(e)&&(t=r("Non-extensible thrown: %s",String(e.message))),t!=null?(t.taalOpcodes=t.taalOpcodes||[],t.taalOpcodes.push(n.PREVIOUS_FRAME),t):e}var b=typeof window=="undefined"?"<self.onerror>":"<window.onerror>",v;function S(e){var t=e.error!=null?C(e.error):r(e.message||"");t.fileName==null&&e.filename!=null&&(t.fileName=e.filename),t.line==null&&e.lineno!=null&&(t.line=e.lineno),t.column==null&&e.colno!=null&&(t.column=e.colno),t.guardList=[b],t.loggingSource="ONERROR",(e=v)===null||e===void 0||e.reportError(t)}var R={setup:function(n){typeof e.addEventListener=="function"&&v==null&&(v=n,e.addEventListener("error",S))}},L=[],E={pushGuard:function(t){L.unshift(t)},popGuard:function(){L.shift()},inGuard:function(){return L.length!==0},cloneGuardList:function(){return L.map(function(e){return e.name})},findDeferredSource:function(){for(var e=0;e<L.length;e++){var t=L[e];if(t.deferredSource!=null)return t.deferredSource}}};function k(e){return e.type!=null?e.type:e.loggingSource=="GUARDED"||e.loggingSource=="ERROR_BOUNDARY"||e.name=="SyntaxError"?"fatal":e.loggingSource=="ONERROR"&&e.message.indexOf("ResizeObserver loop")>=0||e.stack!=null&&e.stack.indexOf("chrome-extension://")>=0?"warn":"error"}var I=[],T=(function(){function e(){this.metadata=[].concat(I)}var t=e.prototype;return t.addEntries=function(){var e;return(e=this.metadata).push.apply(e,arguments),this},t.addEntry=function(e,t,n){return this.metadata.push([e,t,n]),this},t.isEmpty=function(){return this.metadata.length===0},t.clearEntries=function(){this.metadata=[]},t.format=function(){var e=[];return this.metadata.forEach(function(t){t&&t.length&&(t=t.map(function(e){return e!=null?String(e).replace(/:/g,"_"):""}).join(":"),e.push(t))}),e},t.getAll=function(){return this.metadata},e.addGlobalMetadata=function(e,t,n){I.push([e,t,n])},e.getGlobalMetadata=function(){return I},e.unsetGlobalMetadata=function(e,t){I=I.filter(function(n){return!(Array.isArray(n)&&n[0]===e&&n[1]===t)})},e})(),D={debug:1,info:2,warn:3,error:4,fatal:5};function x(e,t){if(!Object.isFrozen(e)){t.type&&(!e.type||D[e.type]>D[t.type])&&(e.type=t.type);var n=t.metadata;if(n!=null){var r;r=(r=e.metadata)!==null&&r!==void 0?r:new T,n!=null&&r.addEntries.apply(r,n.getAll()),e.metadata=r}if(t.project!=null&&(e.project=t.project),t.errorName!=null&&(e.errorName=t.errorName),t.componentStack!=null&&(e.componentStack=t.componentStack),t.deferredSource!=null&&(e.deferredSource=t.deferredSource),t.blameModule!=null&&(e.blameModule=t.blameModule),t.loggingSource!=null&&(e.loggingSource=t.loggingSource),r=(n=e.messageFormat)!==null&&n!==void 0?n:e.message,n=(n=e.messageParams)!==null&&n!==void 0?n:[],r!==t.messageFormat&&t.messageFormat!=null){var o;r+=" [Caught in: "+t.messageFormat+"]",n.push.apply(n,(o=t.messageParams)!==null&&o!==void 0?o:[])}e.messageFormat=r,e.messageParams=n,o=t.forcedKey,r=e.forcedKey,n=o!=null&&r!=null?o+"_"+r:o!=null?o:r,e.forcedKey=n}}function $(e){var t;return P((t=e.messageFormat)!==null&&t!==void 0?t:e.message,e.messageParams||[])}function P(e,t){var n=0;return e=e.replace(/%s/g,function(){return n<t.length?t[n++]:"NOPARAM"}),n<t.length&&(e+=" PARAMS"+c("JSON","stringify",!1,t.slice(n))),e}function N(e){return(e!=null?e:[]).map(function(e){return String(e)})}var M={aggregateError:x,toReadableMessage:$,toStringParams:N},w=5,A=[];function F(e){A.push(e),A.length>w&&A.shift()}function O(e){var t=e.getAllResponseHeaders();t!=null&&t.indexOf("X-FB-Debug")>=0&&(t=e.getResponseHeader("X-FB-Debug"),t&&F(t))}function B(){return A}var W={add:F,addFromXHR:O,getAll:B},q="abcdefghijklmnopqrstuvwxyz012345";function U(){for(var e=0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++){var a=n[o];if(a!=null)for(var i=a.length,l=0;l<i;l++)e=(e<<5)-e+a.charCodeAt(l)}for(var s="",u=0;u<6;u++)s=q.charAt(e&31)+s,e>>=5;return s}var V=[/\(([^\s\)\()]+):(\d+):(\d+)\)$/,/@([^\s\)\()]+):(\d+):(\d+)$/,/^([^\s\)\()]+):(\d+):(\d+)$/,/^at ([^\s\)\()]+):(\d+):(\d+)$/],H=/^\w+:\s.*?\n/g;Error.stackTraceLimit!=null&&Error.stackTraceLimit<80&&(Error.stackTraceLimit=80);function G(e){var t=e.name,n=e.message;if(e=e.stack,e==null)return null;if(t!=null&&n!=null&&n!==""){var r=t+": "+n+"\n";if(c(e,"startsWith",!0,r))return e.substr(r.length);if(e===t+": "+n)return null}return t!=null&&(r=t+"\n",c(e,"startsWith",!0,r))?e.substr(r.length):n!=null&&n!==""&&(t=": "+n+"\n",r=e.indexOf(t),n=e.substring(0,r),/^\w+$/.test(n))?e.substring(r+t.length):e.replace(H,"")}function z(e){e=e.trim();var t,n,r,o;if(c(e,"includes",!0,"charset=utf-8;base64,"))t="<inlined-file>";else{for(var a,i=0;i<V.length;i++){var l=V[i];if(a=e.match(l),a!=null)break}a!=null&&a.length===4?(n=a[1],r=parseInt(a[2],10),o=parseInt(a[3],10),t=e.substring(0,e.length-a[0].length)):t=e,t=t.replace(/^at /,"").trim()}return l={identifier:t,script:n,line:r,column:o},l.text=X(l),l}function j(e){return e==null||e===""?[]:e.split(/\n\n/)[0].split("\n").map(z)}function K(e){return e=G(e),j(e)}function Q(e){return e==null||e===""?null:(e=e.split("\n"),e.splice(0,1),e.map(function(e){return e.trim()}))}function X(e){var t=e.identifier,n=e.script,r=e.line;return e=e.column,t="    at "+(t!=null?t:"<unknown>"),n!=null&&r!=null&&e!=null&&(t+=" ("+n+":"+r+":"+e+")"),t}function Y(r){var o,a,i,l,s,u,c=K(r);o=(o=r.taalOpcodes)!==null&&o!==void 0?o:[];var d=r.framesToPop;if(d!=null)for(d=Math.min(d,c.length);d-- >0;)o.unshift(n.PREVIOUS_FRAME);d=(d=r.messageFormat)!==null&&d!==void 0?d:r.message,a=((a=r.messageParams)!==null&&a!==void 0?a:[]).map(function(e){return String(e)});var m=Q(r.componentStack),p=m==null?null:m.map(z),_=r.metadata?r.metadata.format():new T().format();_.length===0&&(_=void 0);var f=c.map(function(e){return e.text}).join("\n");i=(i=r.errorName)!==null&&i!==void 0?i:r.name;var g=k(r),h=r.loggingSource,y=r.project;l=(l=r.lineNumber)!==null&&l!==void 0?l:r.line,s=(s=r.columnNumber)!==null&&s!==void 0?s:r.column,u=(u=r.fileName)!==null&&u!==void 0?u:r.sourceURL;var C=c.length>0;C&&l==null&&(l=c[0].line),C&&s==null&&(s=c[0].column),C&&u==null&&(u=c[0].script),p={blameModule:r.blameModule,column:s==null?null:String(s),clientTime:Math.floor(Date.now()/1e3),componentStackFrames:p,deferredSource:r.deferredSource!=null?Y(r.deferredSource):null,extra:(C=r.extra)!==null&&C!==void 0?C:{},fbtrace_id:r.fbtrace_id,guardList:(s=r.guardList)!==null&&s!==void 0?s:[],hash:U(i,f,g,y,h),isNormalizedError:!0,line:l==null?null:String(l),loggingSource:h,message:M.toReadableMessage(r),messageFormat:d,messageParams:a,metadata:_,name:i,page_time:Math.floor(t("performanceNowSinceAppStart")()),project:y,reactComponentStack:m,script:u,serverHash:r.serverHash,stack:f,stackFrames:c,type:g,xFBDebug:W.getAll()},r.forcedKey!=null&&(p.forcedKey=r.forcedKey),o.length>0&&(p.taalOpcodes=o),C=e.location,C&&(p.windowLocationURL=C.href);for(s in p)p[s]==null&&delete p[s];return p}function J(e){return e!=null&&typeof e=="object"&&e.isNormalizedError===!0?e:null}var Z={formatStackFrame:X,normalizeError:Y,ifNormalizedError:J},ee="<global.react>",te=[],ne=[],re=50,oe=!1,ae={history:ne,addListener:function(t,n){n===void 0&&(n=!1),te.push(t),n||ne.forEach(function(e){return t(e,(e=e.loggingSource)!==null&&e!==void 0?e:"DEPRECATED")})},unshiftListener:function(t){te.unshift(t)},removeListener:function(n){t("removeFromArray")(te,n)},reportError:function(t){t=Z.normalizeError(t),ae.reportNormalizedError(t)},reportNormalizedError:function(t){if(oe)return!1;var e=E.cloneGuardList();for(t.componentStackFrames&&e.unshift(ee),e.length>0&&(t.guardList=e),t.deferredSource==null&&(e=E.findDeferredSource(),e!=null&&(t.deferredSource=Z.normalizeError(e))),ne.length>re&&ne.splice(re/2,1),ne.push(t),oe=!0,e=0;e<te.length;e++)try{var n;te[e](t,(n=t.loggingSource)!==null&&n!==void 0?n:"DEPRECATED")}catch(e){}return oe=!1,!0}};ae.addListener(i.errorListener);var ie="<anonymous guard>",le=!1,se={applyWithGuard:function(t,n,r,o){if(E.pushGuard({name:((o==null?void 0:o.name)!=null?o.name:null)||(t.name?"func_name:"+t.name:null)||ie,deferredSource:o==null?void 0:o.deferredSource}),le)try{return t.apply(n,r)}finally{E.popGuard()}try{return Function.prototype.apply.call(t,n,r)}catch(l){try{n=o!=null?o:d.extends({},null);var e=n.deferredSource,a=n.onError;n=n.onNormalizedError;var i=C(l);e={deferredSource:e,loggingSource:"GUARDED",project:(e=o==null?void 0:o.project)!==null&&e!==void 0?e:"ErrorGuard",type:o==null?void 0:o.errorType},M.aggregateError(i,e),o=Z.normalizeError(i),i==null&&t&&(o.extra[t.toString().substring(0,100)]="function",r!=null&&r.length&&(o.extra[c("Array","from",!1,r).toString().substring(0,100)]="args")),o.guardList=E.cloneGuardList(),a&&a(i),n&&n(o),ae.reportNormalizedError(o)}catch(e){}}finally{E.popGuard()}},guard:function(t,n){function e(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return se.applyWithGuard(t,this,r,n)}return t.__SMmeta&&(e.__SMmeta=t.__SMmeta),e},inGuard:function(){return E.inGuard()},skipGuardGlobal:function(t){le=t}},ue=1024,ce=[],de=0;function me(e){return String(e)}function pe(e){return e==null?null:String(e)}function _e(e,t){var n={};return t&&t.forEach(function(e){n[e]=!0}),Object.keys(e).forEach(function(t){e[t]?n[t]=!0:n[t]&&delete n[t]}),Object.keys(n)}function fe(e){return(e!=null?e:[]).map(function(e){return{column:pe(e.column),identifier:e.identifier,line:pe(e.line),script:e.script}})}function ge(e){return e=String(e),e.length>ue?e.substring(0,ue-3)+"...":e}function he(e,t){var n;n={appId:pe(t.appId),cavalry_lid:t.cavalry_lid,access_token:l.access_token,ancestor_hash:e.hash,bundle_variant:(n=t.bundle_variant)!==null&&n!==void 0?n:null,clientTime:me(e.clientTime),column:e.column,componentStackFrames:fe(e.componentStackFrames),events:e.events,extra:_e(e.extra,t.extra),forcedKey:e.forcedKey,frontend_env:(n=t.frontend_env)!==null&&n!==void 0?n:null,guardList:e.guardList,line:e.line,loggingFramework:t.loggingFramework,messageFormat:ge(e.messageFormat),messageParams:e.messageParams.map(ge),name:e.name,sample_weight:pe(t.sample_weight),script:e.script,site_category:t.site_category,stackFrames:fe(e.stackFrames),type:e.type,page_time:pe(e.page_time),project:e.project,push_phase:t.push_phase,report_source:t.report_source,report_source_ref:t.report_source_ref,rollout_hash:(n=t.rollout_hash)!==null&&n!==void 0?n:null,script_path:t.script_path,server_revision:pe(t.server_revision),spin:pe(t.spin),svn_rev:String(t.client_revision),additional_client_revisions:c("Array","from",!1,(n=t.additional_client_revisions)!==null&&n!==void 0?n:[]).map(me),taalOpcodes:e.taalOpcodes==null?null:e.taalOpcodes.map(function(e){return e}),web_session_id:t.web_session_id,version:"3",xFBDebug:e.xFBDebug},t=e.blameModule;var r=e.deferredSource;return t!=null&&(n.blameModule=String(t)),r&&r.stackFrames&&(n.deferredSource={stackFrames:fe(r.stackFrames)}),e.metadata&&(n.metadata=e.metadata),e.loadingUrls&&(n.loadingUrls=e.loadingUrls),e.serverHash!=null&&(n.serverHash=e.serverHash),e.windowLocationURL!=null&&(n.windowLocationURL=e.windowLocationURL),e.loggingSource!=null&&(n.loggingSource=e.loggingSource),n}function ye(e,t,n){var r;if(de++,t.sample_weight===0)return!1;var o=h.shouldLog(e);return o==null||(r=t.projectBlocklist)!==null&&r!==void 0&&c(r,"includes",!0,e.project)?!1:(r=he(e,t),c("Object","assign",!1,r,{ancestors:ce.slice(),clientWeight:me(o),page_position:me(de)}),ce.length<15&&ce.push(e.hash),n(r),!0)}var Ce={createErrorPayload:he,postError:ye},be=null,ve=!1;function Se(e){if(be!=null){var t=be,n=e.reason,o;if(n!=null&&typeof n=="object"&&(n.name==null||n.name===""||n.message==null||n.message===""))try{o=r("UnhandledRejection: %s",c("JSON","stringify",!1,n)),o.loggingSource="ONUNHANDLEDREJECTION"}catch(e){o=r("UnhandledRejection: (circular) %s",Object.keys(n).join(",")),o.loggingSource="ONUNHANDLEDREJECTION"}else o=C(n),o.loggingSource||(o.loggingSource="ONUNHANDLEDREJECTION");try{n=e.promise,o.stack=String(o.stack||"")+(n!=null&&typeof n.settledStack=="string"?"\n(<promise_settled_stack_below>)\n"+n.settledStack:"")+(n!=null&&typeof n.createdStack=="string"?"\n(<promise_created_stack_below>)\n"+n.createdStack:"")}catch(e){}t.reportError(o),e.preventDefault()}}function Re(t){be=t,typeof e.addEventListener=="function"&&!ve&&(ve=!0,e.addEventListener("unhandledrejection",Se))}var Le={onunhandledrejection:Se,setup:Re};x={preSetup:function(t){(t==null||t.ignoreOnError!==!0)&&R.setup(ae),(t==null||t.ignoreOnUnahndledRejection!==!0)&&Le.setup(ae)},setup:function(t,n){ae.addListener(function(e){Ce.postError(e,t,n)})}};var Ee=(function(){function e(e){this.project=e,this.events=[],this.metadata=new T,this.taalOpcodes=[]}var t=e.prototype;return t.$1=function(t,r){for(var o=String(r),a=this.events,i=this.project,l=this.metadata,s=this.blameModule,u=this.forcedKey,m=this.error,p,_=arguments.length,f=new Array(_>2?_-2:0),g=2;g<_;g++)f[g-2]=arguments[g];if(this.normalizedError){var h={message:this.normalizedError.messageFormat+" [Caught in: "+o+"]",params:[].concat(this.normalizedError.messageParams,f),forcedKey:u};p=d.extends({},this.normalizedError,{message:h.message,messageFormat:h.message,messageParams:M.toStringParams(h.params),project:i,type:t,loggingSource:"FBLOGGER"})}else if(m)this.taalOpcodes.length>0&&new e("fblogger").blameToPreviousFrame().blameToPreviousFrame().warn("Blame helpers do not work with catching"),M.aggregateError(m,{messageFormat:o,messageParams:M.toStringParams(f),errorName:m.name,forcedKey:u,project:i,type:t,loggingSource:"FBLOGGER"}),p=Z.normalizeError(m);else{if(m=new Error(o),m.stack===void 0)try{throw m}catch(e){}m.messageFormat=o,m.messageParams=M.toStringParams(f),m.blameModule=s,m.forcedKey=u,m.project=i,m.type=t,m.loggingSource="FBLOGGER",m.taalOpcodes=[n.PREVIOUS_FRAME,n.PREVIOUS_FRAME].concat(this.taalOpcodes),p=Z.normalizeError(m),p.name="FBLogger"}if(!l.isEmpty())if(p.metadata==null)p.metadata=l.format();else{var y=p.metadata.concat(l.format()),C=new Set(y);p.metadata=c("Array","from",!1,C.values())}if(a.length>0)if(p.events!=null){var b;(b=p.events).push.apply(b,a)}else p.events=a;return ae.reportNormalizedError(p),m},t.fatal=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["fatal",e].concat(n))},t.mustfix=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["error",e].concat(n))},t.warn=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["warn",e].concat(n))},t.info=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.$1.apply(this,["info",e].concat(n))},t.debug=function(e){},t.mustfixThrow=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];var i=this.$1.apply(this,["error",e].concat(o));throw i||(i=r("mustfixThrow does not support catchingNormalizedError"),i.taalOpcodes=i.taalOpcodes||[],i.taalOpcodes.push(n.PREVIOUS_FRAME)),i},t.catching=function(t){return t instanceof Error?this.error=t:new e("fblogger").blameToPreviousFrame().warn("Catching non-Error object is not supported"),this},t.catchingNormalizedError=function(e){return this.normalizedError=e,this},t.event=function(e){return this.events.push(e),this},t.blameToModule=function(e){return this.blameModule=e,this},t.blameToPreviousFile=function(){return this.taalOpcodes.push(n.PREVIOUS_FILE),this},t.blameToPreviousFrame=function(){return this.taalOpcodes.push(n.PREVIOUS_FRAME),this},t.blameToPreviousDirectory=function(){return this.taalOpcodes.push(n.PREVIOUS_DIR),this},t.addToCategoryKey=function(e){return this.forcedKey=e,this},t.addMetadata=function(e,t,n){return this.metadata.addEntry(e,t,n),this},e})();$=function(t,n){var e=new Ee(t);return n!=null?e.event(t+"."+n):e},$.addGlobalMetadata=function(e,t,n){T.addGlobalMetadata(e,t,n)},N={blameToPreviousFile:function(t){var e;return t.taalOpcodes=(e=t.taalOpcodes)!==null&&e!==void 0?e:[],t.taalOpcodes.push(n.PREVIOUS_FILE),t},blameToPreviousFrame:function(t){var e;return t.taalOpcodes=(e=t.taalOpcodes)!==null&&e!==void 0?e:[],t.taalOpcodes.push(n.PREVIOUS_FRAME),t},blameToPreviousDirectory:function(t){var e;return t.taalOpcodes=(e=t.taalOpcodes)!==null&&e!==void 0?e:[],t.taalOpcodes.push(n.PREVIOUS_DIR),t}},O={err:r,ErrorBrowserConsole:i,ErrorDynamicData:l,ErrorFilter:h,ErrorGlobalEventHandler:R,ErrorGuard:se,ErrorGuardState:E,ErrorMetadata:T,ErrorNormalizeUtils:Z,ErrorPoster:Ce,ErrorPubSub:ae,ErrorSerializer:M,ErrorSetup:x,ErrorXFBDebug:W,FBLogger:$,getErrorSafe:C,getSimpleHash:U,TAAL:N,TAALOpcode:n},o.exports=O},null),t.__d("FBLogger",["fb-error"],function(e,t,n,r,o,a,i){"use strict";i.default=n("fb-error").FBLogger},98),t.__d("BaseDeserializePHPQueryData",[],function(l,t,n,r,o,a){"use strict";var e=/^([-_\w]+)((?:\[[-_\w]*\])+)=?(.*)/;function i(e){return e==="hasOwnProperty"||e==="__proto__"?"\uD83D\uDF56":e}function l(t,n){if(t==null||t==="")return{};var r={};t=t.replace(/%5B/gi,"[").replace(/%5D/gi,"]"),t=t.split("&");for(var o=Object.prototype.hasOwnProperty,a=0,l=t.length;a<l;a++){var s=t[a].match(e);if(s){c=s[2].split(/\]\[|\[|\]/).slice(0,-1),u=s[1],s=n(s[3]||""),c[0]=u,u=r;for(var d=0;d<c.length-1;d++){var m=i(c[d]);if(m){if(!o.call(u,m)){var p=c[d+1]&&!c[d+1].match(/^\d{1,3}$/)?{}:[];if(u[m]=p,u[m]!==p)return r}u=u[m]}else c[d+1]&&!c[d+1].match(/^\d{1,3}$/)?u.push({}):u.push([]),u=u[u.length-1]}u instanceof Array&&c[c.length-1]===""?u.push(s):u[i(c[c.length-1])]=s}else{var u=t[a].indexOf("=");if(u===-1)r[n(t[a])]=null;else{var c=t[a].substring(0,u);u=t[a].substring(u+1),r[n(c)]=n(u)}}}return r}a.deserialize=l},66),t.__d("flattenPHPQueryData",["invariant"],function(e,t,n,r,o,a,i,l){function e(e){return s(e,"",{})}function s(e,t,n){if(e==null)n[t]=void 0;else if(typeof e=="object"){typeof e.appendChild!="function"||l(0,2616);for(var r in e)r!=="$$typeof"&&Object.prototype.hasOwnProperty.call(e,r)&&e[r]!==void 0&&s(e[r],t?t+"["+r+"]":r,n)}else n[t]=e;return n}i.default=e},98),t.__d("PHPQuerySerializer",["BaseDeserializePHPQueryData","flattenPHPQueryData"],function(e,l,n,r,o,a,i){function e(e){var r=[];e=n("flattenPHPQueryData")(e);for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=t(o);e[o]===void 0?r.push(a):r.push(a+"="+t(String(e[o])))}return r.join("&")}function t(e){return encodeURIComponent(e).replace(/%5D/g,"]").replace(/%5B/g,"[")}function l(e){return r("BaseDeserializePHPQueryData").deserialize(e,s)}function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}}o={decodeComponent:s,deserialize:l,encodeComponent:t,serialize:e},a.exports=o},34),t.__d("PHPStrictQuerySerializer",["PHPQuerySerializer","flattenPHPQueryData"],function(e,t,n,r,o,a,i){function e(e){var t=[];e=n("flattenPHPQueryData")(e);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=l(r);e[r]===void 0?t.push(o):t.push(o+"="+l(String(e[r])))}return t.join("&")}function l(e){return encodeURIComponent(e)}i.serialize=e,i.encodeComponent=l,i.deserialize=r("PHPQuerySerializer").deserialize,i.decodeComponent=r("PHPQuerySerializer").decodeComponent},98),t.__d("URIRFC3986",[],function(i,t,n,r,o,a){var e=new RegExp("^([^:/?#]+:)?(//([^\\\\/?#@]*@)?(\\[[A-Fa-f0-9:.]+\\]|[^\\/?#:]*)(:[0-9]*)?)?([^?#]*)(\\?[^#]*)?(#.*)?");function i(t){if(t.trim()===""||(t=t.match(e),t==null))return null;var n=t[2]?t[2].substr(2):null,r=t[1]?t[1].substr(0,t[1].length-1):null;return t={uri:t[0]?t[0]:null,scheme:r,authority:n,userinfo:t[3]?t[3].substr(0,t[3].length-1):null,host:t[2]?t[4]:null,port:t[5]&&t[5].substr(1)?parseInt(t[5].substr(1),10):null,path:t[6]?t[6]:null,query:t[7]?t[7].substr(1):null,fragment:t[8]?t[8].substr(1):null,isGenericURI:n===null&&!!r},t}a.parse=i},66),t.__d("createObjectFrom",[],function(e,t,n,r,o,a){function i(e,t){if(t===void 0)return i(e,!0);var n={};if(Array.isArray(t))for(var r=e.length-1;r>=0;r--)n[e[r]]=t[r];else for(r=e.length-1;r>=0;r--)n[e[r]]=t;return n}a.default=i},66),t.__d("URISchemes",["createObjectFrom"],function(l,t,n,r,o,a,i){"use strict";var e=n("createObjectFrom")(["apk","accountscenter","aidemos","aistudio","blob","cmms","fb","fba","fbatwork","fb-ama","fb-internal","fb-workchat","fb-workchat-secure","fb-messenger","fb-messenger-public","fb-messenger-group-thread","fb-page-messages","fb-pma","fbcf","fbconnect","fbinternal","fbmobilehome","fbrpc","file","flipper","ftp","gtalk","http","https","mailto","wss","ms-app","intent","itms","itms-apps","itms-services","lasso","market","svn+ssh","fbstaging","tel","sms","pebblejs","sftp","whatsapp","moments","flash","fblite","chrome-extension","webcal","instagram","iglite","fb124024574287414","fb124024574287414rc","fb124024574287414master","fb1576585912599779","fb929757330408142","designpack","fbpixelcloud","fbapi20130214","fb1196383223757595","tbauth","oculus","oculus.store","oculus.feed","oculusstore","odh","com.oculus.rd","aria","skype","ms-windows-store","callto","messenger","workchat","fb236786383180508","fb1775440806014337","data","fb-mk","munki","origami-file","fb-nimble-vrsrecorder","fb-nimble-monohandtrackingvis","together","togetherbl","horizonlauncher","venues","whatsapp-consumer","whatsapp-smb","fb-ide-opener","fb-vscode","fb-vscode-insiders","editor","spark-studio","arstudio","manifold","origami-internal","origami-public","stella","mwa","mattermost","logaggregator","workrooms","pcoip","cinema","home","oculus360photos","systemux"]);function l(t){return t==null||t===""?!0:Object.prototype.hasOwnProperty.call(e,t.toLowerCase())}i.isAllowed=l},98),t.__d("isSameOrigin",[],function(e,t,n,r,o,a){"use strict";function e(e,t){return!e.getProtocol()||!e.getDomain()||!t.getProtocol()||!t.getDomain()?!1:e.getOrigin()===t.getOrigin()}a.default=e},66),t.__d("setHostSubdomain",[],function(e,t,n,r,o,a){"use strict";function e(e,t){return e=e.split("."),e.length<3?e.unshift(t):e[0]=t,e.join(".")}a.default=e},66),t.__d("URIAbstractBase",["invariant","FBLogger","PHPStrictQuerySerializer","URIRFC3986","URISchemes","isSameOrigin","setHostSubdomain"],function(e,t,n,r,o,a,i){var l,s,u=new RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),d=new RegExp("^(?:[^/]*:|[\\x00-\\x1f]*/[\\x00-\\x1f]*/)"),m=[];e=(function(){"use strict";e.parse=function(n,r,o,a){if(!r)return!0;if(r instanceof e)return n.setProtocol(r.getProtocol()),n.setDomain(r.getDomain()),n.setPort(r.getPort()),n.setPath(r.getPath()),n.setQueryData(a.deserialize(a.serialize(r.getQueryData()))),n.setFragment(r.getFragment()),n.setIsGeneric(r.getIsGeneric()),n.setForceFragmentSeparator(r.getForceFragmentSeparator()),n.setOriginalRawQuery(r.getOriginalRawQuery()),n.setQueryParamModified(!1),!0;r=r.toString().trim();var i=(l||(l=t("URIRFC3986"))).parse(r)||{fragment:null,scheme:null,query:null};if(!o&&!(s||(s=t("URISchemes"))).isAllowed(i.scheme)||(n.setProtocol(i.scheme||""),!o&&u.test(i.host||"")))return!1;if(n.setDomain(i.host||""),n.setPort(i.port||""),n.setPath(i.path||""),o)n.setQueryData(a.deserialize(i.query||"")||{});else try{n.setQueryData(a.deserialize(i.query||"")||{})}catch(e){return!1}if(n.setFragment(i.fragment||""),i.fragment===""&&n.setForceFragmentSeparator(!0),n.setIsGeneric(i.isGenericURI||!1),n.setOriginalRawQuery(i.query),n.setQueryParamModified(!1),i.userinfo!==null){if(o)throw new Error("URI.parse: invalid URI (userinfo is not allowed in a URI): "+r);return!1}if(!n.getDomain()&&n.getPath().indexOf("\\")!==-1){if(o)throw new Error("URI.parse: invalid URI (no domain but multiple back-slashes): "+r);return!1}if(!n.getProtocol()&&d.test(r)){if(o)throw new Error("URI.parse: invalid URI (unsafe protocol-relative URLs): "+r+"'");return!1}if(n.getDomain()&&n.getPath()&&!c(n.getPath(),"startsWith",!0,"/")){if(o)throw new Error("URI.parse: invalid URI (domain and path where path lacks leading slash): "+r);return!1}return n.getProtocol()&&!n.getIsGeneric()&&!n.getDomain()&&n.getPath()!==""&&t("FBLogger")("uri").warn('URI.parse: invalid URI (protocol "'+n.getProtocol()+'" with no domain)'),!0},e.tryParse=function(t,n){var r=new e(null,n);return e.parse(r,t,!1,n)?r:null},e.isValid=function(t,n){return!!e.tryParse(t,n)};function e(t,n){n||i(0,2966),this.$9=n,this.$7="",this.$1="",this.$6="",this.$5="",this.$3="",this.$4=!1,this.$8={},this.$2=!1,e.parse(this,t,!0,n),this.$11=!1}var n=e.prototype;return n.setProtocol=function(e){return(s||(s=t("URISchemes"))).isAllowed(e)||i(0,11793,e),this.$7=e,this},n.getProtocol=function(){return(this.$7||"").toLowerCase()},n.setSecure=function(e){return this.setProtocol(e?"https":"http")},n.isSecure=function(){return this.getProtocol()==="https"},n.setDomain=function(e){if(u.test(e))throw new Error("URI.setDomain: unsafe domain specified: "+e+" for url "+this.toString());return this.$1=e,this},n.getDomain=function(){return this.$1},n.setPort=function(e){return this.$6=e,this},n.getPort=function(){return this.$6},n.setPath=function(e){return this.$5=e,this},n.getPath=function(){return this.$5},n.addQueryData=function(e,t){return Object.prototype.toString.call(e)==="[object Object]"?c("Object","assign",!1,this.$8,e):this.$8[e]=t,this.$11=!0,this},n.setQueryData=function(e){return this.$8=e,this.$11=!0,this},n.getQueryData=function(){return this.$8},n.setQueryString=function(e){return this.setQueryData(this.$9.deserialize(e))},n.getQueryString=function(e,t,n){return e===void 0&&(e=!1),t===void 0&&(t=function(){return!1}),n===void 0&&(n=null),this.$12(!1,e,t,n)},n.$12=function(e,t,n,r){return e===void 0&&(e=!1),t===void 0&&(t=!1),n===void 0&&(n=function(){return!1}),r===void 0&&(r=null),!this.$11&&(t||n(this.getDomain()))?(t=this.$10)!=null?t:"":(e&&r?r:this.$9).serialize(this.getQueryData())},n.removeQueryData=function(e){Array.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;++t)delete this.$8[e[t]];return this.$11=!0,this},n.setFragment=function(e){return this.$3=e,this.setForceFragmentSeparator(!1),this},n.getFragment=function(){return this.$3},n.setForceFragmentSeparator=function(e){return this.$2=e,this},n.getForceFragmentSeparator=function(){return this.$2},n.setIsGeneric=function(e){return this.$4=e,this},n.getIsGeneric=function(){return this.$4},n.getOriginalRawQuery=function(){return this.$10},n.setOriginalRawQuery=function(e){return this.$10=e,this},n.setQueryParamModified=function(e){return this.$11=e,this},n.isEmpty=function(){return!(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||Object.keys(this.getQueryData()).length>0||this.getFragment())},n.toString=function(e,t){return e===void 0&&(e=function(){return!1}),t===void 0&&(t=null),this.$13(!1,!1,e,t)},n.toStringRawQuery=function(e,t){return e===void 0&&(e=function(){return!1}),t===void 0&&(t=null),this.$13(!0,!1,e,t)},n.toStringPreserveQuery=function(e,t){return e===void 0&&(e=function(){return!1}),t===void 0&&(t=null),this.$13(!1,!0,e,t)},n.toStringStrictQueryEncoding=function(e){return e===void 0&&(e=function(){return!1}),this.$13(!0,!1,e,t("PHPStrictQuerySerializer"))},n.$13=function(e,t,n,r){e===void 0&&(e=!1),t===void 0&&(t=!1),n===void 0&&(n=function(){return!1}),r===void 0&&(r=null);for(var o=this,a=0;a<m.length;a++)o=m[a](o);return o.$14(e,t,n,r)},n.$14=function(e,t,n,r){e===void 0&&(e=!1),t===void 0&&(t=!1),n===void 0&&(n=function(){return!1}),r===void 0&&(r=null);var o="",a=this.getProtocol();return a&&(o+=a+":"+(this.getIsGeneric()?"":"//")),a=this.getDomain(),a&&(o+=a),a=this.getPort(),a&&(o+=":"+a),a=this.getPath(),a?o+=a:o&&(o+="/"),a=this.$12(e,t,n,r),a&&(o+="?"+a),e=this.getFragment(),e?o+="#"+e:this.getForceFragmentSeparator()&&(o+="#"),o},e.registerFilter=function(e){m.push(e)},n.getOrigin=function(){var e=this.getPort();return this.getProtocol()+"://"+this.getDomain()+(e?":"+e:"")},n.isSameOrigin=function(e){return t("isSameOrigin")(this,e)},n.getQualifiedURIBase=function(){return new e(this,this.$9).qualify()},n.qualify=function(){if(!this.getDomain()){var t=new e(window.location.href,this.$9);this.setProtocol(t.getProtocol()).setDomain(t.getDomain()).setPort(t.getPort())}return this},n.setSubdomain=function(e){var n=this.qualify();return n=n.getDomain(),this.setDomain(t("setHostSubdomain")(n,e))},n.getSubdomain=function(){if(!this.getDomain())return"";var e=this.getDomain().split(".");return e.length<=2?"":e[0]},n.isSubdomainOfDomain=function(t){var n=this.getDomain();return e.isDomainSubdomainOfDomain(n,t,this.$9)},e.isDomainSubdomainOfDomain=function(t,n,r){if(n===""||t==="")return!1;if(c(t,"endsWith",!0,n)){var o=t.length,a=n.length,i=o-a-1;if(o===a||t[i]===".")return o=new e(null,r),o.setDomain(n),e.isValid(o,r)}return!1},e})(),o.exports=e},null),t.__d("sdk.URI",["QueryString","URIAbstractBase"],function(e,t,n,r,o,a,i){var l=/\.facebook\.com$/,s={serialize:function(t){return t?n("QueryString").encode(t):""},deserialize:function(t){return t?n("QueryString").decode(t):{}}};e=(function(e){d.inheritsLoose(t,e);function t(t){return e.call(this,t,s)||this}var r=t.prototype;return r.isFacebookURI=function(){return l.test(this.getDomain())},r.valueOf=function(){return this.toString()},t.isValidURI=function(e){return n("URIAbstractBase").isValid(e,s)},t})(n("URIAbstractBase")),i.default=e},98),t.__d("ApiClientUtils",["ArgumentError","Assert","Log","flattenObject","sdk.URI","sprintf"],function(l,t,n,r,o,a,i){var e={get:!0,post:!0,delete:!0,put:!0};function l(t){var o=t.shift();n("Assert").isString(o,"Invalid path"),!/^https?/.test(o)&&o.charAt(0)!=="/"&&(o="/"+o);var a,i={};try{a=new(n("sdk.URI"))(o)}catch(e){throw new(n("ArgumentError"))(e.message,e)}t.forEach(function(e){return i[typeof e]=e}),o=(i.string||"get").toLowerCase(),n("Assert").isTrue(Object.prototype.hasOwnProperty.call(e,o),n("sprintf")("Invalid method passed to ApiClient: %s",o)),t=i.function,t||r("Log").warn("No callback passed to the ApiClient"),i.object&&a.addQueryData(n("flattenObject")(i.object));var l=a.getQueryData();return l.method=o,{uri:a,callback:t,params:l}}i.parseCallDataFromArgs=l},98),t.__d("errorCode",[],function(e,t,n,r,o,a){"use strict";function e(e){throw new Error('errorCode("'+e+'"): This should not happen. Oh noes!')}a.default=e},66),t.__d("nullthrows",[],function(e,t,n,r,o,a){function e(e,t){if(t===void 0&&(t="Got unexpected null or undefined"),e!=null)return e;throw e=new Error(t),e.framesToPop=1,e}a.default=e},66),t.__d("sdk.safelyParseResponse",["errorCode","nullthrows"],function(s,t,n,r,o,a,i,l){"use strict";var e=function(t,n,r,o){return u};function s(t,r,o){r===void 0&&(r=null),o===void 0&&(o=null);try{return t===null?u:c("JSON","parse",!1,n("nullthrows")(t))}catch(n){return e(n,t,r,o)}}var u={error:{code:1,error_subcode:1357046,message:"Received Invalid JSON reply.",type:"http"}};s.ERROR=u,s.setErrorHandler=function(t){e=t},t=s,i.default=t},98),t.__d("whitelistObjectKeys",[],function(e,t,n,r,o,a){function e(e,t){var n={};t=Array.isArray(t)?t:Object.keys(t);for(var r=0;r<t.length;r++)typeof e[t[r]]!="undefined"&&(n[t[r]]=e[t[r]]);return n}a.default=e},66),t.__d("ApiBatcher",["invariant","ApiClientUtils","QueryString","sdk.safelyParseResponse","whitelistObjectKeys"],function(e,t,n,r,o,a,i,l){"use strict";var s=50,u=105440539523;e=(function(){function e(e,t){this.$1=[],this.$2=[],this.$4=null,this.executeRequest=e,this.$3=t}var t=e.prototype;return t.scheduleBatchCall=function(){for(var t=this,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=e.prepareBatchParams(r),i=a.body,l=a.callback,u=a.method,c=a.relative_url,d={method:u,relative_url:c};i&&(d.body=i),this.$1.push(d),this.$2.push(l),this.$1.length==s?(this.$4&&window.clearTimeout(this.$4),this.$5()):this.$4||(this.$4=window.setTimeout(function(){t.$5()},0))},e.prepareBatchParams=function(e,t){t===void 0&&(t=[]),e=r("ApiClientUtils").parseCallDataFromArgs(e);var o=e.uri,a=e.callback;e=e.params.method;var i,l=o.removeQueryData("method").toString();if(e.toLowerCase()=="post"){var s=o.getQueryData();i=n("QueryString").encode(s),s=n("whitelistObjectKeys")(s,t),l=o.setQueryData(s).toString()}return{body:i,callback:a,method:e,relative_url:l}},t.$5=function(){this.$1.length>0||l(0,4698),this.$1.length===this.$2.length||l(0,4699);var e=this.$1,t=this.$2;if(this.$1=[],this.$2=[],this.$4=null,e.length===1){var r=e[0],o=t[0],a=r.body?n("QueryString").decode(r.body):null;this.executeRequest(r.relative_url,r.method,a,o);return}this.executeRequest("/","POST",{batch:e,include_headers:!1,batch_app_id:this.$3||u},function(e){Array.isArray(e)?e.forEach(function(e,r){t[r](n("sdk.safelyParseResponse")(e&&e.body))}):t.forEach(function(e){return e({error:{message:"Fatal: batch call failed."}})})})},e})(),i.default=e},98),t.__d("RequestConstants",["errorCode"],function(e,t,n,r,o,a,i,l){e={code:1,error_subcode:1357045,message:"unknown error (empty response)",type:"http",status:0},i.PARSE_ERROR_TEMPLATE=e},98),t.__d("sdk.Cookie",["QueryString","sdk.Runtime","sdk.Scribe","sdk.feature"],function(l,s,n,r,d,m,i){var e=null,t=["fblo_","fbsr_","fbm_"];function o(o,a,i,l){if(!(!c(t,"includes",!0,o)&&(r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"unknown_cookie_prefix."+o}),n("sdk.feature")("limit_unknown_cookie_setting",!1)))){o=o+n("sdk.Runtime").getClientID(),l=l?"; SameSite=None;Secure":"";var s=e!==null&&e!==".";s&&(document.cookie=o+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT"+l,document.cookie=o+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+l);var u=new Date(i).toUTCString();document.cookie=o+"="+a+(a&&i===0?"":"; expires="+u)+"; path=/"+(s?"; domain="+((o=e)!=null?o:""):"")+l}}function a(e){return e=e+n("sdk.Runtime").getClientID(),e=new RegExp("\\b"+e+"=([^;]*)\\b"),e=document.cookie.match(e),e==null?null:e[1]}function l(t){e=t,t=n("QueryString").encode({base_domain:e!==null&&e!=="."?e:""});var r=new Date;r.setFullYear(r.getFullYear()+1),o("fbm_",t,r.getTime(),!0)}function s(){return e}function u(){var t=a("fbm_");return t!=null&&e===null?(t=n("QueryString").decode(t),e=t.base_domain,{base_domain:e}):null}function d(){return a("fbsr_")}function m(e,t){if(e==="")throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");o("fbsr_",e,t,!0)}function p(){u(),o("fbsr_","",0,!0)}i.setRaw=o,i.getRaw=a,i.setDomain=l,i.getDomain=s,i.loadMeta=u,i.loadSignedRequest=d,i.setSignedRequestCookie=m,i.clearSignedRequestCookie=p},98),t.__d("CORSRequest",["Log","QueryString","RequestConstants","sdk.Cookie","sdk.safelyParseResponse","wrapFunction"],function(p,n,r,o,a,i,l){function t(t,n,o){if(o===void 0&&(o={withCredentials:!1}),!e.XMLHttpRequest)return null;var a=new XMLHttpRequest,i=function(){};if((o=o)!=null&&o.withCredentials&&(a.withCredentials=!0),"withCredentials"in a)a.open(t,n,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded");else if(e.XDomainRequest){a=new XDomainRequest;try{a.open(t,n),a.onprogress=a.ontimeout=i}catch(e){return null}}else return null;var l={send:function(t){a.send(t)}},s=r("wrapFunction")(function(){s=i,"onload"in l&&l.onload(a)},"entry","XMLHttpRequest:load"),u=r("wrapFunction")(function(){u=i,"onerror"in l&&l.onerror(a)},"entry","XMLHttpRequest:error");return a.onload=function(){s()},a.onerror=function(){u()},a.onreadystatechange=function(){a.readyState==4&&(a.status==200?s():u())},l}var s="for (;;);",u=s.length;function m(e){return e.substring(0,u)==s&&(e=e.substring(u)),e}function p(n,a,i,l,s){if(s===void 0&&(s={withCredentials:!1}),c(n,"includes",!0,"/../")||c(n,"includes",!0,"/..\\")||c(n,"includes",!0,"\\../")||c(n,"includes",!0,"\\..\\"))return o("Log").error("CORSRequest.execute(): path traversal is not allowed."),!1;try{if(e.document){var u=o("sdk.Cookie").getRaw("cppo");u&&(n=r("QueryString").appendToUrl(n,r("QueryString").encode({__cppo:u})))}}catch(e){}return i.suppress_http_code=1,u=r("QueryString").encode(i),a!="post"&&(n=r("QueryString").appendToUrl(n,u),u=""),i=t(a,n,s),i?(i.onload=function(e){l(r("sdk.safelyParseResponse")(m(e.responseText),n,e.status))},i.onerror=function(e){e.responseText?l(r("sdk.safelyParseResponse")(m(e.responseText),n,e.status)):l({error:d.extends({},o("RequestConstants").PARSE_ERROR_TEMPLATE,{status:e.status})})},i.send(u),!0):!1}n={execute:p},a=n,l.default=a},98),t.__d("ApiClient",["ApiBatcher","ApiClientUtils","Assert","CORSRequest","Log","ObservableMixin","QueryString","UrlMap","flattenObject"],function(R,L,n,r,E,a,i){var e,t,o,l=[],s=!1,u=2e3,m={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},p=["cors"],_=0,f=[],g=0,h=0,y,C=r("Log");function b(t,r,a,i){var u=g!==0&&_>=g;if(u){f.push(function(){return b(t,r,a,i)}),k.inform("request.queued",t,r,a);return}_++;var c=d.extends({},o,a);c.pretty=c.pretty||0,c=n("flattenObject")(c),u={cors:n("CORSRequest")};var m={},h=c.access_token||e;h&&(m.access_token=h),r!=="get"&&l.forEach(function(e){m[e]=c[e]}),h=Object.keys(m),h.length>0&&(t=n("QueryString").appendToUrl(t,m),delete c.access_token),h=p;for(var y=0;y<h.length;y++){var C=u[h[y]],v=d.extends({},c);if(C.execute(t,r,v,i,{withCredentials:s}))return}i({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function v(e,t,n,r,o,a,i,l){if(r.transport&&r.transport==="chunked"&&l===!1){e(i,!1);return}i&&i.error&&k.inform("request.error",t,n,r,i,Date.now()-o,a),k.inform("request.complete",t,n,r,i,Date.now()-o,a),_--,e&&e(i),l=f.length>0&&_<g,l&&(t=f.shift(),t())}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=r("ApiClientUtils").parseCallDataFromArgs(t),a=o.uri,i=o.callback,l=o.params,s=l.method;I(a,s)&&(s="post");var u=a.getProtocol()&&a.getDomain()?a.setQueryData({}).toString():r("UrlMap").resolve("graph_domain")+a.getPath(),d=h++;"_fb_domain"in l&&k.setKeptQueryParams(["_fb_domain"]),k.inform("request.prepare",u,l,d),b(u,s=="get"?"get":"post",l,c(v,"bind",!0,null,i,a.getPath(),s,l,Date.now(),d))}function R(){var e;y||(y=new(n("ApiBatcher"))(S,t)),(e=y).scheduleBatchCall.apply(e,arguments)}function L(e,o){n("Assert").isObject(e),n("Assert").isString(e.method,"method missing"),o||C.warn("No callback passed to the ApiClient");var a=e.method.toLowerCase().replace(".","_");e.format="json-strings",e.api_key=t,a=a in m?"api_read":"api",a=r("UrlMap").resolve(a)+"/restserver.php";var i=h++;o=c(v,"bind",!0,null,o,"/restserver.php","get",e,Date.now(),i),b(a,"get",e,o)}function E(e){return n("ApiBatcher").prepareBatchParams(e,l)}var k=c("Object","assign",!1,new(n("ObservableMixin")),{setAccessToken:function(n){e&&n&&e!==n&&C.error("You are overriding current access token, that means some other app is expecting different access token and you will probably break things. Please consider passing access_token directly to API parameters instead of overriding the global settings."),e=n},setAccessTokenForClientID:function(r,o){e&&t&&t!==o?C.error("Not overriding access token since it was not initialized by your application."):e=r},setWithCredentials:function(t){s=t},getWithCredentials:function(){return s},getClientID:function(){return t},getAccessToken:function(){return e},setClientID:function(n){t&&t!==n&&C.warn("Warning: Two different applications have attempted to set the client ID. Overriding the previously set client ID."),t=n},setDefaultParams:function(t){o=t},getDefaultParams:function(){return o},setDefaultTransports:function(t){p=t},setLogger:function(t){C=t},setMaxConcurrentRequests:function(t){g=t},setKeptQueryParams:function(t){l=t},getCurrentlyExecutingRequestCount:function(){return _},getQueuedRequestCount:function(){return f.length},rest:L,graph:S,scheduleBatchCall:R,prepareBatchParams:E});function I(e,t){return e.toString().length>u&&t==="get"}a=k,i.default=a},98),t.__d("FBEventsParamList",[],function(e,t,n,r,o,a){"use strict";var i="deep",l="shallow";e=(function(){function e(){this.list=[]}var t=e.prototype;return t.append=function(e,t){this.$1(encodeURIComponent(e),t,i)},t.each=function(e){for(var t=this.list,n=0,r=t.length;n<r;n++)e(t[n][0],t[n][1])},t.toQueryString=function(){var e=[];return this.each(function(t,n){e.push(t+"="+encodeURIComponent(n))}),e.join("&")},t.$1=function(e,t,n){Object(t)!==t?this.$2(e,t):n===i?this.$3(e,t):this.$2(e,s(t))},t.$2=function(e,t){t!=null&&this.list.push([e,t])},t.$3=function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=e+"["+encodeURIComponent(n)+"]";this.$1(r,t[n],l)}},e})();function s(e){return typeof JSON=="undefined"||JSON===null||!c("JSON","stringify",!1)?Object.prototype.toString.call(e):c("JSON","stringify",!1,e)}a.default=e},66),t.__d("FBEventsUtils",[],function(i,t,n,r,o,a){"use strict";var e=!("addEventListener"in document);function i(t,n,r){var o=e?"on"+n:n;n=function n(){e?t.detachEvent&&t.detachEvent(o,n):t.removeEventListener(o,n,!1),r()},e?t.attachEvent&&t.attachEvent(o,n):t.addEventListener(o,n,!1)}a.listenOnce=i},66),t.__d("FBPixelEndpoint",["invariant","FBEventsParamList","FBEventsUtils"],function(m,t,n,r,o,a,i,l){"use strict";var e="https://www.facebook.com/tr/",s=location.href,u=window.top!==window,c=document.referrer;function d(e,t,r,o){o===void 0&&(o={});var a=new(n("FBEventsParamList"));a.append("id",e),a.append("ev",t),a.append("dl",s),a.append("rl",c),a.append("if",u),a.append("ts",new Date().valueOf()),a.append("cd",r),a.append("sw",window.screen.width),a.append("sh",window.screen.height);for(e in o)a.append(e,o[e]);return a}function m(t,n,r,o){t=d(t,n,r,o),n=t.toQueryString(),2048>(e+"?"+n).length?p(e,n):_(e,t)}function p(e,t){var n=new Image;n.src=e+"?"+t}function _(e,t){var n="fb"+Math.random().toString().replace(".",""),o=document.createElement("form");o.method="post",o.action=e,o.target=n,o.acceptCharset="utf-8",o.style.display="none",e=!!(window.attachEvent&&!window.addEventListener),e=e?'<iframe name="'+n+'">':"iframe";var a=document.createElement(e);a instanceof HTMLIFrameElement||l(0,20659),a.src="javascript:false",a.id=n,a.name=n,o.appendChild(a),r("FBEventsUtils").listenOnce(a,"load",function(){t.each(function(e,t){var n=document.createElement("input");n.name=e,n.value=t,o.appendChild(n)}),r("FBEventsUtils").listenOnce(a,"load",function(){var e;(e=o.parentNode)==null||e.removeChild(o)}),o.submit()}),(e=document.body)==null||e.appendChild(o)}i.sendEvent=m},98),t.__d("FBAppEvents",["ApiClient","FBPixelEndpoint"],function(e,t,n,r,o,a,i){"use strict";function e(e,t,n,o,a){var i={};o!=null&&(i.vts=o.toString()),a!=null&&(i.at=a),r("FBPixelEndpoint").sendEvent(e.toString(),t,n,i)}function t(e,t,r,o){t="/"+t+"/user_properties",e={data:[{user_unique_id:e,custom_data:r}]},n("ApiClient").graph(t,"post",e,o)}i.logEvent=e,i.updateUserProperties=t},98),t.__d("Miny",[],function(e,t,n,r,o,a){var i="Miny1",l="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("");e={encode:function(t){if(/^$|[~\\]|__proto__/.test(t))return t;t=(t=t.match(/\w+|\W+/g))!=null?t:[];var e,n=Object.create(null);for(e=0;e<t.length;e++)n[t[e]]=(n[t[e]]||0)+1;var r=Object.keys(n);for(r.sort(function(e,t){return parseInt(n[t],10)-parseInt(n[e],10)}),e=0;e<r.length;e++){var o=(e-e%32)/32;n[r[e]]=o?o.toString(32)+l[e%32]:l[e%32]}for(o="",e=0;e<t.length;e++)o+=n[t[e]];return r.unshift(i,r.length),r.push(o),r.join("~")}},t=e,a.default=t},66),t.__d("getBlankIframeSrc",["sdk.UA"],function(e,t,n,r,o,a,i){function e(){return n("sdk.UA").ie()<10?"javascript:false":"about:blank"}i.default=e},98),t.__d("insertIframe",["GlobalCallback","getBlankIframeSrc","guid"],function(e,t,n,r,o,a,i){function e(e){var t=e.id!=null?e.id:n("guid")(),o=e.name!=null?e.name:n("guid")(),a=!1,i=!1,l=function(){a&&!i&&(i=!0,typeof e.onload=="function"&&e.onload(e.root.firstChild))},s=r("GlobalCallback").create(l);if(document.attachEvent){var u='<iframe id="'+t+'" name="'+o+'"'+(e.title!=null?' title="'+e.title+'"':"")+(e.className!=null?' class="'+e.className+'"':"")+' style="border:none;'+(e.width!=null?"width:"+e.width+"px;":"")+(e.height!=null?"height:"+e.height+"px;":"")+'" src="'+n("getBlankIframeSrc")()+'" frameborder="0" scrolling="no" allowtransparency="true" onload="'+s+'()"></iframe>';e.root.innerHTML='<iframe src="'+n("getBlankIframeSrc")()+'" frameborder="0" scrolling="no" style="height:1px"></iframe>',a=!0,window.setTimeout(function(){e.root.innerHTML=u,e.root.firstChild.src=e.url,typeof e.onInsert=="function"&&e.onInsert(e.root.firstChild)},0)}else s=document.createElement("iframe"),s.id=t,s.name=o,s.onload=l,s.scrolling="no",s.style.border="none",s.style.overflow="hidden",e.title!=null&&(s.title=e.title),e.className!=null&&(s.className=e.className),e.height!==void 0&&(s.style.height=e.height+"px"),e.width!==void 0&&(e.width==="100%"?s.style.width=e.width:s.style.width=e.width+"px"),e.root.appendChild(s),a=!0,s.src=e.url,e.onInsert&&e.onInsert(s)}i.default=e},98),t.__d("sdk.Impressions",["Miny","QueryString","UrlMap","getBlankIframeSrc","guid","insertIframe","sdk.Content","sdk.Runtime"],function(u,t,n,r,o,a,i){function e(e,t){t===void 0&&(t=!1);var o=n("sdk.Runtime").getClientID(),a=n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS);o&&(typeof e.api_key!="string"||e.api_key==="")&&(e.api_key=o),e.kid_directed_site=n("sdk.Runtime").getKidDirectedSite(),o=r("UrlMap").resolve("www")+"/platform/impression.php/"+n("guid")()+"/",a&&(o=r("UrlMap").resolve("www")+"/platform/canvas_impression.php/"+n("guid")()+"/");var i=n("QueryString").appendToUrl(o,e);if(i.length>2e3&&e.payload&&typeof e.payload=="string"){var u=e.payload,c=n("Miny").encode(u);c&&c.length<u.length&&(e.payload=c,i=n("QueryString").appendToUrl(o,e))}window.fetch?l(o,i,e,t||a):s(o,i,e,t||a)}function l(e,t,n,r){r===void 0&&(r=!1);var o={mode:"no-cors",credentials:"include"};if(r||(o.credentials="omit"),t.length<=2e3)window.fetch(t,o);else{r=new URLSearchParams;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var a=n[t];a!=null&&r.set(t,a)}a=d.extends({method:"POST",body:r},o),window.fetch(e,a)}}function s(e,t,o,a){if(a===void 0&&(a=!1),t.length<=2e3){var i=new Image;a||(i.crossOrigin="anonymous"),i.src=t}else{if(!a)return;i=n("guid")();var l=r("sdk.Content").appendHidden(document.createElement("div"));n("insertIframe")({url:n("getBlankIframeSrc")(),root:l,name:i,className:"fb_hidden fb_invisible",onload:function(){l.parentNode!=null&&l.parentNode.removeChild(l)}}),r("sdk.Content").submitToTarget({url:e,target:i,params:o})}}function u(t,n){(typeof n.source!="string"||n.source==="")&&(n.source="jssdk"),e({lid:t,payload:c("JSON","stringify",!1,n)})}i.impression=e,i.log=u},98),t.__d("sdk.AppEvents",["AppUserPropertyAPIBuiltinField","Assert","FBAppEvents","sdk.Impressions","sdk.Model","sdk.Runtime"],function(C,b,n,r,v,S,i){var e=Object.freeze({COMPLETED_REGISTRATION:"fb_mobile_complete_registration",VIEWED_CONTENT:"fb_mobile_content_view",SEARCHED:"fb_mobile_search",RATED:"fb_mobile_rate",COMPLETED_TUTORIAL:"fb_mobile_tutorial_completion",ADDED_TO_CART:"fb_mobile_add_to_cart",ADDED_TO_WISHLIST:"fb_mobile_add_to_wishlist",INITIATED_CHECKOUT:"fb_mobile_initiated_checkout",ADDED_PAYMENT_INFO:"fb_mobile_add_payment_info",ACHIEVED_LEVEL:"fb_mobile_level_achieved",UNLOCKED_ACHIEVEMENT:"fb_mobile_achievement_unlocked",PAGE_VIEW:"fb_page_view",SPENT_CREDITS:"fb_mobile_spent_credits"}),t=Object.freeze({ACTIVATED_APP:"fb_mobile_activate_app",PURCHASED:"fb_mobile_purchase"}),o=Object.freeze({APP_USER_ID:"_app_user_id",APP_VERSION:"_appVersion",CURRENCY:"fb_currency",REGISTRATION_METHOD:"fb_registration_method",CONTENT_TYPE:"fb_content_type",CONTENT_ID:"fb_content_id",SEARCH_STRING:"fb_search_string",SUCCESS:"fb_success",MAX_RATING_VALUE:"fb_max_rating_value",PAYMENT_INFO_AVAILABLE:"fb_payment_info_available",NUM_ITEMS:"fb_num_items",LEVEL:"fb_level",DESCRIPTION:"fb_description"}),a=/^[0-9a-zA-Z_][0-9a-zA-Z _-]{0,39}$/,l=40,s=a,u=l,m=100,p=100,_=100,f=100,g=c("Object","values",!1,n("AppUserPropertyAPIBuiltinField")),h=new(n("sdk.Model"))({UserID:"",Version:""});function y(e,t,r){var a=$();N(e);var i=h.getUserID();i!==""&&(r=r||{},r[o.APP_USER_ID]=i),i=h.getVersion(),i!==""&&(r=r||{},r[o.APP_VERSION]=i),n("sdk.Runtime").isCanvasEnvironment()?D(a,e,t,r):x(a,e,t,r)}function C(e,n,r){var a={};a[o.CURRENCY]=n,y(t.PURCHASED,e,d.extends({},r,a))}function b(){y(t.ACTIVATED_APP)}function v(){y(e.PAGE_VIEW)}function S(e){w(e),h.setUserID(e)}function R(){return h.getUserID()}function L(){h.setUserID("")}function E(e){M(e),h.setVersion(e)}function k(){return h.getVersion()}function I(){h.setVersion("")}function T(e,t){var n=$(),o=R();w(o),Object.keys(e).forEach(function(t){return e[t]==null&&delete e[t]}),P(e),r("FBAppEvents").updateUserProperties(o,n,e,t)}function D(e,t,n,o){t={ae:1,ev:t,vts:n,canvas:1},o&&(t.cd=o),r("sdk.Impressions").impression({api_key:e,payload:c("JSON","stringify",!1,t)})}function x(e,t,o,a){var i=n("sdk.Runtime").getAccessToken();r("FBAppEvents").logEvent(e,t,a||{},o,i)}function $(){var e=n("sdk.Runtime").getClientID();return n("Assert").isTrue(e!==null&&e.length>0,"You need to call FB.init() with App ID first."),e}function P(e){n("Assert").isTrue(Object.keys(e).length<=_,"The total number of user properties cannot exceed "+_+".");for(var t in e)n("Assert").isTrue(s.test(t)||c(g,"includes",!0,t),"Invalid user properties key name: "+t+". It must be between 1 and "+u+" characters, and must contain only alphanumerics, _, - or spaces, starting with alphanumeric or _. Or, it must be a pre-defined user property"),n("Assert").isTrue(e[t].toString().length<=f,"Invalid user properties value: "+e[t]+". It must be no longer than "+f+" characters.")}function N(e){n("Assert").isTrue(a.test(e),"Invalid event name: "+e+". It must be between 1 and "+l+" characters, and must be contain only alphanumerics, _, - or spaces, starting with alphanumeric or _.")}function M(e){n("Assert").isTrue(e.length<=p,"Invalid app version: "+e+". It must be no longer than "+p+" characters.")}function w(e){n("Assert").isTrue(e.length!==0,"User ID must be set before updateUserProperties can be called."),n("Assert").isTrue(e.length<=m,"Invalid user ID: "+e+". It must be no longer than "+m+" characters.")}C=Object.freeze({logEvent:y,logPurchase:C,activateApp:b,logPageView:v,setUserID:S,getUserID:R,clearUserID:L,updateUserProperties:T,setAppVersion:E,getAppVersion:k,clearAppVersion:I,EventNames:e,ParameterNames:o}),i.assertGetValidAppID=$,i.assertValidUserProperties=P,i.assertValidEventName=N,i.assertValidAppVersion=M,i.assertValidUserID=w,i.AppEvents=C},98),t.__d("sdk.Event",[],function(c,d,n,r,o,a){"use strict";var e="event.subscribe",t="event.unsubscribe",i;function l(){return i||(i={}),i}function s(n,r){var o=l();o[n]?o[n].indexOf(r)==-1&&o[n].push(r):o[n]=[r],n!=e&&n!=t&&m(e,n,o[n])}function u(n,r){var o=l()[n];o&&o.forEach(function(e,t){e===r&&o.splice(t,1)}),n!=e&&n!=t&&m(t,n,o)}function c(e,t){var n=arguments;if(!t()){var r=function r(){t.apply(t,n)&&u(e,r)};s(e,r)}}function d(e){delete l()[e]}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=l()[e];o&&o.forEach(function(e){e&&e.apply(this,n)})}a.SUBSCRIBE=e,a.UNSUBSCRIBE=t,a.subscribers=l,a.subscribe=s,a.unsubscribe=u,a.monitor=c,a.clear=d,a.fire=m},66),t.__d("sdk.AppEvents-public",["Assert","FB","sdk.AppEvents","sdk.Event","sdk.Runtime"],function(e,t,n,r,o,a,i){function e(){r("sdk.Event").subscribe("init:post",function(e){n("sdk.Runtime").getClientID()&&(e.autoLogAppEvents!==void 0&&(n("Assert").isBoolean(e.autoLogAppEvents,"Type of property autoLogAppEvents must be boolean"),n("sdk.Runtime").setAutoLogAppEvents(e.autoLogAppEvents)),n("sdk.Runtime").getAutoLogAppEvents()&&r("sdk.AppEvents").AppEvents.logPageView())}),n("FB").provide("AppEvents",r("sdk.AppEvents").AppEvents)}t={init:e},o=t,i.default=o},98),t.__d("sdk.AuthState",["sdk.AuthUtils"],function(l,s,n,r,o,a,i){"use strict";var e=t();function t(){var e={igAuthResponse:null,fbAuthResponse:null,fbLoginStatus:null,igLoginStatus:null};return{currentAuthResponse:null,shouldSecondLoginRequestTimeOut:!1,mixedAuthState:e,loadState:null,timer:null,currentTimeOut:r("sdk.AuthUtils").AuthConstants.CONNECTED_REVALIDATE_PERIOD}}function l(){return c("Object","assign",!1,t(),e)}function s(n){e=c("Object","assign",!1,t(),e,n)}n={getState:l,setState:s},o=n,i.default=o},98),t.__d("sdk.Observable",[],function(e,t,n,r,o,a){e=function(){var e=this;this.getSubscribers=function(t){return e.$1[t]||(e.$1[t]=[])},this.clearSubscribers=function(t){t&&(e.$1[t]=[])},this.subscribe=function(t,n){t=e.getSubscribers(t),t.push(n)},this.unsubscribe=function(t,n){t=e.getSubscribers(t);for(var r=0;r<t.length;r++)if(t[r]===n){t.splice(r,1);break}},this.inform=function(t,n){t=e.getSubscribers(t);for(var r=function(){if(t[o]===null)return 1;try{t[o].call(e,n)}catch(e){window.setTimeout(function(){throw e},0)}},o=0;o<t.length;o++)r()},this.$1={}},a.Observable=e},66),t.__d("sdk.AuthUtils",["sdk.AuthState","sdk.Cookie","sdk.Observable","sdk.Runtime"],function(t,o,n,r,a,l,i){"use strict";var e=31536e6;function t(e){return e!=null&&e.graphDomain!=null?e.graphDomain==="instagram":!1}function o(e){n("sdk.Runtime").getUseCookie()&&r("sdk.Cookie").getDomain()==null&&r("sdk.Cookie").setDomain("."+e)}function a(){var e={fbAuthResponse:null,fbLoginStatus:null,igAuthResponse:null,igLoginStatus:null},t=!1;n("sdk.AuthState").setState({mixedAuthState:e,shouldSecondLoginRequestTimeOut:t})}function l(e){e!=null?(n("sdk.Runtime").setGraphDomain(e),e=="instagram"&&n("sdk.Runtime").setIsVersioned(!1)):n("sdk.Runtime").setGraphDomain("")}function s(){r("sdk.Cookie").setRaw(y.LOGOUT_COOKIE_PREFIX,"y",Date.now()+e,!1)}function u(e){e===void 0&&(e=y.CONNECTED_REVALIDATE_PERIOD);var t=n("sdk.AuthState").getState().timer;t&&window.clearTimeout(t),t=window.setTimeout(function(){h.inform(y.REVALIDATE_TIMER_TIMEOUT)},e),n("sdk.AuthState").setState({timer:t}),n("sdk.AuthState").setState({currentTimeOut:e})}function c(){r("sdk.Cookie").setRaw(y.LOGOUT_COOKIE_PREFIX,"",0,!1),r("sdk.Cookie").setRaw(y.LOGOUT_COOKIE_PREFIX,"",0,!0)}var d=new(r("sdk.Observable")).Observable;function m(e,t){d.inform(e,t)}function p(e,t){d.subscribe(e,t)}function _(e){d.clearSubscribers(e)}function f(e,t){d.unsubscribe(e,t)}function g(e){return d.getSubscribers(e)}var h={inform:m,subscribe:p,clearSubscribers:_,unsubscribe:f,getSubscribers:g},y={LOCAL_STORAGE_TOKEN_PREFIX:"fblst_",IG_LOCAL_STORAGE_TOKEN_PREFIX:"iglst_",SESSION_STORAGE_LOGIN_STATUS_PREFIX:"fbssls_",CONNECTED_REVALIDATE_PERIOD:5400*1e3,DEFAULT_REVALIDATE_PERIOD:3600*24*1e3,LOGOUT_COOKIE_PREFIX:"fblo_",CORS_FETCH_COMPLETED_EVENT:"cors_fetch_completed",XFOA_FINAL_RESPONSE_EVENT:"xfoa_final_response",LOAD_XFOA_SUBSCRIBERS:"load_xfoa_subscribers",REVALIDATE_TIMER_TIMEOUT:"revalidate_timer_timeout"};i.isInstagramLogin=t,i.setBaseDomain=o,i.resetFBAndIGLoginStatus=a,i.setGraphDomain=l,i.setLogoutState=s,i.setRevalidateTimer=u,i.removeLogoutState=c,i.AuthInternalEvent=h,i.AuthConstants=y},98),t.__d("sdk.WebStorage",["Log"],function(e,t,n,r,o,a,i){"use strict";function e(){try{return window.localStorage}catch(e){r("Log").warn("Failed to get local storage")}return null}function t(){try{var e=window.localStorage;if(e){var t="__test__"+Date.now();e.setItem(t,""),e.removeItem(t)}return e}catch(e){r("Log").warn("Failed to get local storage")}return null}function n(){try{return window.sessionStorage}catch(e){r("Log").warn("Failed to get session storage")}return null}function o(){try{var e=window.sessionStorage;if(e){var t="__test__"+Date.now();e.setItem(t,""),e.removeItem(t)}return e}catch(e){r("Log").warn("Failed to get session storage")}return null}i.getLocalStorage=e,i.getLocalStorageForRead=t,i.getSessionStorage=n,i.getSessionStorageForRead=o},98),t.__d("sdk.AuthStorageUtils",["sdk.AuthUtils","sdk.Runtime","sdk.WebStorage","sdk.feature"],function(e,t,n,r,o,l,i){"use strict";function e(e,t){if(a()&&t!=null&&t!==""){var o=r("sdk.WebStorage").getLocalStorage();o&&(e=r("sdk.AuthUtils").isInstagramLogin(e)?r("sdk.AuthUtils").AuthConstants.IG_LOCAL_STORAGE_TOKEN_PREFIX:r("sdk.AuthUtils").AuthConstants.LOCAL_STORAGE_TOKEN_PREFIX,o.setItem(e+n("sdk.Runtime").getClientID(),t))}}function t(e){var t=r("sdk.WebStorage").getLocalStorage();t&&(e==="instagram"?t.removeItem(r("sdk.AuthUtils").AuthConstants.IG_LOCAL_STORAGE_TOKEN_PREFIX+n("sdk.Runtime").getClientID()):t.removeItem(r("sdk.AuthUtils").AuthConstants.LOCAL_STORAGE_TOKEN_PREFIX+n("sdk.Runtime").getClientID()))}function o(e,t){if(a()){var o=r("sdk.WebStorage").getSessionStorage();o&&o.setItem(r("sdk.AuthUtils").AuthConstants.SESSION_STORAGE_LOGIN_STATUS_PREFIX+n("sdk.Runtime").getClientID(),c("JSON","stringify",!1,{authResponse:e,status:t,expiresAt:e!=null&&e.expiresIn&&e.expiresIn!==0?Date.now()+Math.min(e.expiresIn*.75*1e3,r("sdk.AuthUtils").AuthConstants.CONNECTED_REVALIDATE_PERIOD):Date.now()+r("sdk.AuthUtils").AuthConstants.DEFAULT_REVALIDATE_PERIOD}))}}function a(){return n("sdk.feature")("cache_auth_response",!1)&&n("sdk.Runtime").getUseLocalStorage()&&location.protocol==="https:"}function l(){var e=null,t=null;if(n("sdk.Runtime").getUseLocalStorage()){var o=r("sdk.WebStorage").getLocalStorageForRead();o&&(e=o.getItem(r("sdk.AuthUtils").AuthConstants.LOCAL_STORAGE_TOKEN_PREFIX+n("sdk.Runtime").getClientID()),t=o.getItem(r("sdk.AuthUtils").AuthConstants.IG_LOCAL_STORAGE_TOKEN_PREFIX+n("sdk.Runtime").getClientID()))}return{fbToken:e,igToken:t}}function s(){if(!a())return null;var e=r("sdk.WebStorage").getSessionStorageForRead();if(e&&(e=e.getItem(r("sdk.AuthUtils").AuthConstants.SESSION_STORAGE_LOGIN_STATUS_PREFIX+n("sdk.Runtime").getClientID()),e!=null))try{if(e=c("JSON","parse",!1,e),e!=null&&e.expiresAt!=null&&e.expiresAt>Date.now())return e}catch(e){return null}return null}i.setLocalStorageToken=e,i.removeLocalStorageToken=t,i.setSessionStorage=o,i.getLocalStorageTokens=l,i.getCachedResponse=s},98),t.__d("Base64",[],function(e,t,n,r,o,a){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function l(e){return e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2),String.fromCharCode(i.charCodeAt(e>>>18),i.charCodeAt(e>>>12&63),i.charCodeAt(e>>>6&63),i.charCodeAt(e&63))}var s=">___?456789:;<=_______\0\x07\b	\n\v\f\r______\x1B !\"#$%&'()*+,-./0123";function u(e){return e=s.charCodeAt(e.charCodeAt(0)-43)<<18|s.charCodeAt(e.charCodeAt(1)-43)<<12|s.charCodeAt(e.charCodeAt(2)-43)<<6|s.charCodeAt(e.charCodeAt(3)-43),String.fromCharCode(e>>>16,e>>>8&255,e&255)}var d={encode:function(t){t=unescape(encodeURI(t));var e=(t.length+2)%3;return t=(t+"\0\0".slice(e)).replace(/[\s\S]{3}/g,l),t.slice(0,t.length+e-2)+"==".slice(e)},decode:function(t){t=t.replace(/[^A-Za-z0-9+\/]/g,"");var e=t.length+3&3;t=(t+"AAA".slice(e)).replace(/..../g,u),t=t.slice(0,t.length+e-3);try{return decodeURIComponent(escape(t))}catch(e){throw new Error("Not valid UTF-8")}},encodeObject:function(t){return d.encode(c("JSON","stringify",!1,t))},decodeObject:function(t){return c("JSON","parse",!1,d.decode(t))},encodeNums:function(t){return String.fromCharCode.apply(String,t.map(function(e){return i.charCodeAt((e|-(e>63?1:0))&-(e>0?1:0)&63)}))}};e=d,a.default=e},66),t.__d("sdk.SignedRequest",["Base64"],function(e,t,n,r,o,a,i){function e(e){return e==null||e===""?null:(e=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/"),n("Base64").decodeObject(e))}i.parse=e},98),t.__d("sdk.getContextType",["sdk.Runtime","sdk.UA"],function(e,t,n,r,o,a,i){function e(){return n("sdk.UA").nativeApp()?3:n("sdk.UA").mobile()?2:n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)?5:1}i.default=e},98),t.__d("sdk.statusCORS",["Log","UrlMap","sdk.AuthState","sdk.AuthStorageUtils","sdk.AuthUtils","sdk.Impressions","sdk.Runtime","sdk.Scribe","sdk.URI","sdk.feature","sdk.getContextType"],function(s,t,n,r,o,a,i){"use strict";var e=6e4,l=114;function s(t,o,a,i){i===void 0&&(i="facebook");var s=p(o),m=Date.now();function g(){var e=new XMLHttpRequest;e&&(e.open("GET",s.toString(),!0),e.withCredentials=!0,e.onreadystatechange=function(){if(e.readyState===4){if(n("sdk.feature")("e2e_ping_tracking",!0)){var o={init:m,close:Date.now(),method:"cors"};r("Log").debug("e2e: %s",c("JSON","stringify",!1,o)),r("sdk.Impressions").log(l,{payload:o})}e.status===200?u(t,(o=e.getResponseHeader("fb-s"))!=null?o:"unknown",(o=e.getResponseHeader("fb-ar"))!=null?o:"{}",i):d(t,e.status,a,i)}},e.send())}function h(){_(i)||window.setTimeout(function(){f(i==="facebook"?"instagram":"facebook"),n("sdk.AuthState").setState({shouldSecondLoginRequestTimeOut:!0})},e)}function y(){window.fetch(s.toString(),{referrer:"/",mode:"cors",credentials:"include"}).then(function(e){if(n("sdk.AuthState").getState().shouldSecondLoginRequestTimeOut){n("sdk.AuthState").setState({shouldSecondLoginRequestTimeOut:!1});return}if(h(),e.status===200){var r;u(t,(r=e.headers.get("fb-s"))!=null?r:"unknown",(r=e.headers.get("fb-ar"))!=null?r:"{}",i)}else d(t,e.status,a,i)}).catch(function(e){if(n("sdk.AuthState").getState().shouldSecondLoginRequestTimeOut){n("sdk.AuthState").setState({shouldSecondLoginRequestTimeOut:!1});return}h(),d(t,0,a,i)})}typeof window.fetch=="function"?y():g()}function u(e,t,o,a){switch(a===void 0&&(a="facebook"),t){case"connected":o=c("JSON","parse",!1,o);var i={accessToken:o.access_token,userID:o.user_id,expiresIn:Number(o.expires_in),signedRequest:o.signed_request,graphDomain:o.graph_domain};o.enforce_https!=null&&n("sdk.Runtime").setEnforceHttps(!0),o.data_access_expiration_time!=null&&(i.data_access_expiration_time=Number(o.data_access_expiration_time)),o.base_domain!=null&&r("sdk.AuthUtils").setBaseDomain(o.base_domain),r("sdk.AuthUtils").setGraphDomain(o.graph_domain),r("sdk.AuthStorageUtils").setLocalStorageToken(i,o.long_lived_token),r("sdk.AuthUtils").removeLogoutState(),o={authResponse:i,status:t,loginSource:a,cb:e},r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT,o);break;case"not_authorized":case"unknown":default:i={authResponse:null,status:t,loginSource:a,cb:e},r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT,i)}}function d(e,t,o,a){a===void 0&&(a="facebook"),t===0?(n("sdk.feature")("cors_status_fetch_cancel_tracking",!1)&&r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"CORS_STATUS_FETCH_CANCELLED",extra:{message:"Status 0 returned."}}),r("Log").error("Error retrieving login status, fetch cancelled.")):(r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"CORS_STATUS_FETCH",extra:{message:"HTTP Status Code "+t}}),r("Log").error("Error retrieving login status, HTTP status code: "+t)),t=m(),t&&t===a?(t={authResponse:o,status:n("sdk.Runtime").getLoginStatus(),loginSource:a,cb:e,shouldSetAuthResponse:!1},r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT,t)):(o={authResponse:null,status:"unknown",loginSource:a,cb:e,shouldSetAuthResponse:!1},r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT,o))}function m(){var e=n("sdk.AuthState").getState().currentAuthResponse;return e?r("sdk.AuthUtils").isInstagramLogin(e)?"instagram":"facebook":null}function p(e){if(e=new(n("sdk.URI"))(r("UrlMap").resolve("www").replace("web.","www.")+"/x/oauth/status").addQueryData("client_id",n("sdk.Runtime").getClientID()).addQueryData("input_token",e).addQueryData("redirect_uri",window.location.href).addQueryData("origin",n("sdk.getContextType")()).addQueryData("sdk","joey").addQueryData("wants_cookie_data",n("sdk.Runtime").getUseCookie()),window.location.ancestorOrigins){var t=window.location.ancestorOrigins;if(t.length>0){for(var o="",a=0;a<t.length;a++)o+=t[a],o+=",";e.addQueryData("ancestor_origins",o.slice(0,-1))}}return e}function _(e){var t=n("sdk.AuthState").getState().mixedAuthState;switch(e){case"facebook":return(t==null?void 0:t.fbLoginStatus)===null&&(t==null?void 0:t.igLoginStatus)!==null;case"instagram":return(t==null?void 0:t.igLoginStatus)===null&&(t==null?void 0:t.fbLoginStatus)!==null;default:return!1}}function f(e){var t=n("sdk.AuthState").getState().mixedAuthState;(t==null?void 0:t.fbLoginStatus)!=null&&(t==null?void 0:t.igLoginStatus)!=null||(t={authResponse:null,status:"unknown",loginSource:e},r("sdk.AuthUtils").AuthInternalEvent.inform("xFoAFetchCompleted",t))}t={getLoginStatusCORS:s},o=t,i.default=o},98),t.__d("sdk.Auth.LoginStatus",["Log","QueryString","sdk.Auth","sdk.AuthState","sdk.AuthStorageUtils","sdk.AuthUtils","sdk.Cookie","sdk.Runtime","sdk.Scribe","sdk.SignedRequest","sdk.feature","sdk.statusCORS"],function(l,t,n,r,o,a,i){"use strict";var e=/^https?:\/\/([\w\.]+)?\.facebook\.com\/?/;n("sdk.Runtime").subscribe("AccessToken.change",function(e){!e&&n("sdk.Runtime").getLoginStatus()==="connected"&&m(null,!0)});function l(e){if(e.legacyStatusInit?_.getLoginStatus(function(e){e!=null&&e.status==="connected"&&r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"legacy_status_init_success"})}):e.status&&_.getLoginStatus(),n("sdk.Runtime").getClientID()&&n("sdk.Runtime").getUseCookie()){n("sdk.feature")("log_cookies_usage",!1)&&r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"jssdk_cookie_toggled_on"}),e=r("sdk.Cookie").loadSignedRequest();var t;if(e){try{t=r("sdk.SignedRequest").parse(e)}catch(e){r("sdk.Cookie").clearSignedRequestCookie()}t!=null&&t.user_id!=null&&n("sdk.Runtime").setCookieUserID(t.user_id)}}}function s(e){window.location.protocol!=="https:"&&p(e);var t=n("sdk.AuthState").getState().timer;t&&(window.clearTimeout(t),n("sdk.AuthState").setState({timer:null})),r("sdk.AuthUtils").resetFBAndIGLoginStatus(),t=r("sdk.Cookie").getRaw(r("sdk.AuthUtils").AuthConstants.LOGOUT_COOKIE_PREFIX)==="y";var o=d(e),a=o.access_token;if(o=o.redirect_cancelled,t||o){p(e);return}t=r("sdk.AuthStorageUtils").getLocalStorageTokens(),o=t.fbToken,t=t.igToken,a!=null&&(c(a,"startsWith",!0,"IG")?t=a:o=a),n("sdk.Runtime").getShouldLoadFamilyLogin()&&n("sdk.feature")("should_enable_ig_login_status_fetch",!1)?n("sdk.Runtime").getFamilyLoginLoaded()?r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.LOAD_XFOA_SUBSCRIBERS):n("sdk.Runtime").subscribe("FamilyLoginLoaded.change",function(e){e&&r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.LOAD_XFOA_SUBSCRIBERS)}):r("sdk.AuthUtils").AuthInternalEvent.subscribe(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT,n("sdk.Auth").setFinalAuthResponse),u(o,t,e)}function u(e,t,o){n("sdk.statusCORS").getLoginStatusCORS(o,e,n("sdk.AuthState").getState().currentAuthResponse,"facebook"),n("sdk.Runtime").getShouldLoadFamilyLogin()&&n("sdk.feature")("should_enable_ig_login_status_fetch",!1)&&(t!=null?n("sdk.statusCORS").getLoginStatusCORS(o,t,n("sdk.AuthState").getState().currentAuthResponse,"instagram"):(e={authResponse:null,status:"unknown",loginSource:"instagram",cb:o},r("sdk.AuthUtils").AuthInternalEvent.inform(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT,e)))}function d(t){var o=null,a=!1;if(n("sdk.Runtime").getLoginStatus()!=="connected"&&(document.referrer===""||e.test(document.referrer))){var i=location.hash.substr(1);if(i!==""){var l=n("QueryString").decode(i,!0);o=l.access_token;var s=l.signed_request;if(o!=null&&r("sdk.AuthUtils").removeLogoutState(),window==top&&o!=null){var u=t;t=function(t){var e;t!=null&&t.status==="connected"&&((e=t.authResponse)==null?void 0:e.accessToken)===o&&(delete l.access_token,delete l.code,delete l.signed_request,location.hash=n("QueryString").encode(l),s!=null&&t.authResponse!=null&&(t.authResponse.signedRequest=s)),u!=null&&u(t)}}}i=n("QueryString").decode(location.search),i.error==="access_denied"&&(a=!0)}return{access_token:o,redirect_cancelled:a}}function m(t,o){o===void 0&&(o=!1);var a=n("sdk.Runtime").getClientID();if(a==null||a===""){r("Log").warn("FB.getLoginStatus() called before calling FB.init()."),p(t);return}if(!(typeof a=="number"||typeof a=="string")||a===0||typeof a=="string"&&(a==="0"||!/^\d+$/.test(a))){r("Log").warn("FB.getLoginStatus() not checked for an invalid client ID "+a),p(t);return}if(a=n("sdk.Runtime").getLoginStatus()!=="connected"&&e.test(document.referrer)&&location.hash.indexOf("cb=")>-1,!a&&!o&&(a=r("sdk.AuthStorageUtils").getCachedResponse(),a!=null)){var i;n("sdk.AuthState").setState({loadState:"loaded"}),n("sdk.Auth").setAuthResponse(a.authResponse,(i=a.status)!=null?i:"unknown","facebook",!0),r("sdk.AuthUtils").setRevalidateTimer(a.status==="connected"?r("sdk.AuthUtils").AuthConstants.CONNECTED_REVALIDATE_PERIOD:r("sdk.AuthUtils").AuthConstants.DEFAULT_REVALIDATE_PERIOD)}if(!o){if(n("sdk.AuthState").getState().loadState==="loaded"){t&&(i={authResponse:n("sdk.Auth").getAuthResponse(),status:n("sdk.Runtime").getLoginStatus()},t(i));return}else if(n("sdk.AuthState").getState().loadState==="loading"){t&&r("sdk.AuthUtils").AuthInternalEvent.subscribe("FB.loginStatus",t);return}}t&&r("sdk.AuthUtils").AuthInternalEvent.subscribe("FB.loginStatus",t),n("sdk.AuthState").setState({loadState:"loading"}),a=function(t){n("sdk.AuthState").setState({loadState:"loaded"}),r("sdk.AuthUtils").AuthInternalEvent.inform("FB.loginStatus",t),r("sdk.AuthUtils").AuthInternalEvent.clearSubscribers("FB.loginStatus")},s(a)}function p(e){var t="unknown";n("sdk.Auth").setAuthResponse(null,t,null),t={authResponse:null,status:t,loginSource:null},e&&e(t)}var _={getLoginStatus:m,fetchLoginStatus:s,onSDKInit:l};t=_,i.default=t},98),t.__d("sdk.LoggingUtils",["sdk.Impressions","sdk.feature"],function(o,l,n,r,s,a,i){"use strict";var e={buttonLoad:"client_login_button_load",buttonClick:"client_login_click",loginSuccess:"client_login_success",loginCancel:"client_login_cancel",popupHide:"client_login_popup_hide_xfoa",popupShow:"client_login_popup_show_xfoa",loginEnd:"client_login_end",loginStart:"client_login_start",loginCompleteHeartbeat:"client_login_complete_heartbeat",loginStatusPopupShowXfoa:"client_login_status_popup_show_xfoa",loginStatusPopupHideXfoa:"client_login_status_popup_hide_xfoa",loginStatusPopupClickXfoa:"client_login_status_popup_click_xfoa",loginStatusPopupErrorXfoa:"client_login_status_popup_error_xfoa"};function t(e,t,o){r("sdk.Impressions").log(117,{payload:d.extends({},o||{},{logger_id:e,action:t,client_funnel_version:n("sdk.feature")("oauth_funnel_logger_version",1)})})}function o(e,n){var r=e&&e.cbt!==void 0?Number(e.cbt):0;t(e==null?void 0:e.logger_id,n,{cbt_delta:Date.now()-r})}function l(e,n){n!==void 0&&t(e,n)}function s(n,r){n!==void 0&&t(r,e.loginStatusPopupErrorXfoa,{message:n})}i.logEventName=e,i.logEvent=t,i.logLoginEvent=o,i.logPopupEvent=l,i.logDisambiguationTrayEvent=s},98),t.__d("sdk.Auth",["Log","UrlMap","sdk.AuthState","sdk.AuthStorageUtils","sdk.AuthUtils","sdk.Cookie","sdk.Frictionless","sdk.LoggingUtils","sdk.Runtime","sdk.Scribe","sdk.SignedRequest","sdk.URI","sdk.ui"],function(o,t,n,r,l,m,i){t("sdk.Frictionless");var e=5*1e3;function o(e,t){t&&t.perms&&!t.scope&&(t.scope=t.perms,delete t.perms,r("Log").warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var o=n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)||n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.PAGETAB);n("sdk.ui")(d.extends({method:"permissions.oauth",display:o?"async":"popup",domain:location.hostname},t||{}),e)}function a(e){switch(e){case"connected":return"connected";case"not_authorized":return"not_authorized";default:return"unknown"}}function l(e){(e==null?void 0:e.shouldSetAuthResponse)!==!1&&((e==null?void 0:e.status)==="connected"&&r("sdk.AuthUtils").setRevalidateTimer(),s(e==null?void 0:e.authResponse,a(e==null?void 0:e.status),e==null?void 0:e.loginSource));var t=e==null?void 0:e.cb;t!=null&&(e={authResponse:e==null?void 0:e.authResponse,status:a(e==null?void 0:e.status),loginSource:e==null?void 0:e.loginSource},t(e)),r("sdk.AuthUtils").AuthInternalEvent.clearSubscribers(r("sdk.AuthUtils").AuthConstants.CORS_FETCH_COMPLETED_EVENT),r("sdk.AuthUtils").AuthInternalEvent.clearSubscribers(r("sdk.AuthUtils").AuthConstants.XFOA_FINAL_RESPONSE_EVENT)}function s(e,t,o,a){o===void 0&&(o="facebook"),a===void 0&&(a=!1);var i=n("sdk.Runtime").getUserID(),l=n("sdk.Runtime").getLoginStatus(),s="";if(e!=null){if(n("sdk.AuthState").setState({loadState:"loaded"}),e.userID!=null&&e.userID!=="")s=e.userID;else if(e.signedRequest!=null&&e.signedRequest!==""){var u=r("sdk.SignedRequest").parse(e.signedRequest);u!=null&&u!==""&&u.user_id!=null&&u.user_id!==""&&(s=u.user_id)}n("sdk.Runtime").getUseCookie()&&(u=e.expiresIn===0?0:Date.now()+e.expiresIn*1e3,r("sdk.Cookie").setSignedRequestCookie(e.signedRequest,u))}else n("sdk.Runtime").getUseCookie()&&r("sdk.Cookie").clearSignedRequestCookie(),n("sdk.Runtime").getUseLocalStorage()&&r("sdk.AuthStorageUtils").removeLocalStorageToken((u=o)!=null?u:"facebook");u=l==="unknown"&&e!=null||n("sdk.Runtime").getUseCookie()&&n("sdk.Runtime").getCookieUserID()!==s;var c=i!=null&&i!==""&&e==null;i=e!=null&&i!=null&&i!==""&&i!=s;var d=e!=n("sdk.AuthState").getState().currentAuthResponse;return l=t!=l,n("sdk.Runtime").setLoginStatus(t),n("sdk.Runtime").setAccessToken(e&&e.accessToken||null),n("sdk.Runtime").setUserID(s),n("sdk.Runtime").setGraphDomain(e&&e.graphDomain||""),n("sdk.AuthState").setState({currentAuthResponse:e}),s={authResponse:e,status:t,loginSource:o},(c||i)&&r("sdk.AuthUtils").AuthInternalEvent.inform("logout",s),(u||i)&&r("sdk.AuthUtils").AuthInternalEvent.inform("login",s),d&&r("sdk.AuthUtils").AuthInternalEvent.inform("authresponse.change",s),l&&r("sdk.AuthUtils").AuthInternalEvent.inform("status.change",s),a||r("sdk.AuthStorageUtils").setSessionStorage(e,t),s}function u(){return n("sdk.AuthState").getState().currentAuthResponse}function m(e){var t=u(),o=r("sdk.AuthUtils").isInstagramLogin(t)?"instagram":"facebook";if(s(null,"unknown",o),r("sdk.AuthUtils").setLogoutState(),t!=null&&t.accessToken!=null){o=new(n("sdk.URI"))(r("UrlMap").resolve("www").replace("web.","www.")+"/x/oauth/logout").addQueryData("access_token",t.accessToken);var a=new XMLHttpRequest,i=!1;a&&(a.open("GET",o.toString(),!0),a.withCredentials=!0,e&&(a.onreadystatechange=function(){if(a.readyState>=2){if(i)return;e({authResponse:u(),status:n("sdk.Runtime").getLoginStatus()}),i=!0}}),a.send())}r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"PLATFORM_AUTH_LOGOUT",extra:{args:{fblo:!0}}})}function p(e,t,o,a){return function(o){if(o&&o.access_token){var i=r("sdk.SignedRequest").parse(o.signed_request);i=i!=null&&i.user_id!=null?i.user_id:null,t={accessToken:o.access_token,userID:i,expiresIn:Number(o.expires_in),signedRequest:o.signed_request,graphDomain:o.graph_domain},o.asset_scopes&&(t=d.extends({},t,{asset_scopes:c("JSON","parse",!1,o.asset_scopes)})),t=f(t,o),r("sdk.AuthUtils").removeLogoutState(),i="connected",s(t,i),_(a)}else if(o&&o.asset_scopes)t={asset_scopes:c("JSON","parse",!1,o.asset_scopes)},t=f(t,o),r("sdk.AuthUtils").removeLogoutState(),i="connected",s(t,i),_(a);else if(o&&(o.error||o.error_message||o.error_description||o.error_code||o.error_reason||o.result&&o.result.closeWindow)){r("sdk.AuthUtils").setLogoutState(),i="unknown",s(null,i);var l=o.error_message||o.error_description;i={authResponse:u(),status:i,message:l},o.error==="access_denied"||o.result&&o.result.closeWindow?r("sdk.AuthUtils").AuthInternalEvent.inform("loginDenied",i):r("sdk.AuthUtils").AuthInternalEvent.inform("loginError",i)}else o&&o.result&&(r("sdk.AuthUtils").removeLogoutState(),t=o.result.authResponse);return e&&(l={authResponse:t,status:n("sdk.Runtime").getLoginStatus()},e(l)),t}}function _(t){t&&t.tp&&t.tp!=="unspecified"||(r("sdk.LoggingUtils").logLoginEvent(t,r("sdk.LoggingUtils").logEventName.loginEnd),window.setTimeout(function(){r("sdk.LoggingUtils").logLoginEvent(t,r("sdk.LoggingUtils").logEventName.loginCompleteHeartbeat)},e))}function f(e,t){return t.granted_scopes&&(e=d.extends({},e,{grantedScopes:t.granted_scopes})),t.data_access_expiration_time&&(e=d.extends({},e,{data_access_expiration_time:Number(t.data_access_expiration_time)})),t.base_domain!=null&&r("sdk.AuthUtils").setBaseDomain(t.base_domain),r("sdk.AuthUtils").setGraphDomain(t.graph_domain),t.enforce_https&&n("sdk.Runtime").setEnforceHttps(!0),t.referred&&(e=d.extends({},e,{referred:t.referred})),r("sdk.AuthStorageUtils").setLocalStorageToken(e,t.long_lived_token),e}t={setFinalAuthResponse:l,login:o,logout:m,setAuthResponse:s,getAuthResponse:u,parseSignedRequest:r("sdk.SignedRequest").parse,xdResponseWrapper:p,subscribe:r("sdk.AuthUtils").AuthInternalEvent.subscribe,unsubscribe:r("sdk.AuthUtils").AuthInternalEvent.unsubscribe},l=t,i.default=l},98),t.__d("dedupString",[],function(e,t,n,r,o,a){"use strict";function e(e){var t;return Object.keys((t={},t[e]=0,t))[0]}a.default=e},66),t.__d("emptyFunction",[],function(e,t,n,r,o,a){function e(e){return function(){return e}}t=function(){},t.thatReturns=e,t.thatReturnsFalse=e(!1),t.thatReturnsTrue=e(!0),t.thatReturnsNull=e(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},n=t,a.default=n},66),t.__d("passiveEventListenerUtil",[],function(i,t,n,r,o,a){"use strict";t=!1;try{n=Object.defineProperty({},"passive",{get:function(){t=!0}}),window.addEventListener("test",null,n)}catch(e){}var e=t;function i(t){return e||typeof t=="boolean"?t:t.capture||!1}a.isPassiveEventListenerSupported=e,a.makeEventOptions=i},66),t.__d("DOMEventListener",["invariant","dedupString","emptyFunction","passiveEventListenerUtil","wrapFunction"],function(e,t,n,r,o,a,i){var l=t("passiveEventListenerUtil").isPassiveEventListenerSupported,s,u;window.addEventListener?(s=function(n,r,o,a){a===void 0&&(a=!1),o.wrapper=t("wrapFunction")(o,"entry",t("dedupString")("DOMEventListener.add "+r)),n.addEventListener(r,o.wrapper,l?a:!1)},u=function(t,n,r,o){o===void 0&&(o=!1),t.removeEventListener(n,r.wrapper,l?o:!1)}):window.attachEvent?(s=function(n,r,o,a){o.wrapper=t("wrapFunction")(o,"entry","DOMEventListener.add "+r),n.attachEvent||i(0,2798),n.attachEvent("on"+r,o.wrapper)},u=function(t,n,r,o){t.detachEvent||i(0,2799),t.detachEvent("on"+n,r.wrapper)}):u=s=t("emptyFunction"),e={add:function(t,n,r,o){return o===void 0&&(o=!1),s(t,n,r,o),{remove:function(){u(t,n,r,o)}}},remove:u},o.exports=e},null),t.__d("JSONRPC",["Log"],function(e,t,n,r,o,a){e=(function(){"use strict";function e(e){var t=this;this.$1=0,this.$2={},this.remote=function(e){return t.$3=e,t.remote},this.local={},this.$4=e}var n=e.prototype;return n.stub=function(e){var t=this;this.remote[e]=function(){for(var n={jsonrpc:"2.0",method:e},r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];typeof o[o.length-1]=="function"&&(n.id=++t.$1,t.$2[n.id]=o.pop()),n.params=o,t.$4(c("JSON","stringify",!1,n),t.$3||{method:e})}},n.read=function(e,n){e=c("JSON","parse",!1,e);var r=e.id;if(!e.method){if(!this.$2[r]){t("Log").warn("Could not find callback %s",r);return}var o=this.$2[r];delete this.$2[r],delete e.id,delete e.jsonrpc,o(e);return}var a=this;o=this.local[e.method];var i;if(r?i=function(t,o){var e={jsonrpc:"2.0",id:r};e[t]=o,window.setTimeout(function(){a.$4(c("JSON","stringify",!1,e),n)},0)}:i=function(){},!o){t("Log").error('Method "%s" has not been defined',e.method),i("error",{code:-32601,message:"Method not found",data:e.method});return}e.params.push(c(i,"bind",!0,null,"result")),e.params.push(c(i,"bind",!0,null,"error"));try{o=o.apply(n||null,e.params),typeof o!="undefined"&&i("result",o)}catch(n){t("Log").error("Invokation of RPC method %s resulted in the error: %s",e.method,n.message),i("error",{code:-32603,message:"Internal error",data:n.message})}},e})(),o.exports=e},null),t.__d("Queue",[],function(e,t,n,r,o,a){var i={};e=(function(){function e(e){this._timeout=null,this._interval=(e==null?void 0:e.interval)||0,this._processor=e==null?void 0:e.processor,this._queue=[],this._stopped=!0}var t=e.prototype;return t._dispatch=function(e){var t=this;if(!(this._stopped||this._queue.length===0)){if(e=this._processor,e==null)throw this._stopped=!0,new Error("No processor available");var n=this._interval;if(n!=null)e.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return t._dispatch()},n);else for(;this._queue.length;)e.call(this,this._queue.shift())}},t.enqueue=function(e){return this._processor&&!this._stopped?this._processor(e):this._queue.push(e),this},t.start=function(e){return e&&(this._processor=e),this._stopped=!1,this._dispatch(),this},t.isStarted=function(){return!this._stopped},t.dispatch=function(){this._dispatch(!0)},t.stop=function(e){return this._stopped=!0,e&&this._timeout!=null&&clearTimeout(this._timeout),this},t.merge=function(e,t){return t?(t=this._queue).unshift.apply(t,e._queue):(t=this._queue).push.apply(t,e._queue),e._queue=[],this._dispatch(),this},t.getLength=function(){return this._queue.length},e.get=function(t,n){var r;return t in i?r=i[t]:r=i[t]=new e(n),r},e.exists=function(e){return e in i},e.remove=function(e){return delete i[e]},e})(),a.default=e},66),t.__d("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,n,r,o,a,i){var l=new(n("Queue")),s=new(n("JSONRPC"))(function(e){l.enqueue(e)});e={local:s.local,remote:s.remote,stub:c(s.stub,"bind",!0,s),setInQueue:function(t){n("Assert").isInstanceOf(n("Queue"),t),t.start(function(e){s.read(e)})},getOutQueue:function(){return l}},t=e,i.default=t},98),t.__d("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,n,r,o,a,i){function e(e){n("sdk.RPC").remote.getPageInfo(function(t){e(t.result)})}function t(e,t){n("sdk.RPC").remote.scrollTo({x:e||0,y:t||0})}n("sdk.RPC").stub("getPageInfo"),n("sdk.RPC").stub("scrollTo"),r={getPageInfo:e,scrollTo:t},o=r,i.default=o},98),t.__d("sdk.DialogUtils",["DOMEventListener","sdk.Content","sdk.DOM","sdk.UA"],function(a,l,n,r,s,u,i){"use strict";var e=590,t=240,o=575;function a(){return window.innerWidth<window.innerHeight}function l(e,t,n){var o=null;return r("DOMEventListener").add(e,"click",function(){o!==null&&(window.clearTimeout(o),o=null,t()),o=window.setTimeout(function(){o=null},n)})}function s(e,t,n){var o,a,i=function(){o=window.setTimeout(t,n)};return i(),r("DOMEventListener").add(e,"mouseenter",function(){window.clearTimeout(o),a||(a=r("DOMEventListener").add(e,"mouseleave",function(){i()}))})}function u(e){if(!n("sdk.UA").mobile())return null;var t="onorientationchange"in window?"orientationchange":"resize",o=function(n){return window.setTimeout(function(t){return e(t)},50)};return r("DOMEventListener").add(window,t,o)}function c(e){if(e!=null){var t=r("sdk.DOM").getViewportInfo();e.style.minHeight=t.height?t.height+"px":"",e.style.top=t.scrollTop?t.scrollTop+"px":""}}function d(a,i,l){var s,u,c,d=function(t){return typeof t=="number"?t:parseInt(t,10)},m=r("sdk.DOM").getViewportInfo(),p=d(a.offsetWidth);d=d(a.offsetHeight),s=(s=m.scrollLeft)!=null?s:0+((s=m.width)!=null?s:o-p)/2,p=((p=m.height)!=null?p:t-d)/2.5,s<p&&(p=s),u=(u=m.height)!=null?u:t-d-p,c=((c=m.height)!=null?c:t-d)/2,l&&(c=l.scrollTop-l.offsetTop+(l.clientHeight-d)/2),c<p?c=p:c>u&&(c=u),c+=(l=m.scrollTop)!=null?l:0,n("sdk.UA").mobile()&&(p=100,i?(p+=((u=m.height)!=null?u:e-d)/2,r("sdk.DOM").addCss(document.body,"fb_reposition")):(r("sdk.DOM").addCss(document.body,"fb_hidden"),document.body.style.width="auto",c=1e4),l=r("sdk.DOM").getByClass("fb_dialog_padding",a),l.length&&(l[0].style.height=p+"px")),a.style.left=(s>0?s:0)+"px",a.style.top=(c>0?c:0)+"px"}function m(t,n,o){d(t,n,o),n=r("sdk.DOM").getViewportInfo(),n=(o=n.scrollTop)!=null?o:0+((o=n.height)!=null?o:e-t.offsetHeight)*.05,r("sdk.DOM").setStyle(t,"top",n+"px")}function p(){var e=document.createElement("div");return e.setAttribute("id","fb_dialog_ipad_overlay"),c(e),e}function _(e){e=e||{};var t=document.createElement("div"),o=e;if(o=o.onClose,e.closeIcon&&o){var a=document.createElement("a");a.className="fb_dialog_close_icon",r("DOMEventListener").add(a,"click",o),t.appendChild(a)}return o="fb_dialog",o+=" "+(e.classes||""),o+=n("sdk.UA").mobile()?" fb_dialog_mobile":" fb_dialog_advanced",t.className=o,e.width&&(a=parseInt(e.width,10),isNaN(a)||(t.style.width=a+"px")),o=document.createElement("div"),e.content&&r("sdk.Content").append(e.content,o),o.className="fb_dialog_content",t.appendChild(o),n("sdk.UA").mobile()&&(a=document.createElement("div"),a.className="fb_dialog_padding",t.appendChild(a)),{dialogElement:t,contentRoot:o}}function f(e){var t=document.body;e?r("sdk.DOM").removeCss(t,"fb_reposition"):r("sdk.DOM").removeCss(t,"fb_hidden")}i.isOrientationPotrait=a,i.addDoubleClickAction=l,i.addIdleDesktopAction=s,i.addMobileOrientationChangeAction=u,i.applyScreenDimensions=c,i.setDialogPositionToCenter=d,i.setDialogPositionToTop=m,i.setupNewDarkOverlay=p,i.setupNewDialog=_,i.onDialogHideCleanup=f},98),t.__d("sdk.fbt",[],function(e,t,n,r,o,a){e=function(){},e._=function(e){var t=typeof e=="string"?e:e[0];return t==null&&typeof e=="object"&&e!==null&&!Array.isArray(e)&&"*"in e&&(t=e["*"]),t},t=e,a.default=t},66),t.__d("sdk.Dialog",["DOMEventListener","ObservableMixin","Type","sdk.Canvas.Environment","sdk.Content","sdk.DOM","sdk.DialogUtils","sdk.Runtime","sdk.UA","sdk.fbt"],function(e,t,n,r,o,a,i){var l=30,s=590,u=500,d=240,m=575;function p(){var e=r("sdk.DOM").getViewportInfo(),t=e.height;return e=e.width,t!=null&&e!=null?{width:Math.min(e,u),height:Math.min(t,s)}:null}var _=n("Type").extend({constructor:function(t,n){this.parent(),this.id=t,this.display=n,this._e2e={},f._dialogs||(f._dialogs={},f._addOrientationHandler()),f._dialogs[t]=this,this.trackEvent("init")},trackEvent:function(t,n){return this._e2e[t]?this:(this._e2e[t]=n||Date.now(),t=="close"&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(t){typeof t=="string"&&(t=c("JSON","parse",!1,t));for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&this.trackEvent(e,t[e]);return this}},n("ObservableMixin")),f={newInstance:function(t,n){return new _(t,n)},_dialogs:null,_lastYOffset:0,_availScreenWidth:null,_overlayListeners:[],_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(t){return f._dialogs[t]},_findRoot:function(t){for(t=t;t;){if(r("sdk.DOM").containsCss(t,"fb_dialog"))return t;t.parentElement instanceof HTMLElement&&(t=t.parentElement)}},_createWWWLoader:function(t){t=t||"460";var e=document.createElement("div");return e.innerHTML='<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',f.create({content:e,width:t})},_createMobileLoader:function(){var e=document.createElement("div");return n("sdk.UA").nativeApp()?e.innerHTML='<div class="dialog_header"></div>':f.isTabletStyle()?e.innerHTML='<div class="overlayLoader"><div id="fb_dialog_loader_spinner"></div><a id="fb_dialog_loader_close" href="#">'+n("sdk.fbt")._("Cancel")+"</a></div>":e.innerHTML='<div class="dialog_header"><table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+n("sdk.fbt")._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>         '+n("sdk.fbt")._("Loading...")+'        </div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table></div>',f.create({classes:"loading"+(f.isTabletStyle()?" centered":""),content:e})},_setDialogOverlayStyle:function(){f._overlayEl!=null&&r("sdk.DialogUtils").applyScreenDimensions(f._overlayEl)},_showTabletOverlay:function(t){f.isTabletStyle()&&(f._overlayEl==null?(t=r("sdk.DialogUtils").setupNewDarkOverlay(),t.className="",f._overlayEl=t,r("sdk.Content").append(f._overlayEl,null)):f._overlayEl.className="")},_hideTabletOverlay:function(){f.isTabletStyle()&&(f._overlayEl!=null&&(f._overlayEl.className="hidden"),f._overlayListeners.forEach(function(e){return e.remove()}),f._overlayListeners=[])},showLoader:function(t,o){t||(t=function(){});var e=function(){f._hideLoader(),r("sdk.DialogUtils").onDialogHideCleanup(f.isTabletStyle()),f._hideTabletOverlay(),t!=null&&t()};f._showTabletOverlay(e),f._loaderEl||(f._loaderEl=f._findRoot(n("sdk.UA").mobile()?f._createMobileLoader():f._createWWWLoader(o))),o=document.getElementById("fb_dialog_loader_close"),o&&(r("sdk.DOM").removeCss(o,"fb_hidden"),o=r("DOMEventListener").add(o,"click",e),f._overlayListeners.push(o)),f._loaderEl!=null&&f._makeActive(f._loaderEl)},_hideLoader:function(){f._loaderEl&&f._loaderEl==f._active&&(f._loaderEl.style.top="-10000px")},_makeActive:function(t){f._setDialogSizes(),f._lowerActive(),f._active=t,n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)&&n("sdk.Canvas.Environment").getPageInfo(function(e){f._centerActive(e)}),f._centerActive()},_lowerActive:function(){f._active&&(f._active.style.top="-10000px",f._active=null)},_removeStacked:function(t){f._stack=f._stack.filter(function(e){return e!=t})},_centerActive:function(t){var e=f._active;e&&r("sdk.DialogUtils").setDialogPositionToCenter(e,f.isTabletStyle(),t)},_setDialogSizes:function(t){if(t===void 0&&(t=!1),!!n("sdk.UA").mobile()){for(var e in f._dialogs)if(Object.prototype.hasOwnProperty.call(f._dialogs,e)){var r=document.getElementById(e);r&&(r.style.width=f.getDefaultSize().width+"px",t||(r.style.height=f.getDefaultSize().height+"px"))}}},getDefaultSize:function(){if(n("sdk.UA").mobile()){var e=p();if(e){var t;return((t=(t=r("sdk.DOM").getViewportInfo())==null?void 0:t.width)!=null?t:u<=e.width)&&(e.width=(t=(t=r("sdk.DOM").getViewportInfo())==null?void 0:t.width)!=null?t:u-l),((t=(t=r("sdk.DOM").getViewportInfo())==null?void 0:t.height)!=null?t:s<=e.height)&&(e.height=(t=(t=r("sdk.DOM").getViewportInfo())==null?void 0:t.height)!=null?t:s-l),e}if(n("sdk.UA").ipad())return{width:u,height:s};if(n("sdk.UA").android())return{width:screen.availWidth,height:screen.availHeight};t=window.innerWidth,e=window.innerHeight;var o=t/e>1.2;return{width:t,height:Math.max(e,o?screen.width:screen.height)}}return{width:m,height:d}},_handleOrientationChange:function(){var e;if(f._availScreenWidth=(e=(e=r("sdk.DOM").getViewportInfo())==null?void 0:e.width)!=null?e:u,f.isTabletStyle())f._setDialogSizes(!0),f._centerActive(),f._setDialogOverlayStyle();else{e=f.getDefaultSize().width;for(var t in f._dialogs)if(Object.prototype.hasOwnProperty.call(f._dialogs,t)){var n=document.getElementById(t);n&&(n.style.width=e+"px")}}},_addOrientationHandler:function(){var e;n("sdk.UA").mobile()&&(f._availScreenWidth=(e=(e=r("sdk.DOM").getViewportInfo())==null?void 0:e.width)!=null?e:u,r("sdk.DialogUtils").addMobileOrientationChangeAction(f._handleOrientationChange))},create:function(t){var e=r("sdk.DialogUtils").setupNewDialog(t);return r("sdk.Content").append(e.dialogElement),t.visible&&f.show(e.dialogElement),typeof t.styles=="object"&&c("Object","assign",!1,e.dialogElement.style,t.styles),e.contentRoot},show:function(t){var e=f._findRoot(t);e!=null&&(f._removeStacked(e),f._hideLoader(),f._makeActive(e),f._stack.push(e),"fbCallID"in t&&f.get(t.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(t){var e=f._findRoot(t);f._hideLoader(),e==f._active&&(f._lowerActive(),r("sdk.DialogUtils").onDialogHideCleanup(f.isTabletStyle()),f._hideTabletOverlay(),"fbCallID"in t&&f.get(t.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(t){var e=f._findRoot(t);e&&(t=f._active==e,f._removeStacked(e),t?(f._hideLoader(),f._stack.length>0?f.show(f._stack.pop()):(f._lowerActive(),r("sdk.DialogUtils").onDialogHideCleanup(f.isTabletStyle()),f._hideTabletOverlay())):f._active===null&&f._stack.length>0&&f.show(f._stack.pop()),window.setTimeout(function(){var t;(t=e.parentNode)==null||t.removeChild(e)},3e3))},isActive:function(t){return t=f._findRoot(t),t!=null&&t===f._active},isTabletStyle:function(){if(!n("sdk.UA").mobile())return!1;var e=p();return e!=null&&(e.height>=s||e.width>=u)}};e=f,i.default=e},98),t.__d("sdk.PlatformVersioning",["ManagedError","sdk.Runtime"],function(t,l,n,r,o,a,i){var e=/^v\d+\.\d\d?$/;function t(){if(!n("sdk.Runtime").getVersion())throw new(n("ManagedError"))("init not called with valid version")}function l(t){if(!e.test(t))throw new(n("ManagedError"))("invalid version specified")}i.REGEX=e,i.assertVersionIsSet=t,i.assertValidVersion=l},98),t.__d("sdk.warnInsecure",["Log","sdk.Runtime","sdk.Scribe","sdk.feature"],function(s,t,n,r,o,a,i){"use strict";var e=n("sdk.feature")("https_only_learn_more",""),l={};function s(t){return window.location.protocol!=="https:"&&(r("Log").log("error",-1,"The method FB.%s can no longer be called from http pages. %s",t,e),n("sdk.feature")("https_only_scribe_logging",!0)&&!Object.prototype.hasOwnProperty.call(l,t)&&(r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"HttpsOnly",extra:{message:t}}),l[t]=!0)),!0}i.default=s},98),t.__d("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.URI","sdk.warnInsecure"],function(e,t,n,r,o,a,i){function e(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),a=1;a<t;a++)o[a-1]=arguments[a];if(n("sdk.warnInsecure")("api"),typeof e=="string")if(n("sdk.Runtime").getIsVersioned()){r("sdk.PlatformVersioning").assertVersionIsSet();var i=e;!/https?/.test(i)&&i.charAt(0)!=="/"&&(i="/"+i),i=new(n("sdk.URI"))(i).setDomain("").setProtocol("").toString(),r("sdk.PlatformVersioning").REGEX.test(i.substring(1,i.indexOf("/",1)))||(i="/"+n("sdk.Runtime").getVersion()+i);var l=[i].concat(Array.prototype.slice.call(arguments,1));n("ApiClient").graph.apply(n("ApiClient"),l)}else n("ApiClient").graph.apply(n("ApiClient"),arguments);else n("ApiClient").rest.apply(n("ApiClient"),arguments)}i.default=e},98),t.__d("sdk.Frictionless",["sdk.Auth.LoginStatus","sdk.Dialog","sdk.Event","sdk.api"],function(e,t,n,r,o,a,i){var l={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){l._allowedRecipients={},n("sdk.api")("/me/apprequestformerrecipients",function(e){!e||e!=null&&e.error||e.data.forEach(function(e){l._allowedRecipients[e.recipient_id]=!0})})},init:function(){l._useFrictionless=!0,n("sdk.Auth.LoginStatus").getLoginStatus(function(e){(e==null?void 0:e.status)=="connected"&&l._updateRecipients()}),r("sdk.Event").subscribe("auth.login",function(e){e.authResponse&&l._updateRecipients()})},_processRequestResponse:function(t,r){return function(e){var o=e&&e.updated_frictionless;l._useFrictionless&&o!==null&&l._updateRecipients(),e&&(!r&&e.frictionless!==null&&n("sdk.Dialog")._hideLoader(),delete e.frictionless,delete e.updated_frictionless),t&&t(e)}},isAllowed:function(t){if(t=t,!t)return!1;if(typeof t=="number")return t in l._allowedRecipients;typeof t=="string"&&(t=t.split(",")),t=t.map(function(e){return String(e).trim()});var e=!0,n=!1;return t.forEach(function(t){e=e&&t in l._allowedRecipients,n=!0}),e&&n}};e=l,i.default=e},98),t.__d("resolveURI",[],function(e,t,n,r,o,a){function e(e){if(e==null||e==="")return window.location.href;var t=document.createElement("a");return t.href=e,t.href}a.default=e},66),t.__d("sdk.NativeExtensions",["DOMEventListener","Log","sdk.UA"],function(s,t,n,r,o,a,i){var e="fbNativeExtensionsReady";function l(){return window._FBSdkExtensions&&window._FBSdkExtensions.jsonRPC&&window._FBSdkExtensions.initializeCallbackHandler&&window._FBSdkExtensions.supportsDialog?window._FBSdkExtensions:null}function s(t){if(!n("sdk.UA").facebookInAppBrowser()){r("Log").error("FB.NativeExtensions.onReady only works when the page is rendered in a WebView of the native Facebook app.");return}var o=l();if(o){t(o);return}var a=!1;o=function n(){var o=l();a||!o||(a=!0,t(o),r("DOMEventListener").remove(window,e,n))},r("DOMEventListener").add(window,e,o)}i.onReady=s},98),t.__d("sdk.Extensions",["JSONRPC","Queue","sdk.NativeExtensions","sdk.UA"],function(d,t,n,r,o,a,i){"use strict";var e=new(n("Queue")),l=new(n("JSONRPC"))(function(t){e.enqueue(t)}),s=new(n("Queue"));s.start(function(e){l.read(e)});var u=null;n("sdk.UA").facebookInAppBrowser()&&r("sdk.NativeExtensions").onReady(function(t){u=t,window._FBBrowserCallbackHandler=function(e){s.enqueue(c("JSON","stringify",!1,e))},t.initializeCallbackHandler(c("JSON","stringify",!1,{name:"_FBBrowserCallbackHandler"})),e.start(function(e){t.jsonRPC(e)})}),t=l.local,o=l.remote,a=c(l.stub,"bind",!0,l);function d(e){return!!u&&u.supportsDialog(e)}i.local=t,i.remote=o,i.stub=a,i.supportsDialog=d},98),t.__d("sdk.Native",["Log","sdk.UA"],function(e,t,n,r,o,a,i){var l="fbNativeReady";e={onready:function(t){if(!n("sdk.UA").nativeApp()){r("Log").error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");return}if(window.__fbNative&&!this.nativeReady&&c("Object","assign",!1,this,window.__fbNative),this.nativeReady)t();else{var e=function e(){window.removeEventListener(l,e),this.onready(t)};window.addEventListener(l,e,!1)}}},t=e,i.default=t},98),t.__d("sdk.Popup",["sdk.Content","sdk.Runtime","sdk.Scribe","sdk.UA","sdk.feature"],function(e,t,n,r,o,a,i){"use strict";function e(e,t){var o=l({name:e.name,height:e.size.height,width:e.size.width,isOAuth:t}),a;return e.post?(a=window.open("about:blank",e.id,o),a&&r("sdk.Content").submitToTarget({url:e.url,target:e.id,params:e.params})):a=window.open(e.url,e.id,o),!a&&n("sdk.feature")("popup_blocker_scribe_logging",!0)&&(o=t?"POPUP_MAYBE_BLOCKED_OAUTH":"POPUP_MAYBE_BLOCKED",r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:o,extra:{call:e.name}})),a}function l(e){var t=window.screenX,r=window.screenY,o=window.outerWidth,a=window.outerHeight,i=n("sdk.UA").mobile()?0:e.width,l=n("sdk.UA").mobile()?0:e.height;return t=t<0?window.screen.width+t:t,t=t+(o-i)/2,o=r+(a-l)/2.5,r=[],i!==null&&r.push("width="+i),l!==null&&r.push("height="+l),r.push("left="+t),r.push("top="+o),r.push("scrollbars=1"),e.isOAuth&&(r.push("toolbar=0"),(!n("sdk.UA").chrome()||n("sdk.UA").chrome()<59)&&r.push("location=1")),r.join(",")}i.popup=e},98),t.__d("isFacebookDotNetURI",[],function(e,t,n,r,o,a){"use strict";function e(e){if(e.getProtocol()!=="http"&&e.getProtocol()!=="https")return!1;var t=Number(e.getPort());return t&&t!==80&&t!==443?!1:!!e.isSubdomainOfDomain("facebook.net")}a.default=e},66),t.__d("isFacebookURI",[],function(l,t,n,r,o,a){var e=null,i=["http","https"];function l(t){return e||(e=new RegExp("(^|\\.)facebook\\.com$","i")),t.isEmpty()&&t.toString()!=="#"?!1:!t.getDomain()&&!t.getProtocol()?!0:i.indexOf(t.getProtocol())!==-1&&e.test(t.getDomain())}l.setRegex=function(t){e=t},a.default=l},66),t.__d("isInstagramURI",[],function(i,t,n,r,o,a){var e=null;function i(t){return t.isEmpty()&&t.toString()!=="#"||!t.getDomain()&&!t.getProtocol()||t.getProtocol()!=="https"?!1:(e||(e=new RegExp("(^|\\.)instagram\\.com$","i")),e.test(t.getDomain()))}a.default=i},66),t.__d("resolveWindow",[],function(e,t,n,r,o,a){function e(e){if(e==null)return null;var t=window;e=e.split(".");try{for(var n=0;n<e.length;n++){var r=e[n],o=/^frames\[[\'\"]?([a-zA-Z0-9\-_]+)[\'\"]?\]$/.exec(r);if(o)t=t.frames[o[1]];else if(r==="opener"||r==="parent"||r==="top")t=t[r];else return null}}catch(e){return null}return t}a.default=e},66),t.__d("sdk.XD",["JSSDKXDConfig","Log","QueryString","Queue","UrlMap","guid","isFacebookDotNetURI","isFacebookURI","isInstagramURI","resolveWindow","sdk.Event","sdk.RPC","sdk.Runtime","sdk.Scribe","sdk.URI","sdk.feature"],function(e,t,n,r,o,a,i){var l=new(n("Queue")),s="parent",u=null,d=/^https:\/\/.*\.(facebook|instagram)\.(com|net)$/;e=r("JSSDKXDConfig").useCdn?"cdn":"www";var m=r("UrlMap").resolve(e)+r("JSSDKXDConfig").XXdUrl;t=function(){if("origin"in location){if(location.origin&&location.origin!="null")return location.origin;if(window!==window.parent)try{var e=parent.location.origin;if(e&&e!="null")return e}catch(e){}}return location.protocol+"//"+location.host};var p=n("guid")(),_=t(),f=!1,g=new(n("Queue"));n("sdk.RPC").setInQueue(g);function h(e){r("Log").info("Remote XD can talk to facebook.com (%s)",e),n("sdk.Runtime").setEnvironment(e==="canvas"?n("sdk.Runtime").ENVIRONMENTS.CANVAS:n("sdk.Runtime").ENVIRONMENTS.PAGETAB)}function y(e,t){if(!t)throw r("Log").error("No senderOrigin"),new Error;switch(e.xd_action){case"plugin_ready":if(typeof e.name=="string"){var o=e.name;if(r("Log").info("Plugin %s ready from %s",o,t),d.test(t)){var a=n("Queue").get(o,{});a.start(function(e){if(e==null){r("Log").warn("Discarding null message from %s to %s on %s",t,o,_);return}window.frames[o]!=null?window.frames[o].postMessage({xdArbiterHandleMessage:!0,message:e,origin:_},t):r("Log").info("Message discarded for plugin at window.frames[%s] which may have been removed by a new XFBML.parse() call.",o)})}else{r("Log").error("Plugin attempted to register from non-Facebook domain %s",t);return}}else r("Log").error("plugin_ready message received without a name");break}e.data!=null&&(typeof e.data=="object"||typeof e.data=="string")&&C(e.data,t)}function C(e,t){var o=new(n("sdk.URI"))(t);if(!(t!=null&&t!=="native"&&!n("isFacebookURI")(o)&&!n("isFacebookDotNetURI")(o)&&!n("isInstagramURI")(o))){if(typeof e=="string"){if(/^FB_RPC:/.test(e)){g.enqueue(e.substring(7));return}if(e.substring(0,1)=="{")try{e=c("JSON","parse",!1,e)}catch(t){r("Log").warn("Failed to decode %s as JSON",e);return}else e=n("QueryString").decode(e)}if(o=e,o.xd_action){y(o,t);return}typeof o.cb=="string"&&(e=R._callbacks[o.cb],R._forever[o.cb]||delete R._callbacks[o.cb],e&&e(o))}}function b(e,t){e=="facebook"?(t.relation=s,l.enqueue(t),!n("sdk.Runtime").isCanvasEnvironment()&&!l.isStarted()&&S(u)):n("Queue").get(e,{}).enqueue(t)}n("sdk.RPC").getOutQueue().start(function(e){l.enqueue("FB_RPC:"+e)});function v(e){f||(f=!0,window.addEventListener("message",function(e){var t=e.data,o=e.origin||"native";if(!/^(https?:\/\/|native$)/.test(o)){r("Log").debug("Received message from invalid origin type: %s",o);return}if(d.test(o))if(typeof t=="string")C(t,o);else{if(e.source==parent&&e.data.xdArbiterRegisterAck&&d.test(o)){typeof e.data.xdArbiterRegisterAck=="string"&&e.data.xdArbiterRegisterAck!==""&&h(e.data.xdArbiterRegisterAck),l.isStarted()||l.start(function(e){if(e==null){r("Log").warn("Discarding null message from %s to %s",_,o);return}var t=parent;typeof e=="object"&&typeof e.relation=="string"&&(t=n("resolveWindow")(e.relation)),((t=t)!=null?t:parent).postMessage({xdArbiterHandleMessage:!0,message:e,origin:_},o)});return}return}}),n("sdk.Runtime").isCanvasEnvironment()&&S(e))}function S(e){var t;if(f||v(),window.parent!=top){r("Log").warn("cannot deliver messages to facebook unless window.parent is top and facebook.com.");return}var o=(t=n("sdk.feature")("xd_timeout",6e4))!=null?t:6e4;t=200;var a=0,i=o/t,s=function(){return parent.postMessage({xdArbiterRegister:!0,xdProxyName:e,origin:_},"*")};a=window.setInterval(function(){if(!l.isStarted()&&i>0)i--,r("Log").debug("resending xdArbiterRegister"),s();else if(window.clearInterval(a),i===0){r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"XD_FB_QUEUE_INITIALIZATION",extra:{message:"Failed to initialize in "+o+"ms"}}),r("Log").error("xdAbiterRegisterAck not received");return}},t)}var R={rpc:n("sdk.RPC"),_callbacks:{},_forever:{},_channel:p,_origin:_,onMessage:C,init:v,sendToFacebook:b,inform:function(t,n,r,o){b("facebook",{method:t,params:c("JSON","stringify",!1,n||{}),behavior:o||"p",relation:r})},handler:function(t,r,o,a){return t="#"+n("QueryString").encode({cb:R.registerCallback(t,o,a),origin:_+"/"+p,domain:location.hostname,relation:r||"opener",is_canvas:n("sdk.Runtime").isCanvasEnvironment()}),m+t},registerCallback:function(t,r,o){return o=o||n("guid")(),r&&(R._forever[o]=!0),R._callbacks[o]=t,o}};r("sdk.Event").subscribe("init:post",function(e){u=e.xdProxyName,v(e.xdProxyName)}),a.exports=R},34),t.__d("sdk.modFeatureCheck",["JSSDKConfig"],function(e,t,n,r,o,a,i){function e(e,t,n){if(n===void 0&&(n=!1),r("JSSDKConfig").features&&e in r("JSSDKConfig").features){var o=r("JSSDKConfig").features[e];if(typeof o=="object"&&Array.isArray(o))return t.some(function(e){return o.some(function(t){return e%t===0})})}return n}i.forIDs=e},98),t.__d("sdk.openMessenger",["sdk.UA"],function(u,t,n,r,o,a,i){"use strict";var e="https://itunes.apple.com/us/app/messenger/id454638411",l="https://play.google.com/store/apps/details?id=com.facebook.orca",s=3e3;function u(t){var r,o,a=t.link;t=t.app_id,n("sdk.UA").android()?(r="intent://share/#Intent;package=com.facebook.orca;scheme=fb-messenger;S.android.intent.extra.TEXT="+encodeURIComponent(a)+";S.trigger=send_plugin;",t&&(r+="S.platform_app_id="+encodeURIComponent(t)+";"),r+="end",o=l):(r="fb-messenger://share?link="+encodeURIComponent(a),t&&(r+="&app_id="+encodeURIComponent(t)),o=e),setTimeout(function(){window.location.href=o},s),window.location.href=r}i.default=u},98),t.__d("sdk.UIServer",["Log","QueryString","UrlMap","createObjectFrom","flattenObject","guid","insertIframe","resolveURI","sdk.Auth","sdk.Auth.LoginStatus","sdk.Content","sdk.DOM","sdk.Dialog","sdk.Event","sdk.Extensions","sdk.Frictionless","sdk.LoggingUtils","sdk.Native","sdk.Popup","sdk.RPC","sdk.Runtime","sdk.UA","sdk.XD","sdk.api","sdk.fbt","sdk.feature","sdk.getContextType","sdk.modFeatureCheck","sdk.openMessenger"],function(e,t,n,r,o,a,i){var l={transform:function(t){return t.params.display==="touch"&&h.canIframe(t.params)&&window.postMessage?(t.params.channel=h._xdChannelHandler(t.id,"parent"),n("sdk.UA").nativeApp()||(t.params.in_iframe=1),t):h.genericTransform(t)},getXdRelation:function(t){var e=t.display;return e==="touch"&&window.postMessage&&t.in_iframe?"parent":h.getXdRelation(t)}};function s(e){return h.isOAuth(e)&&r("sdk.Extensions").supportsDialog("oauth")}function u(e){return h.isOAuth(e)&&(e.is_account_link===!0||e.is_account_link==="true")&&r("sdk.Extensions").supportsDialog("accountLink")}function m(e){if(!n("sdk.Runtime").getClientID()){r("Log").error("FB.login() called before FB.init().");return}if(n("sdk.Auth").getAuthResponse()&&!e.params.scope&&!e.params.asset_scope&&!e.params.auth_type){e.params.plugin_prepare||(r("Log").error("FB.login() called when user is already connected."),e.cb&&(e==null||e.cb({status:n("sdk.Runtime").getLoginStatus(),authResponse:n("sdk.Auth").getAuthResponse()})));return}var t=e.cb,o=e.id;delete e.cb,e&&e.params&&!e.params.logger_id&&(e.params.logger_id=n("guid")()),e&&e.params&&!e.params.cbt&&(e.params.cbt=Date.now()),(e.params.fx_app==="instagram"||e.params.fx_app==="ig_single")&&!e.params.scope&&(e.params.scope="public_profile");var a=e.params.auth_type;a=a&&c(a,"includes",!0,"reauthenticate");var i={token:!0,signed_request:!0,graph_domain:!0};return i=Object.keys(c("Object","assign",!1,e.params.response_type?n("createObjectFrom")(e.params.response_type.split(",")):{},i)).join(","),e.params.display==="async"?(c("Object","assign",!1,e.params,{client_id:n("sdk.Runtime").getClientID(),origin:n("sdk.getContextType")(),response_type:i,domain:location.hostname}),e.cb=n("sdk.Auth").xdResponseWrapper(t,n("sdk.Auth").getAuthResponse(),"permissions.oauth",e.params)):(a&&h._xdNextHandler(function(e){t({authResponse:null,status:"not_authorized"})},o,e.params.plugin_prepare?"opener.parent":"opener",!0),c("Object","assign",!1,e.params,{client_id:n("sdk.Runtime").getClientID(),redirect_uri:n("resolveURI")(h.xdHandler(t,o,e.params.plugin_prepare?"opener.parent":"opener",n("sdk.Auth").getAuthResponse(),"permissions.oauth",!a,e.params)),origin:n("sdk.getContextType")(),response_type:i,domain:location.hostname})),o=e.params&&e.params.tp&&e.params.tp!=="unspecified",!e.params.plugin_prepare&&!o&&r("sdk.LoggingUtils").logEvent(e.params.logger_id,r("sdk.LoggingUtils").logEventName.loginStart,{cbt_delta:0}),e}e={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(t){return t.params.u||(t.params.u=window.location.toString()),t.params.display="popup",t}},gaming_friendfinder:{url:"gaming/me/friendfinder/",transform:function(t){if(!n("sdk.Runtime").getClientID()){r("Log").error("FriendFinder called before FB.init().");return}return t.url+=n("sdk.Runtime").getClientID(),t.size={width:400,height:800},t}},gaming_media_library:{url:"gaming/me/media_asset/",transform:function(t){return t.url+=t.params.media_id,t.size={width:400,height:800},t}},apprequests:{transform:function(t){return t=l.transform(t),t.size={width:445,height:635},t.params.display="popup",t.params.in_iframe=!1,t.params.frictionless=n("sdk.Frictionless")&&n("sdk.Frictionless")._useFrictionless,t.params.frictionless&&(n("sdk.Frictionless").isAllowed(t.params.to)&&(t.hideLoader=!0),t.cb=n("sdk.Frictionless")._processRequestResponse(t.cb,t.hideLoader)),t.closeIcon=!1,t},getXdRelation:l.getXdRelation},"permissions.oauth":{url:"dialog/oauth",size:{width:n("sdk.UA").mobile()?null:600,height:n("sdk.UA").mobile()?null:679},transform:function(t){return m(t)}},"permissions.ig_oauth":{url:"oauth/authorize",size:{width:n("sdk.UA").mobile()?null:600,height:n("sdk.UA").mobile()?null:679},transform:function(t){return m(t)}},photo_picker:{url:"dialog/photo_picker",size:{width:n("sdk.UA").mobile()?null:600,height:n("sdk.UA").mobile()?null:679},transform:function(t){if(!n("sdk.Runtime").getClientID()){r("Log").error("Photo Picker was called before FB.init().");return}var e=t.cb,o=t.id;return delete t.cb,c("Object","assign",!1,t.params,{client_id:n("sdk.Runtime").getClientID(),redirect_uri:n("resolveURI")(h.xdHandlerPhotoPicker(e,o,t.params.plugin_prepare?"opener.parent":"opener","photo_picker",t.params)),origin:n("sdk.getContextType")(),domain:location.hostname}),t}},"auth.logout":{transform:function(t){n("sdk.Runtime").getClientID()?n("sdk.Auth").getAuthResponse()?n("sdk.Auth").logout(t.cb):r("Log").error("FB.logout() called without an access token."):r("Log").error("FB.logout() called before calling FB.init().")}},"login.status":{transform:function(t){n("sdk.Auth.LoginStatus").getLoginStatus(t.cb)}},pay:{size:{width:555,height:120},connectDisplay:"popup"},live_broadcast:{transform:function(t){return t.params.phase==="create"&&(t.size={width:480,height:280}),t.params.phase==="publish"&&(t.size={width:772,height:540}),t},require_access_token:!0},boost:{transform:function(t){return t.size={width:960,height:760},t.params.display="popup",t}},share_referral:{size:{width:482,height:725}}};var p={},_=0;function f(e,t){return p[t]=!0,function(n){delete p[t],e(n)}}function g(e){var t=e.method.toLowerCase();return t==="pay"&&e.display==="async"}var h={Methods:e,_oauthMethodNameSet:new Set(["permissions.oauth","permissions.request","permissions.ig_oauth"]),_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',_popupInterval:null,genericTransform:function(t){return(t.params.display=="dialog"||t.params.display=="iframe")&&c("Object","assign",!1,t.params,{display:"iframe",channel:h._xdChannelHandler(t.id,"parent.parent")},!0),t},isOAuth:function(t){return h._oauthMethodNameSet.has(t.method)||t.method=="oauth"},checkOauthDisplay:function(t){var e=t.scope||t.perms||n("sdk.Runtime").getScope();return e?"popup":t.display},prepareCall:function(t,o){var e=t.method.toLowerCase(),a=Object.prototype.hasOwnProperty.call(h.Methods,e)?d.extends({},h.Methods[e]):{},i=t.id||n("guid")(),l=!0;if(c("Object","assign",!1,t,{app_id:n("sdk.Runtime").getClientID(),locale:n("sdk.Runtime").getLocale(),sdk:"joey",access_token:l&&n("sdk.Runtime").getAccessToken()||void 0}),t.display=h.getDisplayMode(a,t),a.url||(a.url="dialog/"+e),(a.url=="dialog/oauth"||a.url=="dialog/permissions.request")&&(t.display=="iframe"||t.display=="touch"&&t.in_iframe)&&(t.display=h.checkOauthDisplay(t)),a.url=="dialog/oauth"){if(_>=((l=n("sdk.feature")("max_oauth_dialog_retries",100))!=null?l:100)){r("Log").error("Your request to oauth has exceeded the rate limit, please try again later");return}_++}if(t.display=="popup"&&!a.require_access_token&&delete t.access_token,n("sdk.Runtime").getIsVersioned()&&a.url.substring(0,7)==="dialog/"&&(l=t.version||n("sdk.Runtime").getVersion(),l!=null&&l!==""&&l!=="null"&&(a.url=l+"/"+a.url)),g(t)){if(p[e]){l='Dialog "'+e+'" is trying to run more than once.',r("Log").warn(l),o({error_code:-100,error_message:l});return}o=f(o,e)}if(l={cb:o,id:i,size:a.size||h.getDefaultSize(),url:r("UrlMap").resolve(t.fx_app==="instagram"||t.fx_app==="ig_single"?"www_instagram":t.display=="touch"?"m":"www")+"/"+a.url,params:t,name:e,dialog:n("sdk.Dialog").newInstance(i,t.display)},o=a.transform?a.transform:h.genericTransform,!(o&&(l=o(l),!l)))return t.display==="touch"&&t.in_iframe&&(l.params.parent_height=window.innerHeight),e=a.getXdRelation||h.getXdRelation,o=e(l.params),!(l.id in h._defaultCb)&&!("next"in l.params)&&!("redirect_uri"in l.params)&&(l.params.next=h._xdResult(l.cb,l.id,o,!0)),(o==="parent"||o==="opener")&&c("Object","assign",!1,l.params,{channel_url:h._xdChannelHandler(i,o==="parent"?"parent.parent":"opener")},!0),l=h.prepareParams(l),l},prepareParams:function(t){t.params.display!=="async"&&delete t.params.method,t.params.kid_directed_site=n("sdk.Runtime").getKidDirectedSite()||t.params.kid_directed_site,t.params=n("flattenObject")(t.params);var e=n("QueryString").encode(t.params);return!n("sdk.UA").nativeApp()&&h.urlTooLongForIE(t.url+"?"+e)?t.post=!0:e&&(t.url+="?"+e),t},urlTooLongForIE:function(t){return n("sdk.UA").ie()!=null&&n("sdk.UA").ie()<=8&&t.length>2048},getDisplayMode:function(t,o){if(o.display==="hidden"||o.display==="none"||o.display==="native")return o.display;var e=n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)||n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.PAGETAB);return e&&(r("sdk.modFeatureCheck").forIDs("force_popup_to_canvas_apps_with_id",[n("sdk.Runtime").getClientID()])||n("sdk.feature")("force_popup_to_all_canvas_app",!1))?"popup":e&&!o.display||s(o)||u(o)?"async":n("sdk.UA").mobile()||o.display==="touch"?"touch":(o.display=="iframe"||o.display=="dialog")&&!h.canIframe(o)?(r("Log").error('"dialog" mode can only be used when the user is connected.'),"popup"):t.connectDisplay&&!e?t.connectDisplay:o.display||(h.canIframe(o)?"dialog":"popup")},canIframe:function(t){return n("sdk.Runtime").getAccessToken()},getXdRelation:function(t){return t=t.display,t==="popup"||t==="touch"?"opener":t==="dialog"||t==="iframe"||t==="hidden"||t==="none"?"parent":t==="async"?"parent.frames["+window.name+"]":""},popup:function(t){var e=r("sdk.Popup").popup(t,h.isOAuth({method:t.name}));e&&(h.setLoadedNode(t,e,"popup"),t.id in h._defaultCb&&h._popupMonitor())},setLoadedNode:function(t,n,r){r==="iframe"&&(n.fbCallID=t.id),n={node:n,type:r,fbCallID:t.id,method:t.name,params:t.params},h._loadedNodes[t.id]=n},getLoadedNode:function(t){return t=typeof t=="object"?t.id:t,t=h._loadedNodes[t],t?t.node:null},hidden:function(t){t.className="FB_UI_Hidden",t.root=r("sdk.Content").appendHidden(document.createElement("div")),h._insertIframe(t)},iframe:function(t){t.className="FB_UI_Dialog";var e=function(){var e=c("JSON","stringify",!1,{error_code:4201,error_message:n("sdk.fbt")._("User canceled the Dialog flow")});h._triggerDefault(t.id,e)},o={onClose:e,closeIcon:t.closeIcon===void 0?!0:t.closeIcon,classes:n("sdk.Dialog").isTabletStyle()?"centered":""};t.root=n("sdk.Dialog").create(o),t.hideLoader||n("sdk.Dialog").showLoader(e,t.size.width),r("sdk.DOM").addCss(t.root,"fb_dialog_iframe"),h._insertIframe(t)},touch:function(t){t.params&&t.params.in_iframe?t.ui_created?n("sdk.Dialog").showLoader(function(){h._triggerDefault(t.id,null)},0):h.iframe(t):n("sdk.UA").nativeApp()&&!t.ui_created?(t.frame=t.id,n("sdk.Native").onready(function(){h.setLoadedNode(t,n("sdk.Native").open(t.url+"#cb="+t.frameName),"native")}),h._popupMonitor()):t.ui_created||h.popup(t)},async:function(t){t.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete t.params.access_token,t.params.is_canvas=n("sdk.Runtime").isCanvasEnvironment();var e=function(r){if(r=r.result,r&&r.e2e){var e=n("sdk.Dialog").get(t.id);e.trackEvents(r.e2e),e.trackEvent("close"),delete r.e2e}t.cb(r)};s(t.params)||u(t.params)?(t.params.method="oauth",t.params.redirect_uri=t.params.next,r("sdk.Extensions").remote.showDialog(t.params,e)):n("sdk.RPC").remote.showDialog(t.params,e)},native:function(t){n("sdk.openMessenger")(t.params)},getDefaultSize:function(){return n("sdk.Dialog").getDefaultSize()},_insertIframe:function(t){h._loadedNodes[t.id]=!1;var e=function(n){t.id in h._loadedNodes&&h.setLoadedNode(t,n,"iframe")};t.post?n("insertIframe")({url:"about:blank",root:t.root,className:t.className,width:t.size.width,height:t.size.height,id:t.id,onInsert:e,onload:function(n){r("sdk.Content").submitToTarget({url:t.url,target:n.name,params:t.params})}}):n("insertIframe")({url:t.url,root:t.root,className:t.className,width:t.size.width,height:t.size.height,id:t.id,name:t.frameName,onInsert:e})},_handleResizeMessage:function(t,r){t=h.getLoadedNode(t),t&&(r.height&&(t.style.height=r.height+"px"),r.width&&r.width!=0&&(t.style.width=r.width+"px"),n("sdk.XD").inform("resize.ack",r||{},"parent.frames["+t.name+"]"),n("sdk.Dialog").isActive(t)?n("sdk.Dialog")._centerActive():n("sdk.Dialog").show(t))},_triggerDefault:function(t,n){var e={frame:t,result:""};n&&(e.result=n),h._xdRecv(e,h._defaultCb[t]||function(){})},_popupMonitor:function(){var e;for(var t in h._loadedNodes)if(Object.prototype.hasOwnProperty.call(h._loadedNodes,t)&&t in h._defaultCb){var r=(function(){var r=h._loadedNodes[t];if(r.type!="popup"&&r.type!="native")return"continue";var o=r.node;try{o.closed?h.isOAuth(r)?n("sdk.Auth.LoginStatus").getLoginStatus(function(e){(e==null?void 0:e.status)==="connected"&&r.params!=null&&r.params.return_scopes?n("sdk.api")("/me/permissions",function(n){(!n||n.error)&&h._triggerDefault(t,e);var r="";n=n&&n.data?n.data:[];for(var o=0;o<n.length;o++)n[o].status==="granted"&&(r!==""&&(r+=","),r+=n[o].permission);e.authResponse&&e.authResponse.grantedScopes&&(e.authResponse.grantedScopes=r),h._triggerDefault(t,e)}):((e==null?void 0:e.status)!=="connected"&&(e.closeWindow=!0),h._triggerDefault(t,e))},!0):h._triggerDefault(t,null):e=!0}catch(e){}})();if(r==="continue")continue}e&&!h._popupInterval?h._popupInterval=window.setInterval(h._popupMonitor,100):!e&&h._popupInterval&&(window.clearInterval(h._popupInterval),h._popupInterval=null)},_xdChannelHandler:function(t,o){return n("sdk.XD").handler(function(e){var o=h.getLoadedNode(t);o&&(e.type=="resize"?h._handleResizeMessage(t,e):e.type=="hide"?n("sdk.Dialog").hide(o):e.type=="rendered"?(o=n("sdk.Dialog")._findRoot(o),n("sdk.Dialog").show(o)):e.type=="fireevent"&&r("sdk.Event").fire(e.event,e))},o,!0,null)},_xdNextHandler:function(t,r,o,a){return a&&(h._defaultCb[r]=t),n("sdk.XD").handler(function(e){h._xdRecv(e,t)},o)+"&frame="+r},_xdRecv:function(t,o){var e=h.getLoadedNode(t.frame);if(e)if(e.close)try{e.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&RegExp.$1!=="5"&&window.focus(),h._popupCount--}catch(e){}else r("sdk.DOM").containsCss(e,"FB_UI_Hidden")?window.setTimeout(function(){e.parentNode.parentNode.removeChild(e.parentNode)},3e3):r("sdk.DOM").containsCss(e,"FB_UI_Dialog")&&n("sdk.Dialog").remove(e);if(delete h._loadedNodes[t.frame],delete h._defaultCb[t.frame],t.e2e){var a=n("sdk.Dialog").get(t.frame);a.trackEvents(t.e2e),a.trackEvent("close"),delete t.e2e}o(t)},_xdResult:function(t,n,r,o){return h._xdNextHandler(function(e){t&&t(e.result&&e.result!=h._resultToken&&c("JSON","parse",!1,e.result))},n,r,o)+"&result="+encodeURIComponent(h._resultToken)},xdHandler:function(t,r,o,a,i,l,s){return h._xdNextHandler(n("sdk.Auth").xdResponseWrapper(t,a,i,s),r,o,l)},xdHandlerPhotoPicker:function(t,n,r,o,a){return h._xdNextHandler(h.xdResponseWrapperPhotoPicker(t),n,r,!1)},xdResponseWrapperPhotoPicker:function(t){return function(e){var n;return e&&e.result&&e.result.closeWindow?n="Photo picker call was cancelled by the user":n=e.photos,t&&t(n),null}}};r("sdk.Extensions").stub("showDialog"),n("sdk.RPC").stub("showDialog"),t=h,i.default=t},98),t.__d("sdk.ui",["Assert","Log","sdk.Impressions","sdk.PlatformVersioning","sdk.Runtime","sdk.UIServer","sdk.feature"],function(e,t,n,r,o,a,i){function e(e,t){if(n("Assert").isObject(e),n("Assert").maybeFunction(t),n("sdk.Runtime").getIsVersioned()&&(r("sdk.PlatformVersioning").assertVersionIsSet(),e.version?r("sdk.PlatformVersioning").assertValidVersion(e.version):e.version=n("sdk.Runtime").getVersion()),e=d.extends({},e),!e.method)return r("Log").error('"method" is a required parameter for FB.ui().'),null;e.method=="pay.prompt"&&(e.method="pay");var o=e.method;if(e.redirect_uri&&(r("Log").warn("When using FB.ui, you should not specify a redirect_uri."),delete e.redirect_uri),e.fallback_redirect_uri||(e.fallback_redirect_uri=document.location.href),n("sdk.UIServer").isOAuth(o)&&(e.display=="iframe"||e.display=="dialog")&&(e.display=n("sdk.UIServer").checkOauthDisplay(e)),e.display==="native"&&o!=="send")return r("Log").error('display type "native" not supported'),null;var a=n("sdk.feature")("e2e_tracking",!0);if(a&&(e.e2e={}),e=n("sdk.UIServer").prepareCall(e,t||function(){}),!e)return null;var i=e.params.display;return i==="dialog"?i="iframe":i==="none"&&(i="hidden"),t=n("sdk.UIServer")[i],t?(a&&e.dialog.subscribe("e2e:end",function(e){e.method=o,e.display=i,r("Log").debug("e2e: %s",c("JSON","stringify",!1,e)),r("sdk.Impressions").log(114,{payload:e})}),t(e),e.dialog):(r("Log").error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}i.default=e},98),t.__d("sdk.Auth-public",["FB","sdk.Auth","sdk.Auth.LoginStatus","sdk.AuthUtils","sdk.Event","sdk.Runtime","sdk.ui","sdk.warnInsecure"],function(e,t,n,r,o,a,i){"use strict";function e(){n("FB").provide("",{getLoginStatus:function(){return n("sdk.warnInsecure")("getLoginStatus"),n("sdk.Auth.LoginStatus").getLoginStatus.apply(n("sdk.Auth"),arguments)},getAuthResponse:function(){return n("sdk.warnInsecure")("getAuthResponse"),n("sdk.Auth").getAuthResponse()},getAccessToken:function(){return n("sdk.warnInsecure")("getAccessToken"),n("sdk.Runtime").getAccessToken()||null},getUserID:function(){return n("sdk.warnInsecure")("getUserID"),n("sdk.Runtime").getUserID()||n("sdk.Runtime").getCookieUserID()},login:function(t,r){n("sdk.warnInsecure")("login"),n("sdk.Auth").login(t,r)},logout:function(t){n("sdk.ui")({method:"auth.logout",display:"hidden"},t)}}),n("sdk.Auth").subscribe("logout",c(r("sdk.Event").fire,"bind",!0,r("sdk.Event"),"auth.logout")),n("sdk.Auth").subscribe("login",c(r("sdk.Event").fire,"bind",!0,r("sdk.Event"),"auth.login")),n("sdk.Auth").subscribe("authresponse.change",c(r("sdk.Event").fire,"bind",!0,r("sdk.Event"),"auth.authResponseChange")),n("sdk.Auth").subscribe("status.change",c(r("sdk.Event").fire,"bind",!0,r("sdk.Event"),"auth.statusChange")),n("sdk.Auth").subscribe("loginDenied",c(r("sdk.Event").fire,"bind",!0,r("sdk.Event"),"auth.denied")),n("sdk.Auth").subscribe("loginError",c(r("sdk.Event").fire,"bind",!0,r("sdk.Event"),"auth.error")),n("sdk.Runtime").subscribe("AccessToken.change",function(e){!e&&n("sdk.Runtime").getLoginStatus()==="connected"&&n("sdk.Auth.LoginStatus").getLoginStatus(null,!0)}),r("sdk.AuthUtils").AuthInternalEvent.subscribe(r("sdk.AuthUtils").AuthConstants.REVALIDATE_TIMER_TIMEOUT,function(e){n("sdk.Auth.LoginStatus").fetchLoginStatus(function(){})}),r("sdk.Event").subscribe("init:post",function(e){n("sdk.Auth.LoginStatus").onSDKInit(e)})}t={init:e},o=t,i.default=o},98),t.__d("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(c,t,n,r,o,a,i){var e=null,l;function s(){var e=r("DOMWrapper").getWindow().document,t=e.body;e=e.documentElement;var n=Math.max(t.offsetTop,0),o=Math.max(e.offsetTop,0),a=t.scrollHeight+n;return t=t.offsetHeight+n,n=e.scrollHeight+o,e=e.offsetHeight+o,Math.max(a,t,n,e)}function u(e){typeof e!="object"&&(e={});var t=0,r=0;if(e.height||(e.height=s(),t=16,r=4),e.frame||(e.frame=window.name||"iframe_canvas"),l){var o=l.height;if(o=e.height-o,o<=r&&o>=-t)return!1}return l=e,n("sdk.RPC").remote.setSize(e),!0}function c(t,n){n===void 0&&typeof t=="number"&&(n=t,t=!0),t||t===void 0?(e===null&&(e=window.setInterval(function(){u()},n||100)),u()):e!==null&&(window.clearInterval(e),e=null)}n("sdk.RPC").stub("setSize"),t={setSize:u,setAutoGrow:c},o=t,i.default=o},98),t.__d("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,n,r,o,a){function e(e){t("sdk.RPC").local.navigate=function(t){e({path:t})},t("sdk.RPC").remote.setNavigationEnabled(!0)}t("sdk.RPC").stub("setNavigationEnabled"),n={setUrlHandler:e},r=n,a.default=r},66),t.__d("sdk.Canvas.Plugin",["Log","sdk.Runtime","sdk.UA","sdk.api"],function(f,g,n,r,h,a,i){var e="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",t="CLSID:444785F1-DE89-4295-863A-D46C3A781394",o=null;a=n("sdk.UA").osx()&&n("sdk.UA").osx.getVersionParts();var l=!(a&&a[0]>10&&a[1]>10&&(n("sdk.UA").chrome()>=31||n("sdk.UA").webkit()>=537.71||n("sdk.UA").firefox()>=25));function s(e){e._hideunity_savedstyle={},e._hideunity_savedstyle.left=e.style.left,e._hideunity_savedstyle.position=e.style.position,e._hideunity_savedstyle.width=e.style.width,e._hideunity_savedstyle.height=e.style.height,e.style.left="-10000px",e.style.position="absolute",e.style.width="1px",e.style.height="1px"}function u(e){e._hideunity_savedstyle&&(e.style.left=e._hideunity_savedstyle.left,e.style.position=e._hideunity_savedstyle.position,e.style.width=e._hideunity_savedstyle.width,e.style.height=e._hideunity_savedstyle.height)}function d(e){e._old_visibility=e.style.visibility,e.style.visibility="hidden"}function m(e){e.style.visibility=e._old_visibility||"",delete e._old_visibility}function p(t){var n=t.type?t.type.toLowerCase():null;if(n=n==="application/x-shockwave-flash"||t.classid&&t.classid.toUpperCase()==e,!n||(n=/opaque|transparent/i,n.test(t.getAttribute("wmode"))))return!1;for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes[r];if(/param/i.test(o.nodeName)&&/wmode/i.test(o.name)&&n.test(o.value))return!1}return!0}function _(e){var n=e.type?e.type.toLowerCase():null;return n==="application/vnd.unity"||e.classid&&e.classid.toUpperCase()==t}function f(e){var t=c("Array","from",!1,window.document.getElementsByTagName("object"));t=t.concat(c("Array","from",!1,window.document.getElementsByTagName("embed")));var a=!1,i=!1;t.forEach(function(t){var n=p(t),c=l&&_(t);if(!(!n&&!c))if(a=a||n,i=i||c,c=function(){e.state==="opened"?n?d(t):s(t):n?m(t):u(t)},o){r("Log").info("Calling developer specified callback");var f={state:e.state,elem:t};o(f),window.setTimeout(c,200)}else c()}),Math.random()<=1/1e3&&(t={unity:i,flash:a},n("sdk.api")(n("sdk.Runtime").getClientID()+"/occludespopups","post",t))}function g(){d(),s()}function h(){m(),u()}a={_setHidePluginCallback:function(t){o=t},hidePluginCallback:f,hidePluginElement:g,showPluginElement:h},f=a,i.default=f},98),t.__d("sdk.Canvas.Prefetcher",["JSSDKCanvasPrefetcherConfig","sdk.Runtime","sdk.api"],function(u,d,n,r,m,a,i){var e={AUTOMATIC:0,MANUAL:1},t=(a=r("JSSDKCanvasPrefetcherConfig").excludedAppIds)!=null?a:[],o=e.AUTOMATIC,l=[];function s(){var t={object:"data",link:"href",script:"src"};o==e.AUTOMATIC&&Object.keys(t).forEach(function(e){var n=t[e];c("Array","from",!1,document.getElementsByTagName(e)).forEach(function(e){e[n]&&l.push(e[n])})}),l.length!==0&&(n("sdk.api")(n("sdk.Runtime").getClientID()+"/staticresources","post",{urls:c("JSON","stringify",!1,l),is_https:location.protocol==="https:"}),l=[])}function u(){!n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)||!n("sdk.Runtime").getClientID()||!r("JSSDKCanvasPrefetcherConfig").sampleRate||Math.random()>=1/r("JSSDKCanvasPrefetcherConfig").sampleRate||!r("JSSDKCanvasPrefetcherConfig").enabled||c(t,"includes",!0,n("sdk.Runtime").getClientID())||setTimeout(s,3e4)}function d(e){o=e}function m(e){l.push(e)}a={COLLECT_AUTOMATIC:e.AUTOMATIC,COLLECT_MANUAL:e.MANUAL,addStaticResource:m,setCollectionMode:d,_maybeSample:u},m=a,i.default=m},98),t.__d("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(t,r,n,l,o,a,i){function e(e,t){t={appId:n("sdk.Runtime").getClientID(),time:Date.now(),name:t},t=[t],e&&t.push(function(t){e(t.result)}),n("sdk.RPC").remote.logTtiMessage.apply(null,t)}function t(){e(null,"StartIframeAppTtiTimer")}function r(t){e(t,"StopIframeAppTtiTimer")}function l(t){e(t,"RecordIframeAppTti")}n("sdk.RPC").stub("logTtiMessage"),o={setDoneLoading:l,startTimer:t,stopTimer:r},a=o,i.default=a},98),t.__d("sdk.Canvas-public",["Assert","FB","Log","sdk.Canvas.Environment","sdk.Canvas.IframeHandling","sdk.Canvas.Navigation","sdk.Canvas.Plugin","sdk.Canvas.Prefetcher","sdk.Canvas.Tti","sdk.Event","sdk.RPC","sdk.Runtime"],function(e,o,n,r,a,l,i){function e(){n("FB").provide("Canvas",{setSize:function(t){return n("Assert").maybeObject(t,"Invalid argument"),n("sdk.Canvas.IframeHandling").setSize.apply(null,arguments)},setAutoGrow:function(){return n("sdk.Canvas.IframeHandling").setAutoGrow.apply(null,arguments)},getPageInfo:function(t){return n("Assert").isFunction(t,"Invalid argument"),n("sdk.Canvas.Environment").getPageInfo.apply(null,arguments)},scrollTo:function(t,r){return n("Assert").maybeNumber(t,"Invalid argument"),n("Assert").maybeNumber(r,"Invalid argument"),n("sdk.Canvas.Environment").scrollTo.apply(null,arguments)},setDoneLoading:function(t){return n("Assert").maybeFunction(t,"Invalid argument"),n("sdk.Canvas.Tti").setDoneLoading.apply(null,arguments)},startTimer:function(){return n("sdk.Canvas.Tti").startTimer.apply(null,arguments)},stopTimer:function(t){return n("Assert").maybeFunction(t,"Invalid argument"),n("sdk.Canvas.Tti").stopTimer.apply(null,arguments)},setUrlHandler:function(t){return n("Assert").isFunction(t,"Invalid argument"),n("sdk.Canvas.Navigation").setUrlHandler.apply(null,arguments)}}),n("sdk.RPC").local.fireEvent=c(r("sdk.Event").fire,"bind",!0,r("sdk.Event")),r("sdk.Event").subscribe("init:post",function(e){n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)&&(n("Assert").isTrue(!e.hideFlashCallback||!e.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),n("sdk.Canvas.Plugin")._setHidePluginCallback(e.hidePluginCallback||e.hideFlashCallback))})}function t(){n("sdk.RPC").local.hidePluginObjects=function(){r("Log").info("hidePluginObjects called"),n("sdk.Canvas.Plugin").hidePluginCallback({state:"opened"})},n("sdk.RPC").local.showPluginObjects=function(){r("Log").info("showPluginObjects called"),n("sdk.Canvas.Plugin").hidePluginCallback({state:"closed"})},n("sdk.RPC").local.showFlashObjects=n("sdk.RPC").local.showPluginObjects,n("sdk.RPC").local.hideFlashObjects=n("sdk.RPC").local.hidePluginObjects}function o(){t(),n("FB").provide("Canvas.Plugin",n("sdk.Canvas.Plugin"))}function a(){n("FB").provide("Canvas.Prefetcher",n("sdk.Canvas.Prefetcher")),r("sdk.Event").subscribe("init:post",function(e){n("sdk.Runtime").isEnvironment(n("sdk.Runtime").ENVIRONMENTS.CANVAS)&&n("sdk.Canvas.Prefetcher")._maybeSample()})}function l(){r("sdk.Event").subscribe(r("sdk.Event").SUBSCRIBE,e),r("sdk.Event").subscribe(r("sdk.Event").UNSUBSCRIBE,t),n("sdk.RPC").stub("useFriendsOnline");function e(e,t){e=="canvas.friendsOnlineUpdated"&&t.length===1&&n("sdk.RPC").remote.useFriendsOnline(!0)}function t(e,t){e=="canvas.friendsOnlineUpdated"&&t.length===0&&n("sdk.RPC").remote.useFriendsOnline(!1)}}e={init:e,initCanvasPlugin:o,initCanvasPrefetcher:a,initCanvasPresence:l,initRPC:t},o=e,i.default=o},98),t.__d("sdk.Event-public",["FB","Log","sdk.Event"],function(e,t,n,r,o,a,i){function e(){var e=function(t){return r("Log").error("FB.Event."+t+"() has been deprecated")};n("FB").provide("Event",{subscribe:function(t,n){return r("sdk.Event").subscribe(t,n)},unsubscribe:c(r("sdk.Event").unsubscribe,"bind",!0,r("sdk.Event")),clear:c(e,"bind",!0,null,"clear"),fire:c(e,"bind",!0,null,"fire")})}t={init:e},o=t,i.default=o},98),t.__d("sdk.Frictionless-public",["FB","sdk.Event","sdk.Frictionless"],function(e,t,n,r,o,a,i){"use strict";function e(){r("sdk.Event").subscribe("init:post",function(e){e.frictionlessRequests&&n("sdk.Frictionless").init()}),n("FB").provide("Frictionless",n("sdk.Frictionless"))}t={init:e},o=t,i.default=o},98),t.__d("sdk.GamingServices",["sdk.api","sdk.ui"],function(e,t,n,r,o,a,i){function e(e){n("sdk.ui")({display:"touch",method:"gaming_friendfinder"},e)}function t(e,t,r,o){n("sdk.api")("me/photos","POST",{caption:t,url:e},function(e){if(r===!1||!e||e.error)o!==null&&o(e);else{var t=e.id;n("sdk.ui")({display:"touch",method:"gaming_media_library",media_id:t},function(t){o!==null&&o(e)})}})}r={friendFinder:e,uploadImageToMediaLibrary:t},o=r,i.default=o},98),t.__d("sdk.GamingServices-public",["FB","sdk.GamingServices"],function(e,t,n,r,o,a,i){"use strict";function e(){n("FB").provide("",{gamingservices:n("sdk.GamingServices")})}t={init:e},r=t,i.default=r},98),t.__d("sdk.PluginUtils",["resolveURI","sdk.Event"],function(o,l,n,r,s,u,i){var e={string:function(t){return t},bool:function(t){return t!=null?/^(?:true|1|yes|on)$/i.test(t):void 0},url:function(t){return n("resolveURI")(t)},url_maybe:function(t){return t!=null&&t!==""?n("resolveURI")(t):void 0},hostname:function(t){return t!=null&&t!==""?t:"window.location.hostname"},px:function(t){if(typeof t=="string"){var e=t.match(/^(\d+)(?:px)?$/);return e!=null?parseInt(e[0],10):void 0}else return typeof t=="number"?t:void 0},text:function(t){return t}};function t(e,t){var n;return(n=(n=(n=(n=(n=(n=e[t])!=null?n:e[t.replace(/_/g,"-")])!=null?n:e[t.replace(/_/g,"")])!=null?n:e["data-"+t])!=null?n:e["data-"+t.replace(/_/g,"-")])!=null?n:e["data-"+t.replace(/_/g,"")])!=null?n:void 0}function o(n,r,o,a){Object.keys(n).forEach(function(i){if(n[i]==="text"&&!o[i]){var l;o[i]=(l=(l=r.textContent)!=null?l:r.innerText)!=null?l:void 0,r.setAttribute(i,o[i])}a[i]=e[n[i]](t(o,i))})}function a(e,t,n){t==="100%"?e.style.width="100%":t!=null&&t!==""&&(e.style.width=t+"px"),(n!=null&&n!==""||n===0)&&(e.style.height=n+"px")}function l(e){return function(t){t={width:t.width,height:t.height,pluginID:e},r("sdk.Event").fire("xfbml.resize",t)}}function s(e){return e==="100%"?"100%":e!=null?parseInt(e,10):void 0}function u(e){e!=null&&a(e,0,0)}var c={skin:"string",font:"string",width:"string",height:"px",ref:"string",lazy:"bool",color_scheme:"string"};i.getVal=t,i.validate=o,i.resize=a,i.resizeBubbler=l,i.parse=s,i.collapseIframe=u,i.baseParams=c},98),t.__d("isNumberLike",[],function(e,t,n,r,o,a){function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}a.default=e},66),t.__d("sdk.createIframe",["DOMEventListener","getBlankIframeSrc","guid","isNumberLike"],function(e,t,n,r,o,a,i){function e(e){var t=c("Object","assign",!1,{},e),o,a=t.name||n("guid")(),i=t.root,l=t.style||{border:"none"},s=t.url,u=t.onload,d=t.onerror;o=document.createElement("iframe"),o.name=a,delete t.style,delete t.name,delete t.url,delete t.root,delete t.onload,delete t.onerror,delete t.height,delete t.width,t.frameBorder===void 0&&(t.frameBorder=0),t.allowTransparency===void 0&&(t.allowTransparency=!0),t.allowFullscreen===void 0&&(t.allowFullscreen=!0),t.scrolling===void 0&&(t.scrolling="no"),t.allow===void 0&&(t.allow="encrypted-media"),t.lazy&&(t.loading="lazy",l.visibility&&delete l.visibility),delete t.lazy,e.width!=null&&n("isNumberLike")(e.width)&&(o.width=e.width+"px"),e.height!=null&&n("isNumberLike")(e.height)&&(o.height=e.height+"px"),t.testid&&o.dataset!=null&&(o.dataset.testid=t.testid,delete t.testid);for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&o.setAttribute(a,t[a]);if(c("Object","assign",!1,o.style,l),o.src=n("getBlankIframeSrc")(),i!=null&&i.appendChild(o),u)var m=r("DOMEventListener").add(o,"load",function(){m.remove(),u()});if(d)var p=r("DOMEventListener").add(o,"error",function(){p.remove(),d()});return o.src=s,o}i.default=e},98),t.__d("IframePlugin",["Log","ObservableMixin","QueryString","Type","UrlMap","guid","sdk.Auth.LoginStatus","sdk.AuthUtils","sdk.DOM","sdk.Event","sdk.PlatformVersioning","sdk.PluginUtils","sdk.Runtime","sdk.UA","sdk.URI","sdk.XD","sdk.createIframe"],function(e,t,n,r,o,a,i){var l=n("Type").extend({constructor:function(t,o,a,i){var e=this;this.parent(),a=a.replace(/-/g,"_");var l=r("sdk.PluginUtils").getVal(i,"plugin_id");this.subscribe("xd.resize",r("sdk.PluginUtils").resizeBubbler(l)),this.subscribe("xd.resize.flow",r("sdk.PluginUtils").resizeBubbler(l)),this.subscribe("xd.resize.flow",function(t){c("Object","assign",!1,e._iframeOptions.root.style,{verticalAlign:"bottom",overflow:""}),r("sdk.PluginUtils").resize(e._iframeOptions.root,r("sdk.PluginUtils").parse(t.width),r("sdk.PluginUtils").parse(t.height)),e.updateLift(),window.clearTimeout(e._timeoutID)}),this.subscribe("xd.resize",function(t){c("Object","assign",!1,e._iframeOptions.root.style,{verticalAlign:"bottom",overflow:""}),r("sdk.PluginUtils").resize(e._iframeOptions.root,r("sdk.PluginUtils").parse(t.width),r("sdk.PluginUtils").parse(t.height)),r("sdk.PluginUtils").resize(e._iframe,r("sdk.PluginUtils").parse(t.width),r("sdk.PluginUtils").parse(t.height)),e._isIframeResized=!0,e.updateLift(),window.clearTimeout(e._timeoutID)}),this.subscribe("xd.resize.iframe",function(t){r("sdk.PluginUtils").resize(e._iframe,r("sdk.PluginUtils").parse(t.width),r("sdk.PluginUtils").parse(t.height)),e._isIframeResized=!0,e.updateLift(),window.clearTimeout(e._timeoutID)}),this.subscribe("xd.sdk_event",function(e){var n=c("JSON","parse",!1,e.data);n.pluginID=l,r("sdk.Event").fire(e.event,n,t)});var s=r("UrlMap").resolve("www")+"/plugins/"+a+".php?",u={};r("sdk.PluginUtils").validate(this.getParams(),t,i,u),r("sdk.PluginUtils").validate(r("sdk.PluginUtils").baseParams,t,i,u),c("Object","assign",!1,u,{app_id:n("sdk.Runtime").getClientID(),locale:n("sdk.Runtime").getLocale(),sdk:"joey",kid_directed_site:n("sdk.Runtime").getKidDirectedSite(),channel:r("sdk.XD").handler(function(t){t!=null&&e.inform("xd."+t.type,t)},"parent.parent",!0)}),this.shouldIgnoreWidth()&&(u.width=void 0),u.container_width=t.offsetWidth,r("sdk.DOM").addCss(t,"fb_iframe_widget");var d=n("guid")();this.subscribe("xd.verify",function(e){r("sdk.XD").sendToFacebook(d,{method:"xd/verify",params:c("JSON","stringify",!1,e.token)})}),this.subscribe("xd.refreshLoginStatus",function(){r("sdk.AuthUtils").removeLogoutState(),n("sdk.Auth.LoginStatus").getLoginStatus(c(e.inform,"bind",!0,e,"login.status"),!0)}),i=document.createElement("span"),c("Object","assign",!1,i.style,{verticalAlign:"top",width:u.lazy?"1px":"0px",height:u.lazy?"1px":"0px",overflow:"hidden"}),this._element=t,this._ns=o,this._tag=a,this._params=u,this._config=this.getConfig(),this._iframeOptions={root:i,url:s+n("QueryString").encode(u),name:d,width:this._config.mobile_fullsize&&n("sdk.UA").mobile()?void 0:u.width||1e3,height:u.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",testid:this._ns+":"+this._tag+" Facebook Social Plugin",onload:function(){return e.inform("render")},onerror:function(){return r("sdk.PluginUtils").collapseIframe(e._iframe)},lazy:u.lazy},this.isFluid()&&u.width!=="auto"&&(r("sdk.DOM").addCss(this._element,"fb_iframe_widget_fluid_desktop"),!u.width&&this._config.full_width&&(this._element.style.width="100%",this._iframeOptions.root.style.width="100%",this._iframeOptions.style.width="100%",this._params.container_width=this._element.offsetWidth,this._iframeOptions.url=s+n("QueryString").encode(this._params)))},shouldIgnoreWidth:function(){return n("sdk.UA").mobile()&&this.getConfig().mobile_fullsize},useInlineHeightForMobile:function(){return!0},process:function(){var e=this;if(n("sdk.Runtime").getIsVersioned()){r("sdk.PlatformVersioning").assertVersionIsSet();var t=new(n("sdk.URI"))(this._iframeOptions.url);this._iframeOptions.url=t.setPath("/"+n("sdk.Runtime").getVersion()+t.getPath()).toString()}t=d.extends({},this._params),delete t.channel;var o=n("QueryString").encode(t);if(this._element.getAttribute("fb-iframe-plugin-query")==o){r("Log").info("Skipping render: %s:%s %s",this._ns,this._tag,o),this.inform("render");return}for(this._element.setAttribute("fb-iframe-plugin-query",o),this.subscribe("render",function(){r("sdk.Event").fire("iframeplugin:onload"),e._iframe.style.visibility="visible",e._isIframeResized||r("sdk.PluginUtils").collapseIframe(e._iframe)});this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._iframeOptions.root);var a=n("sdk.UA").mobile()?120:45;this._timeoutID=window.setTimeout(function(){r("sdk.PluginUtils").collapseIframe(e._iframe),r("Log").warn("%s:%s failed to resize in %ss",e._ns,e._tag,a)},a*1e3),this._iframe=n("sdk.createIframe")(this._iframeOptions),r("sdk.Event").fire("iframeplugin:create"),(n("sdk.UA").mobile()||t.width==="auto")&&(this.useInlineHeightForMobile()&&r("sdk.DOM").addCss(this._element,"fb_iframe_widget_fluid"),this._iframeOptions.width||(c("Object","assign",!1,this._element.style,{display:"block",width:"100%",height:"auto"}),c("Object","assign",!1,this._iframeOptions.root.style,{width:"100%",height:"auto"}),o={height:"auto",position:"static",width:"100%"},(n("sdk.UA").iphone()||n("sdk.UA").ipad())&&c("Object","assign",!1,o,{width:"220px","min-width":"100%"}),c("Object","assign",!1,this._iframe.style,o)))},getConfig:function(){return{}},isFluid:function(){var e=this.getConfig();return e.fluid},updateLift:function(){var e=this._iframe.style.width===this._iframeOptions.root.style.width&&this._iframe.style.height===this._iframeOptions.root.style.height;r("sdk.DOM")[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},n("ObservableMixin"));l.withParams=function(e,t){return l.extend({getParams:function(){return e},getConfig:function(){return t||{}}})},e=l,i.default=e},98),t.__d("PluginConfig",["sdk.feature"],function(e,t,n,r,o,a,i){e={mobile_fullsize:!0},t={mobile_fullsize:!0},r={mobile_fullsize:!0},o={mobile_fullsize:!0},a={mobile_fullsize:!0},n={fluid:n("sdk.feature")("fluid_embed",!1),mobile_fullsize:!0},e={comment_embed:e,messengerpreconfirmation:t,messengeraccountconfirmation:r,messengerbusinesslink:o,messengertoggle:a,post:n},t=e,i.default=t},98),t.__d("PluginAttrTypes",[],function(e,t,n,r,o,a){"use strict";e="string",t="bool",n="url",a.string=e,a.bool=t,a.url=n},66),t.__d("PluginTags",["PluginAttrTypes"],function(e,t,n,r,o,a,i){var l={ad_library_spend_tracker:{country:r("PluginAttrTypes").string,time_preset:r("PluginAttrTypes").string,custom_start_date:r("PluginAttrTypes").string,custom_end_date:r("PluginAttrTypes").string,race_type:r("PluginAttrTypes").string,state:r("PluginAttrTypes").string,district:r("PluginAttrTypes").string,page_ids:r("PluginAttrTypes").string,include_vps:r("PluginAttrTypes").bool},comment_embed:{href:r("PluginAttrTypes").url,include_parent:r("PluginAttrTypes").bool},composer:{action_type:r("PluginAttrTypes").string,action_properties:r("PluginAttrTypes").string},create_event_button:{},group:{href:r("PluginAttrTypes").url,show_social_context:r("PluginAttrTypes").bool,show_group_info:r("PluginAttrTypes").bool,show_metadata:r("PluginAttrTypes").bool},like:{href:r("PluginAttrTypes").url,layout:r("PluginAttrTypes").string,show_faces:r("PluginAttrTypes").bool,share:r("PluginAttrTypes").bool,action:r("PluginAttrTypes").string,send:r("PluginAttrTypes").bool,size:r("PluginAttrTypes").string},like_box:{href:r("PluginAttrTypes").string,show_faces:r("PluginAttrTypes").bool,header:r("PluginAttrTypes").bool,stream:r("PluginAttrTypes").bool,force_wall:r("PluginAttrTypes").bool,show_border:r("PluginAttrTypes").bool,id:r("PluginAttrTypes").string,connections:r("PluginAttrTypes").string,profile_id:r("PluginAttrTypes").string,name:r("PluginAttrTypes").string},page:{href:r("PluginAttrTypes").string,hide_cta:r("PluginAttrTypes").bool,hide_cover:r("PluginAttrTypes").bool,small_header:r("PluginAttrTypes").bool,adapt_container_width:r("PluginAttrTypes").bool,show_facepile:r("PluginAttrTypes").bool,show_posts:r("PluginAttrTypes").bool,tabs:r("PluginAttrTypes").string},page_events:{href:r("PluginAttrTypes").url},post:{href:r("PluginAttrTypes").url,show_text:r("PluginAttrTypes").bool},profile_pic:{uid:r("PluginAttrTypes").string,linked:r("PluginAttrTypes").bool,href:r("PluginAttrTypes").string,size:r("PluginAttrTypes").string,facebook_logo:r("PluginAttrTypes").bool},send_to_mobile:{max_rows:r("PluginAttrTypes").string,show_faces:r("PluginAttrTypes").bool,size:r("PluginAttrTypes").string}},s={fan:"like_box",likebox:"like_box"};Object.keys(s).forEach(function(e){l[e]=l[s[e]]}),e=l,i.default=e},98),t.__d("runOnce",[],function(e,t,n,r,o,a){function e(e){var t=!1,n;return function(){return t||(t=!0,n=e()),n}}a.default=e},66),t.__d("XFBML",["Assert","Log","runOnce","sdk.Observable"],function(e,t,n,r,o,a,i){var l={},s={},u=0,d=new(r("sdk.Observable")).Observable;function m(e,t){return(e[t]+"").trim()}function p(e){return l[m(e,"nodeName").toLowerCase()]}function _(e){var t=m(e,"className").split(/\s+/).filter(function(e){return Object.prototype.hasOwnProperty.call(s,e)});if(t.length!==0&&(e.getAttribute("fb-xfbml-state")||!e.childNodes||e.childNodes.length===0||e.childNodes.length===1&&e.childNodes[0].nodeType===3||e.children.length===1&&m(e.children[0],"className")==="fb-xfbml-parse-ignore"))return s[t[0]]}function f(e){var t={};return c("Array","from",!1,e.attributes).forEach(function(e){t[m(e,"name")]=m(e,"value")}),t}function g(e,t,o){if(n("Assert").isTrue(e&&e.nodeType&&e.nodeType===1&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),n("Assert").isFunction(t,"Invalid callback passed to FB.XFBML.parse()"),e!=null){var a=++u;r("Log").info("XFBML Parsing Start %s",a);var i=1,l=0,s=function(){i--,i===0&&(r("Log").info("XFBML Parsing Finish %s, %s tags found",a,l),t!=null&&t(),d.inform("render",[a,l])),n("Assert").isTrue(i>=0,"onrender() has been called too many times")};c("Array","from",!1,e.getElementsByTagName("*")).forEach(function(e){if(!(o!==!0&&e.getAttribute("fb-xfbml-state"))&&e.nodeType===1){var t=p(e)||_(e);if(t!=null){i++,l++;var r=new t.ctor(e,t.xmlns,t.localName,f(e));r.subscribe("render",n("runOnce")(function(){e.setAttribute("fb-xfbml-state","rendered"),s()})),t=function t(){e.getAttribute("fb-xfbml-state")=="parsed"?d.subscribe("render.queue",t):(e.setAttribute("fb-xfbml-state","parsed"),r.process())},t()}}}),d.inform("parse",[a,l]);var m=3e4;window.setTimeout(function(){i>0&&r("Log").warn("%s tags failed to render in %s ms",i,m)},m),s()}}d.subscribe("render",function(){var e=d.getSubscribers("render.queue");d.clearSubscribers("render.queue"),e.forEach(function(e){e([])})}),e={registerTag:function(t){var e=t.xmlns+":"+t.localName;e==="fb:customerchat"&&l[e]!=null||(n("Assert").isUndefined(l[e],e+" already registered"),l[e]=t,s[t.xmlns+"-"+t.localName]=t)},parse:function(t,n){g((t=t)!=null?t:document.body,(t=n)!=null?t:function(){},!0)},parseNew:function(){g(document.body,function(){},!1)},subscribe:d.subscribe,unsubscribe:d.unsubscribe},t=e,i.default=t},98),t.__d("sdk.XFBML.Comments",["IframePlugin","QueryString","UrlMap","sdk.DOM","sdk.Event","sdk.PluginUtils","sdk.Runtime","sdk.UA","sdk.URI"],function(e,t,n,r,o,a,i){var l=320,s=d.extends({numposts:"string",href:"url",permalink:"bool",order_by:"string",mobile:"bool",version:"string",hide_post_profile:"bool",limit:"string",offset:"string",view:"string",fb_comment_id:"string",from_mod_tool:"bool",migrated:"string",xid:"string",title:"string",url:"string",quiet:"string",reverse:"string",simple:"string",css:"string",notify:"string",count:"bool",skin:"string",font:"string",width:"string",height:"px",ref:"string",lazy:"bool",color_scheme:"string"},r("sdk.PluginUtils").baseParams);function u(e,t){if(Object.keys(s).forEach(function(n){var o=r("sdk.DOM").getAttr(e,n);o!==null&&(t[n]=o)}),Object.keys(t).forEach(function(e){c(e,"startsWith",!0,"data-")&&delete t[e]}),n("sdk.UA").mobile()&&t.mobile!==!1&&(t.mobile=!0),t.skin||(t.skin=t.colorscheme),t.href)o=t.fb_comment_id,o||(o=n("QueryString").decode(document.URL.substring(document.URL.indexOf("?")+1)).fb_comment_id,o&&o.indexOf("#")>0&&(o=o.substring(0,o.indexOf("#")))),o&&(t.fb_comment_id=o);else{if(t.title=t.title||document.title,t.url=t.url||document.URL,!t.xid){var o=document.URL.indexOf("#");o>0?t.xid=encodeURIComponent(document.URL.substring(0,o)):t.xid=encodeURIComponent(document.URL)}t.migrated&&(t.href=r("UrlMap").resolve("www")+"/plugins/comments_v1.php?app_id="+n("sdk.Runtime").getClientID()+"&xid="+encodeURIComponent(t.xid)+"&url="+encodeURIComponent(t.url))}return t.version||(t.version=n("sdk.Runtime").getVersion()),t.permalink||(t.width=t.mobile||t.width==="auto"||t.width==="100%"?"":t.width?Math.max(t.width,l):550,t.height=100),t.href!=null&&(o=new(n("sdk.URI"))(t.href),o.getProtocol()||(t.href=o.setProtocol("http").toString())),t}e=n("IframePlugin").extend({constructor:function(t,n,o,a){a=u(t,a),this.parent(t,n,o,a),this.subscribe("xd.sdk_event",function(e){r("sdk.Event").fire(e.event,c("JSON","parse",!1,e.data))})},getConfig:function(){return{fluid:!0,full_width:!0}},getParams:function(){return s}}),t=e,i.default=t},98),t.__d("sdk.XFBML.CommentsCount",["sdk.DOM","sdk.XFBML.Comments","sprintf"],function(e,t,n,r,o,a,i){e=n("sdk.XFBML.Comments").extend({constructor:function(t,o,a,i){r("sdk.DOM").addCss(t,"fb_comments_count_zero"),i.count=1,this.parent(t,o,"comments",i),this.subscribe("xd.comment_count",function(e){e=c("JSON","parse",!1,e.data),r("sdk.DOM").html(t,n("sprintf")('<span class="fb_comments_count">%s</span>',e.count)),e.count>0&&r("sdk.DOM").removeCss(t,"fb_comments_count_zero"),r("sdk.DOM").removeCss(t,"fb_iframe_widget")})}}),t=e,i.default=t},98),t.__d("$InternalEnum",[],function(u,t,n,r,o,a){"use strict";var e=Object.prototype.hasOwnProperty,i=typeof WeakMap=="function"?new WeakMap:new Map;function l(e){var t=i.get(e);if(t!==void 0)return t;var n=new Map;Object.getOwnPropertyNames(e).forEach(function(t){n.set(e[t],t)});try{i.set(e,n)}catch(e){}return n}var s=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(t){return l(this).has(t)}},cast:{value:function(t){return this.isValid(t)?t:void 0}},members:{value:function(){return l(this).keys()}},getName:{value:function(t){return l(this).get(t)}}}));function u(t){var n=Object.create(s);for(var r in t)e.call(t,r)&&Object.defineProperty(n,r,{value:t[r]});return Object.freeze(n)}var c=Object.freeze(Object.defineProperties(Object.create(null),{isValid:{value:function(n){return typeof n=="string"?e.call(this,n):!1}},cast:{value:s.cast},members:{value:function(){return Object.getOwnPropertyNames(this).values()}},getName:{value:function(t){return t}}}));u.Mirrored=function(e){for(var t=Object.create(c),n=0,r=e.length;n<r;++n)Object.defineProperty(t,e[n],{value:e[n]});return Object.freeze(t)},Object.freeze(u.Mirrored),o.exports=Object.freeze(u)},null),t.__d("ChatPluginEntryPointIconEnum",["$InternalEnum"],function(e,t,n,r,o,a){e=t("$InternalEnum")({MESSENGER_ICON:"messenger_icon",CHAT_ROUND_ICON:"chat_round_icon",CHAT_ANGULAR_ICON:"chat_angular_icon",NONE:"none"}),n=e,a.default=n},66),t.__d("ChatPluginEntryPointLabelEnum",["$InternalEnum"],function(e,t,n,r,o,a){e=t("$InternalEnum")({NONE:"none",CHAT:"chat",HELP:"help",ASK_US:"ask_us"}),n=e,a.default=n},66),t.__d("ChatPluginEntryPointSizeEnum",[],function(e,t,n,r,o,a){e=Object.freeze({STANDARD:"standard",COMPACT:"compact"}),a.default=e},66),t.__d("performanceAbsoluteNow",["performance"],function(l,t,n,r,o,a,i){var e=function(){return Date.now()};function l(t){e=t}if(n("performance").now&&n("performance").timing&&n("performance").timing.navigationStart){var s=n("performance").timing.navigationStart;t=function(){return n("performance").now()+s}}else t=function(){return e()};t.setFallback=l,r=t,i.default=r},98),t.__d("ChatPluginSDKPreLoggingUtils",["CORSRequest","UrlMap","performanceAbsoluteNow"],function(e,t,n,r,o,a,i){"use strict";function e(e,t,o,a){var i;a===void 0&&(a=!0);var l=n("performanceAbsoluteNow")();e=e?r("UrlMap").resolve("social_plugin")+"/customer_chat/SDK/":r("UrlMap").resolve("www")+"/plugins/customer_chat/SDK/",i=(i=o.request_time)!=null?i:void 0;var s=0;typeof i=="number"&&a&&(s=l-i),o.request_time=l,n("CORSRequest").execute(e,"get",d.extends({},o,{event_name:t,loading_time:s}),function(){return null})}i.preLogging=e},98),t.__d("LiveChatPluginConstants",["$InternalEnum"],function(e,t,n,r,o,a){"use strict";e="LiveChatEvent/",n="mqtt",r=t("$InternalEnum")({CONNECTED:"Connected",CONNECTING:"Connecting",DISCONNECTED:"Disconnected"}),o=250,t=e+"close_timestamps";var i=e+"reset_badging",l=e+"state",s=e+"switch_account",u=e+"typing",c=e+"unread_count",d=e+"update_message_list",m="platform/plugins/connect/guest",p=e+"guest_upgrade_success",_=e+"guest_upgrade_success_incognito",f=e+"navigate_to_welcome_page",g="platform/plugins/connect/access_token";e=e+"start_re_engagement";var h=124,y=187,C=24,b=424,v=288,S=313,R=219,L=40,E=36,k=24,I=18,T=708,D=540,x=244,$=202,P=509,N=430,M=6,w=0,A=1,F=-1,O="messaging_plugin",B=8634e4,W="#8A8D91",q="entrypoint:customer_chat_plugin",U=0,V=1,H=2,G=3,z="new_message_update",j="initial_fetch",K=5e3,Q="https://www.facebook.com/business/help/1661027437357021";a.MQTT=n,a.MQTTGatewayConnectionState=r,a.LOGIN_CHECK_INTERVAL=o,a.CLOSE_TIMESTAMPS=t,a.RESET_BADGING=i,a.STATE_UPDATE=l,a.SWITCH_ACCOUNT=s,a.TYPING_UPDATE=u,a.UNREAD_COUNT_UPDATE=c,a.UPDATE_MESSAGE_LIST=d,a.GUEST_MODE_CONNECT=m,a.GUEST_UPGRADE_SUCCESS=p,a.GUEST_UPGRADE_SUCCESS_INCOGNITO=_,a.NAVIGATE_TO_WELCOME_PAGE=f,a.ACCESS_TOKEN_LOGIN=g,a.START_RE_ENGAGEMENT=e,a.PROMPT_FALLBACK_HEIGHT=h,a.PROMPT_REDESIGN_FALLBACK_HEIGHT=y,a.PROMPT_CONTAINER_PADDING_HEIGHT=C,a.WELCOME_PAGE_GUEST_FALLBACK_HEIGHT=b,a.WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT=v,a.WELCOME_PAGE_GUEST_FALLBACK_HEIGHT_WITH_COMPACT=S,a.WELCOME_PAGE_NO_GUEST_FALLBACK_HEIGHT_WITH_COMPACT=R,a.WELCOME_PAGE_ATTRIBUTION_OFFEST_HEIGHT=L,a.WELCOME_PAGE_ATTRIBUTION_OFFSET_HEIGHT_WITH_COMPACT=E,a.MAIN_IFRAME_PADDING_HEIGHT=k,a.MAIN_IFRAME_PADDING_HEIGHT_WITH_COMPACT=I,a.THREAD_PAGE_HEIGHT=T,a.THREAD_PAGE_HEIGHT_COMPACT=D,a.RE_ENGAGEMENT_COLLAPSED_DIALOG_HEIGHT=x,a.RE_ENGAGEMENT_COLLAPSED_DIALOG_HEIGHT_COMPACT=$,a.RE_ENGAGEMENT_EXPANDED_DIALOG_HEIGHT=P,a.RE_ENGAGEMENT_EXPANDED_DIALOG_HEIGHT_COMPACT=N,a.GREETING_TEXT_BOTTOM_SPACING_OFFEST=M,a.LOGGED_IN_CHAT_MODE=w,a.GUEST_CHAT_MODE=A,a.INVALID_CHAT_MODE=F,a.MESSENGING_PLUGIN=O,a.GUEST_SESSION_STORAGE_VALIDITY_MS=B,a.GUEST_SEND_BUTTON_COLOR_EMPTY_INPUT=W,a.LIVE_CHAT_ENTRYPOINT_ATTRIBUTION_TAG=q,a.ITP_CONSISTENCY_UNKNOWN_LOGGED_OUT=U,a.ITP_CONSISTENCY_CONSISTENT_LOGGED_IN=V,a.ITP_CONSISTENCY_INCONSISTENT=H,a.ITP_CONSISTENCY_CONSISTENT_NO_ITP=G,a.NEW_MESSAGE_UPDATE=z,a.INITIAL_FETCH=j,a.PLUGIN_FADE_DELAY=K,a.HELP_DEX_LINK=Q},66),t.__d("ChatPluginStyleUtils",["LiveChatPluginConstants"],function(E,k,T,r,D,x,i){var e=44,t=36,n=17,o=15,a=22,l=20,s=6,u=4,m=16,p=14,_=60,f=44,g=70,h=86,y=63,C=76,b=99,v=114,S=85,R=98,L=12;function E(){var e=screen.width;return e="width: "+e+"px;","padding: 0; position: fixed; z-index: 2147483646;box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);border-radius: 16px;bottom: 24px; top: auto; right:0;"+e}function k(e){e instanceof HTMLElement&&(e.style.marginTop=window.innerHeight-e.clientHeight+"px")}function I(e,t,n,r,o,a,i){return t=G(t,r,o),r=z(a,i),o=j(e,n),a=d.extends({},t,r,o),Object.fromEntries(c("Object","entries",!1,a).sort())}function T(e,t,n,r,o,a,i){return e=I(e,t,n,r,o,a,i),c("JSON","stringify",!1,e)}function D(n,r,o,a,i){switch(o=o+(n=="right"?-2:43),r+_-16,r=r-16,a==="none"?i==="compact"?r+=f:r+=_:i==="compact"?r+=t:r+=e,a={bottom:r.toString()+"px",position:"fixed",width:"20px",height:"24px",zIndex:2147483645,borderRadius:"4pt",background:"none"},i={},n){case"right":i=d.extends({},a,{right:o+"px"});break;case"left":i=d.extends({},a,{left:o+"px"});break}return r=Object.fromEntries(c("Object","entries",!1,i).sort()),c("JSON","stringify",!1,r)}function x(e,t,n,r,o,a,i,l){var s=n;switch(t=t-2.5,e==="left"&&(s=n-15,r==="none"?a==="compact"?s+=f:s+=_:o==="none"?r==="ask_us"?a==="compact"?s+=C:s+=h:a==="compact"?s+=y:s+=g:r==="ask_us"?a==="compact"?s+=R:s+=v:a==="compact"?s+=S:s+=b),n={bottom:t.toString()+"px",position:"fixed",zIndex:2147483646,height:"15px",width:"15px",borderRadius:"50%"},o={},e){case"right":o=d.extends({},n,{right:s+"px"});break;case"left":o=d.extends({},n,{left:s+"px"});break}return i===!1&&(o=d.extends({},o,{animation:l===!0?"slideInFromBottomDelay 3.5s ease-out":null,backgroundColor:"#31CC46",border:"2.5px solid white",height:"10px",width:"10px"})),Object.fromEntries(c("Object","entries",!1,o).sort())}function $(e){var t="padding: 0; position: fixed; z-index: 2147483646;box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.15);border-radius: 16px;bottom: 24px; top: auto; right:0; margin: 0 12px; width: calc(100% - 24px);";return e=e===!0?" height: 60px;":" height: 0px;",t+=e,t}function P(n,r,o,a,i,l,s){o=o-L,i==="none"?l==="compact"?i=f:i=_:l==="compact"?i=t:i=e,l=i+r,i=" bottom: "+l.toString()+"px;",r="padding: 0; position: fixed; z-index: 2147483646; border-radius: 16px; top: auto; background: none; minHeight: 300px;";var u=" width: 399px;",c=" width: 324px;";switch(r=r+(s==="compact"?c:u)+i,a?r+=" max-height: calc(100% - "+l.toString()+"px);":r+=" max-height: 0;",n){case"right":r+=" right: "+(o+4)+"px;";break;case"left":r+=" left: "+(o-4)+"px;";break}return r}function N(e){var t="position: fixed; z-index: 2147483646; box-shadow: none; border-radius: 0; top: 0px; right: 0px; width: 100%;";return e=e===!0?" height: 100%; max-height: 100%;":" max-height: 0px;",t+=e,t}function M(e,t,n,o,a){return t=w(t,n,o),e||(n=a?r("LiveChatPluginConstants").RE_ENGAGEMENT_COLLAPSED_DIALOG_HEIGHT_COMPACT:r("LiveChatPluginConstants").RE_ENGAGEMENT_COLLAPSED_DIALOG_HEIGHT,o=a?r("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT_WITH_COMPACT:r("LiveChatPluginConstants").MAIN_IFRAME_PADDING_HEIGHT,e=n+o,t+=e-r("LiveChatPluginConstants").GREETING_TEXT_BOTTOM_SPACING_OFFEST),t}function w(n,r,o){var a=L;return r==="none"?o==="compact"?a+=f:a+=_:o==="compact"?a+=t:a+=e,a+n}function A(e,t,n,r,o){switch(n=n-L,t=w(t,r,o),r={padding:0,position:"fixed",zIndex:2147483646,borderRadius:"16px",top:"auto",width:"247px",maxHeight:"calc(100% - 80px)",background:"none",height:"72px"},o=d.extends({},r,{bottom:t+"px"}),e){case"right":o=d.extends({},o,{right:"6px",marginRight:n+"px"});break;case"left":o=d.extends({},o,{left:"2px",marginLeft:n+"px"});break}return o=d.extends({},o,{animation:"slideInFromBottomDelay 3s ease-out"}),r=Object.fromEntries(c("Object","entries",!1,o).sort()),c("JSON","stringify",!1,r)}function F(e,t,n,r,o,a){switch(n=n-L,t=w(t,o,a),o=" bottom: "+t.toString()+"px;",a="padding: 0; position: fixed; z-index: 2147483646;border-radius: 16px; top: auto; width: 247px; max-height: calc(100% - 80px); background: none;"+o,t=a,e){case"right":t+=" right: 6px; margin-right: "+n+"px;";break;case"left":t+=" left: 2px; margin-left: "+n+"px;";break}return t+=r?" animation: slideInFromBottomDelay 6s ease-out;":" animation: slideInFromBottomDelay 3s ease-out;",t}function O(n,r,o,a,i,l){a=l==="compact"?f:_;var s="position: fixed; z-index: 2147483646; box-shadow: none; border-radius: 18px 0px 18px 18px; right: 0px; width: calc(80% - 40px); bottom: 24px;";if(n!=null&&typeof o=="number"){s+=" height: "+n+"px;";var u=o;n<a&&(u=o+12),s+=" bottom: "+u+"px;"}else s+=" height: 60px;";if(s+=r==="left"?" left: calc(84px + 5%);":" left: 5%;",i!=="none"&&typeof o=="number")switch(n=l==="compact"?t:e,a=o+n+12,s+=" bottom: "+a+"px;",r){case"right":s+=" right: 20px; left: auto;";break;case"left":s+=" left: 20px; right: auto;";break}return s}function B(n,r,o,a,i){if(o="position: fixed; z-index: 2147483646; box-shadow: none; border-radius: 18px 0px 18px 18px;width: 306px;bottom: 24px; right: 20px;",typeof r=="number"&&(i=i==="compact"?t:e,r=r+i+12,o+=" bottom: "+r+"px;"),typeof a=="number")switch(i=a-L,n){case"right":o+=" right: "+(i+4)+"px; left:auto";break;case"left":o+=" left: "+(i-4)+"px; right:auto";break}return o}function W(e,t){var n={alignItems:"flex-start",background:"#FFFFFF",borderRadius:"18px",bottom:0,boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:"row",position:"absolute"},r=d.extends({},n,{marginLeft:"12px",padding:"8px 0px 8px 8px",width:"90%"});return n=d.extends({},n,{padding:"8px 0px 8px 12px",width:"93%"}),e=e?r:n,t==="desktop"&&(e=d.extends({},e,{cursor:"pointer"})),Object.fromEntries(c("Object","entries",!1,e).sort())}function q(e,t){var n={display:"inline-block",fontSize:"17px",lineHeight:"22px",textAlign:"left",width:"90%",wordWrap:"break-word"},r=d.extends({},n,{paddingRight:"18px"});return t==="mobile"&&(r=d.extends({},r,{paddingLeft:"12px"})),t=d.extends({},n,{paddingRight:"12px",paddingLeft:"12px"}),n=e?t:r,Object.fromEntries(c("Object","entries",!1,n).sort())}function U(e,t){var n={position:"absolute",top:"-2px",width:"38px"};return t==="desktop"&&(n=d.extends({},n,{cursor:"pointer"})),t=d.extends({},n,{left:"-4px"}),n=d.extends({},n,{right:"-4px"}),e=e?t:n,Object.fromEntries(c("Object","entries",!1,e).sort())}function V(e){return e={visibility:e?"hidden":"visible"},Object.fromEntries(c("Object","entries",!1,e).sort())}function H(){var e={outline:"none"};return Object.fromEntries(c("Object","entries",!1,e).sort())}function G(e,t,n){return{animation:K(t,n),background:"none",bottom:e.toString()+"px",display:"block",margin:"0 12px 0 12px",overflow:"visible",padding:"0",position:"fixed",top:"auto",zIndex:2147483644}}function z(n,r){return n!=="none"?(n=r==="compact"?t:e,{borderRadius:"60px",boxShadow:null,height:n+"px",width:"auto"}):(n=r==="compact"?f:_,{borderRadius:"60px",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.15)",height:n+"px",width:n+"px"})}function j(e,t){switch(t=t-L,e){case"right":return{right:t+"px"};case"left":return{left:t+"px"}}}function K(e,t){return e?null:t?"slideInFromBottomDelay 3s ease-out":"slideInFromBottom 0.3s ease-out"}i.LABELED_ENTRY_POINT_STANDARD_HEIGHT=e,i.LABELED_ENTRY_POINT_COMPACT_HEIGHT=t,i.LABELED_ENTRY_POINT_STANDARD_FONT_SIZE=n,i.LABELED_ENTRY_POINT_COMPACT_FONT_SIZE=o,i.LABELED_ENTRY_POINT_STANDARD_LINE_HEIGHT=a,i.LABELED_ENTRY_POINT_COMPACT_LINE_HEIGHT=l,i.LABELED_ENTRY_POINT_STANDARD_ICON_MARGIN_RIGHT=s,i.LABELED_ENTRY_POINT_COMPACT_ICON_MARGIN_RIGHT=u,i.LABELED_ENTRY_POINT_STANDARD_PADDING_HORIZONTAL=m,i.LABELED_ENTRY_POINT_COMPACT_PADDING_HORIZONTAL=p,i.ICON_ENTRY_POINT_STANDARD_HEIGHT=_,i.ICON_ENTRY_POINT_COMPACT_HEIGHT=f,i.LABELED_ONLY_ENTRY_POINT_STANDARD_WIDTH_SHORT=g,i.LABELED_ONLY_ENTRY_POINT_STANDARD_WIDTH_LONG=h,i.LABELED_ONLY_ENTRY_POINT_COMPACT_WIDTH_SHORT=y,i.LABELED_ONLY_ENTRY_POINT_COMPACT_WIDTH_LONG=C,i.LABELED_WITH_ICON_ENTRY_POINT_STANDARD_WIDTH_SHORT=b,i.LABELED_WITH_ICON_ENTRY_POINT_STANDARD_WIDTH_LONG=v,i.LABELED_WITH_ICON_ENTRY_POINT_COMPACT_WIDTH_SHORT=S,i.LABELED_WITH_ICON_ENTRY_POINT_COMPACT_WIDTH_LONG=R,i.getMobileStyleText=E,i.positionElementAtWindowFooter=k,i.getEntryPointStyle=I,i.getIconStyleText=T,i.getUnreadCountStyleText=D,i.getAvailabilityStatusStyleText=x,i.getMobileLandingStyleText=$,i.getDesktopStyleText=P,i.getMobileFullScreenStyleText=N,i.getDesktopGreetingBottomSpacingWithReEngagementDialog=M,i.getDesktopGreetingBottomSpacing=w,i.getDesktopGreetingStyleText=A,i.getDesktopWelcomeMessageStyleText=F,i.getMobileWelcomeMessageStyleText=O,i.getMobileReengagementCollapsedDialogStyleText=B,i.getWelcomeMessageBubbleStyle=W,i.getWelcomeMessageTextStyle=q,i.getMinusButtonStyle=U,i.getMinusButtonVisibility=V,i.getNoOutlineFocus=H},98),t.__d("DOMPlugin",["JSSDKShadowCssConfig","Log","QueryString","sdk.DOM","sdk.Observable","sdk.PluginUtils","sdk.Runtime","sdk.XD","sdk.feature"],function(e,t,n,r,o,a,i){e=(function(e){d.inheritsLoose(o,e);var t=o.prototype;t.render=function(e){};function o(t,o,a,i,l,s){var u;return u=e.call(this)||this,u.shadowCss=[],u.element=t,u.tag=a.replace(/-/g,"_"),u.ns=o,u.config=(a=s)!=null?a:{},u.params={},r("sdk.PluginUtils").validate(l,t,i,u.params),r("sdk.PluginUtils").validate(r("sdk.PluginUtils").baseParams,t,i,u.params),c("Object","assign",!1,u.params,{app_id:n("sdk.Runtime").getClientID(),locale:n("sdk.Runtime").getLocale(),sdk:"joey",kid_directed_site:n("sdk.Runtime").getKidDirectedSite(),channel:r("sdk.XD").handler(function(e){e!=null&&u.inform("xd."+e.type,e)},"parent.parent",!0)}),u}return t.process=function(){var e=d.extends({},this.params);if(delete e.channel,e=n("QueryString").encode(e),this.element.getAttribute("fb-iframe-plugin-query")===e){r("Log").info("Skipping render: %s:%s %s",this.ns,this.tag,e),this.inform("render");return}this.element.setAttribute("fb-iframe-plugin-query",e),l(this.element,c(this.render,"bind",!0,this),this.shadowCss),this.inform("render")},o})(r("sdk.Observable").Observable);function l(e,t,o){for(o===void 0&&(o=[]);e.firstChild;)e.removeChild(e.firstChild);if(typeof e.attachShadow=="function"){var a=document.createElement("div");e.appendChild(a);var i=a.attachShadow({mode:n("sdk.feature")("shadow_dom_plugin_mode","closed")});o.forEach(function(e){return r("sdk.DOM").addCssRules(n("JSSDKShadowCssConfig")[e],[e],i)}),i.appendChild(t(i))}else o.forEach(function(e){return r("sdk.DOM").addCssRules(n("JSSDKShadowCssConfig")[e],[e])}),e.appendChild(t(document))}i.DOMPlugin=e,i.maybeCreateShadowRootAndRenderInDOM=l},98),t.__d("getJSEnumSafe",[],function(e,t,n,r,o,a){"use strict";function e(e,t){return t==null||!Object.prototype.hasOwnProperty.call(e,t)?null:(t=t,e[t])}a.default=e},66),t.__d("nativeRequestAnimationFrame",[],function(e,t,n,r,o,a){t=e.__fbNativeRequestAnimationFrame||e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame,n=t,a.default=n},66),t.__d("requestAnimationFramePolyfill",["nativeRequestAnimationFrame","performanceNow"],function(e,t,n,r,o,a,i){var l=0;t=n("nativeRequestAnimationFrame")||function(t){var r=n("performanceNow")(),o=Math.max(0,16-(r-l));return l=r+o,e.setTimeout(function(){t(n("performanceNow")())},o)},r=t,i.default=r},98),t.__d("IdleCallbackImplementation",["performanceNow","requestAnimationFramePolyfill"],function(e,f,n,r,o,a,i){var t=[],l=0,s=0,u=-1,c=!1,d=1e3/60,m=2;function p(e){return e}function _(e){return e}function f(n,r){var o=s++;if(t[o]=n,h(),r!=null&&r.timeout>0){var a=o;e.setTimeout(function(){return R(a)},r.timeout)}return o}function g(e){e=e,t[e]=null}function h(){c||(c=!0,n("requestAnimationFramePolyfill")(function(e){c=!1,C(n("performanceNow")()-e)}))}function y(e){var t=d-m;return e<t?t-e:(e=e%d,e>t||e<m?0:t-e)}function C(e){var t=n("performanceNow")();t>u&&(e=y(e),e>0&&(t=t+e,S(t),u=t)),b()&&h()}function b(){return l<t.length}function v(){for(;b();){var e=t[l];if(l++,e)return e}return null}function S(e){for(var t;n("performanceNow")()<e&&(t=v());)t(new L(e))}function R(e){var n=e;n=t[n],n&&(g(e),n(new L(null)))}var L=(function(){function e(e){this.didTimeout=e==null,this.$1=e}var t=e.prototype;return t.timeRemaining=function(){var e=this.$1;if(e!=null){var t=n("performanceNow")();if(t<e)return e-t}return 0},e})();i.requestIdleCallback=f,i.cancelIdleCallback=g},98),t.__d("sdk.IdleCallback",["IdleCallbackImplementation","sdk.feature"],function(e,t,n,r,o,a,i){"use strict";e=(function(){function e(e,t,r){r===void 0&&(r=n("sdk.feature")("idle_callback_wait_time_ms",2e3)),this.$1=r,this.$3=t,this.$2=e}var t=e.prototype;return t.start=function(){var e=this;if(this.$1===0||isNaN(this.$1)||this.$2===0||isNaN(this.$2))return this.$3(),null;var t=Date.now(),n=this.isBrowserCompatible()?window.requestIdleCallback:r("IdleCallbackImplementation").requestIdleCallback,o=0,a=0,i=function r(i){if(o>e.$1){e.$3();return}var l=Date.now();if(l-t>e.$2){e.$3();return}l=i.timeRemaining(),o+=l>=49&&a>=49?l:0,a=l,n(r)};return n(i)},t.isBrowserCompatible=function(){return typeof window=="undefined"?!1:typeof window.requestIdleCallback=="function"},e})(),i.default=e},98),t.__d("uuid",[],function(t,n,r,o,a,i){"use strict";function t(){var t;return t=(t=e)==null||(t=t.crypto)==null?void 0:t.randomUUID,typeof t=="function"?e.crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;return e=e==="x"?t:t&3|8,e.toString(16)})}i.default=t},66),t.__d("sdk.XFBML.ChatDOM",["$InternalEnum","CORSRequest","ChatPluginEntryPointIconEnum","ChatPluginEntryPointLabelEnum","ChatPluginEntryPointSizeEnum","ChatPluginSDKPreLoggingUtils","ChatPluginStyleUtils","DOMPlugin","Log","UrlMap","getJSEnumSafe","performanceAbsoluteNow","sdk.Content","sdk.DOM","sdk.IdleCallback","sdk.XFBML.CustomerChatNew","sdk.fbt","sdk.feature","uuid"],function(e,t,n,r,o,a,i){"use strict";var l=t("$InternalEnum").Mirrored(["WAITING","LOADING","LOADED"]);e=(function(e){d.inheritsLoose(t,e);function t(t,o,a,i){var s;s=e.call(this,t,o,a,i,{allow_guests:"bool",attribution:"string",greeting_dialog_display:"string",greeting_dialog_delay:"string",logged_in_greeting:"string",logged_out_greeting:"string",minimized:"bool",page_id:"string",theme_color:"string",override:"string",attribution_version:"string",is_loaded_by_facade:"bool"})||this,o=n("performanceAbsoluteNow")(),a=n("uuid")();var u=window.location.href;return c("Object","assign",!1,s.params,{current_url:u,log_id:a,request_time:o,is_loaded_by_facade:!0,should_use_new_domain:i.should_use_new_domain}),r("ChatPluginSDKPreLoggingUtils").preLogging(!!i.should_use_new_domain,"chat_plugin_sdk_facade_create",s.params,!1),r("sdk.DOM").remove(t),r("sdk.Content").append(t),s.$ChatDOMFacade3=document.createElement("div"),s.$ChatDOMFacade1=l.WAITING,s.$ChatDOMFacade2=!1,s.$ChatDOMFacade6=!1,s.$ChatDOMFacade8="standard",s.$ChatDOMFacade9="none",s.$ChatDOMFacade10="none",s.$ChatDOMFacade11="left",s.$ChatDOMFacade12=0,s.$ChatDOMFacade13=0,s.$ChatDOMFacade14=!1,s.$ChatDOMFacade15=!!i.should_use_new_domain,s.shadowCss=["css:fb.shadow.css.chatdom"],s.$ChatDOMFacade4=n("performanceAbsoluteNow")(),r("Log").info("facadeperf: Started browser idle loader."),s.$ChatDOMFacade5=new(n("sdk.IdleCallback"))(n("sdk.feature")("chat_plugin_facade_timeout_ms",8e3),function(){var e=n("performanceAbsoluteNow")();r("Log").info("facadeperf: Idle callback starts full load in %sms.",e-s.$ChatDOMFacade4),s.$ChatDOMFacade16(!1,!1)}).start(),s}var o=t.prototype;return o.render=function(e){var t=this;return this.$ChatDOMFacade3.classList.add("container"),e=this.$ChatDOMFacade15?r("UrlMap").resolve("social_plugin")+"/customer_chat/facade/":r("UrlMap").resolve("www")+"/plugins/customer_chat/facade/",n("CORSRequest").execute(e,"get",this.params,function(e){var o,a=n("performanceAbsoluteNow")();r("Log").info("facadeperf: CORS request completed in %sms.",a-t.$ChatDOMFacade4),!e.error&&(t.$ChatDOMFacade11=e.alignment,t.$ChatDOMFacade12=e.bottom_spacing,t.$ChatDOMFacade13=e.side_spacing,a=e.theme_color,t.$ChatDOMFacade8=(o=n("getJSEnumSafe")(n("ChatPluginEntryPointSizeEnum"),(o=e.entry_point_size)==null?void 0:o.toUpperCase()))!=null?o:"standard",t.$ChatDOMFacade9=(o=n("ChatPluginEntryPointLabelEnum").cast(e.entry_point_label))!=null?o:"none",t.$ChatDOMFacade10=(o=n("ChatPluginEntryPointIconEnum").cast(e.entry_point_icon_enum))!=null?o:"none",t.$ChatDOMFacade14=e.away_hours_enabled&&!e.is_page_away,t.$ChatDOMFacade9==="none"?(o=document.createElement("div"),r("sdk.DOM").html(o,e.entry_point_icon_svg),o=o==null?void 0:o.outerHTML,r("sdk.DOM").html(t.$ChatDOMFacade3,o)):(o=e.entry_point_icon_svg,r("sdk.DOM").html(t.$ChatDOMFacade3,t.$ChatDOMFacade17(o))),o=r("ChatPluginStyleUtils").getEntryPointStyle(e.alignment,e.bottom_spacing,e.side_spacing,!1,!0,e.entry_point_label,t.$ChatDOMFacade8),c("Object","assign",!1,t.$ChatDOMFacade3.style,o),t.$ChatDOMFacade3.style.backgroundColor=a,t.$ChatDOMFacade14&&(o=r("ChatPluginStyleUtils").getAvailabilityStatusStyleText(e.alignment,e.bottom_spacing,e.side_spacing,e.entry_point_label,e.entry_point_icon_enum,t.$ChatDOMFacade8,!1,!0),a=document.createElement("div"),c("Object","assign",!1,a.style,o),t.$ChatDOMFacade3.append(a)),r("ChatPluginSDKPreLoggingUtils").preLogging(t.$ChatDOMFacade15,"chat_plugin_sdk_facade_load",t.params))}),this.$ChatDOMFacade3.addEventListener("click",function(e){t.$ChatDOMFacade16(!0,!0)}),this.$ChatDOMFacade3},o.$ChatDOMFacade18=function(e){switch(e){case"chat":return n("sdk.fbt")._("Chat");case"help":return n("sdk.fbt")._("Help");case"ask_us":return n("sdk.fbt")._("Ask us");case"none":return""}},o.$ChatDOMFacade19=function(){var e;(e=this.element.parentNode)==null||e.removeChild(this.element)},o.$ChatDOMFacade20=function(){if(!(this.$ChatDOMFacade2||this.$ChatDOMFacade1===l.LOADED)){if(this.$ChatDOMFacade9==="none"){var e=this.$ChatDOMFacade8==="compact"?24:36;e=this.$ChatDOMFacade21(e),r("sdk.DOM").html(this.$ChatDOMFacade3,'\n          <div class="centered-container">\n            '+e+"\n          </div>\n        ")}else if(e=this.$ChatDOMFacade8==="compact"?20:24,e=this.$ChatDOMFacade21(e),this.$ChatDOMFacade10==="none"){var t=this.$ChatDOMFacade8==="compact"?r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_COMPACT_ICON_MARGIN_RIGHT:r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_STANDARD_ICON_MARGIN_RIGHT;if(r("sdk.DOM").html(this.$ChatDOMFacade3.children[0],this.$ChatDOMFacade22(t,e)+this.$ChatDOMFacade3.children[0].innerHTML),this.$ChatDOMFacade14){t=r("ChatPluginStyleUtils").getAvailabilityStatusStyleText(this.$ChatDOMFacade11,this.$ChatDOMFacade12,this.$ChatDOMFacade13,this.$ChatDOMFacade9,"chat_round_icon",this.$ChatDOMFacade8,!1,!1);var n=document.createElement("div");c("Object","assign",!1,n.style,t),r("sdk.DOM").remove(this.$ChatDOMFacade3.children[1]),this.$ChatDOMFacade3.append(n)}}else r("sdk.DOM").html(this.$ChatDOMFacade3.children[0].children[0],e);this.$ChatDOMFacade2=!0}},o.$ChatDOMFacade17=function(e){var t=this.$ChatDOMFacade8==="compact"?r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_COMPACT_HEIGHT:r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_STANDARD_HEIGHT,n=this.$ChatDOMFacade8==="compact"?r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_COMPACT_FONT_SIZE:r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_STANDARD_FONT_SIZE,o=this.$ChatDOMFacade8==="compact"?r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_COMPACT_LINE_HEIGHT:r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_STANDARD_LINE_HEIGHT,a=this.$ChatDOMFacade8==="compact"?r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_COMPACT_ICON_MARGIN_RIGHT:r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_STANDARD_ICON_MARGIN_RIGHT,i=this.$ChatDOMFacade8==="compact"?r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_COMPACT_PADDING_HORIZONTAL:r("ChatPluginStyleUtils").LABELED_ENTRY_POINT_STANDARD_PADDING_HORIZONTAL;return'\n      <div class="label-container" style="\n        height: '+t+"px;\n        padding: 0 "+i+'px\n      ">\n        '+(e&&'\n            <div class="label-container-icon" style="\n              margin-right: '+a+'px;\n            ">\n              '+e+"\n            </div>\n          ")+'\n        <div\n          class="label-container-label"\n          style="\n            font-size: '+n+"px;\n            line-height: "+o+'px;\n        ">'+this.$ChatDOMFacade18(this.$ChatDOMFacade9).toString()+"</div>\n      </div>\n    "},o.$ChatDOMFacade22=function(e,t){return'\n      <div class="label-container-icon" style="\n        margin-right: '+e+'px;\n      ">\n        '+t+"\n      </div>\n    "},o.$ChatDOMFacade21=function(e){return'\n      <svg class="spinning" x="0" y="0" width="'+e+'" height="'+e+'" viewbox="0 0 60 60">\n        <circle class="path" cx="30" cy="30" r="24" fill="none" stroke-width="6"></circle>\n      </svg>\n    '},o.$ChatDOMFacade23=function(e){if(e&&this.$ChatDOMFacade7&&!this.$ChatDOMFacade6){this.$ChatDOMFacade6=!0;var t=this.$ChatDOMFacade7;t.subscribe("iframes_loaded",function(e){t.showDialog()})}},o.$ChatDOMFacade16=function(e,t){var o=this;t&&this.$ChatDOMFacade20(),this.$ChatDOMFacade23(e),this.$ChatDOMFacade1===l.WAITING&&(this.$ChatDOMFacade1=l.LOADING,t=document.createElement("div"),r("sdk.Content").append(t,this.element),t=new(n("sdk.XFBML.CustomerChatNew"))(t,"fb","customerchat",this.params),this.$ChatDOMFacade7=t,t.subscribe("xd.mpn.setupIconIframe",function(e){o.$ChatDOMFacade1=l.LOADED,o.$ChatDOMFacade19()}),this.$ChatDOMFacade23(e),t.process())},t})(r("DOMPlugin").DOMPlugin),i.default=e},98),t.__d("IframePluginClass",["Log","QueryString","UrlMap","guid","sdk.Auth.LoginStatus","sdk.AuthUtils","sdk.DOM","sdk.Event","sdk.Observable","sdk.PlatformVersioning","sdk.PluginUtils","sdk.Runtime","sdk.UA","sdk.URI","sdk.XD","sdk.createIframe"],function(e,t,n,r,o,a,i){e=(function(e){d.inheritsLoose(t,e);function t(t,o,a,i,l){var s;l===void 0&&(l=null),s=e.call(this)||this,a=a.replace(/-/g,"_"),s.$IframePluginClass2=!1,s.config=l!=null?l:{fluid:!1,mobile_fullsize:!1,full_width:!1};var u=r("sdk.PluginUtils").getVal(i,"plugin_id");s.subscribe("xd.resize",r("sdk.PluginUtils").resizeBubbler(u)),s.subscribe("xd.resize.flow",r("sdk.PluginUtils").resizeBubbler(u)),s.subscribe("xd.resize.flow",function(e){c("Object","assign",!1,s.iframeOptions.root.style,{verticalAlign:"bottom",overflow:""}),r("sdk.PluginUtils").resize(s.iframeOptions.root,r("sdk.PluginUtils").parse(e.width),r("sdk.PluginUtils").parse(e.height)),s.updateLift(),window.clearTimeout(s.$IframePluginClass1)}),s.subscribe("xd.resize",function(e){c("Object","assign",!1,s.iframeOptions.root.style,{verticalAlign:"bottom",overflow:""}),r("sdk.PluginUtils").resize(s.iframeOptions.root,r("sdk.PluginUtils").parse(e.width),r("sdk.PluginUtils").parse(e.height)),r("sdk.PluginUtils").resize(s.iframe,r("sdk.PluginUtils").parse(e.width),r("sdk.PluginUtils").parse(e.height)),s.$IframePluginClass2=!0,s.updateLift(),window.clearTimeout(s.$IframePluginClass1)}),s.subscribe("xd.resize.iframe",function(e){r("sdk.PluginUtils").resize(s.iframe,r("sdk.PluginUtils").parse(e.width),r("sdk.PluginUtils").parse(e.height)),s.$IframePluginClass2=!0,s.updateLift(),window.clearTimeout(s.$IframePluginClass1)}),s.subscribe("xd.sdk_event",function(e){var n=c("JSON","parse",!1,e.data);n.pluginID=u,r("sdk.Event").fire(e.event,n,t)}),l=i.should_use_new_domain?r("UrlMap").resolve("social_plugin")+"/"+a+".php?":r("UrlMap").resolve("www")+"/plugins/"+a+".php?";var m={};r("sdk.PluginUtils").validate(s.getParams(),t,i,m),r("sdk.PluginUtils").validate(r("sdk.PluginUtils").baseParams,t,i,m),c("Object","assign",!1,m,{app_id:n("sdk.Runtime").getClientID(),locale:n("sdk.Runtime").getLocale(),sdk:"joey",kid_directed_site:n("sdk.Runtime").getKidDirectedSite(),channel:r("sdk.XD").handler(function(e){e!=null&&s.inform("xd."+e.type,e)},"parent.parent",!0)}),s.shouldIgnoreWidth()&&(m.width=void 0),m.container_width=t.offsetWidth,r("sdk.DOM").addCss(t,"fb_iframe_widget");var p=n("guid")();return s.subscribe("xd.verify",function(e){r("sdk.XD").sendToFacebook(p,{method:"xd/verify",params:c("JSON","stringify",!1,e.token)})}),s.subscribe("xd.refreshLoginStatus",function(){r("sdk.AuthUtils").removeLogoutState(),n("sdk.Auth.LoginStatus").getLoginStatus(c(s.inform,"bind",!0,d.assertThisInitialized(s),"login.status"),!0)}),i=document.createElement("span"),c("Object","assign",!1,i.style,{verticalAlign:"top",width:m.lazy?"1px":"0px",height:m.lazy?"1px":"0px",overflow:"hidden"}),s.element=t,s.ns=o,s.tag=a,s.params=m,s.iframeOptions={root:i,url:l+n("QueryString").encode(m),name:p,width:s.config.mobile_fullsize&&n("sdk.UA").mobile()?void 0:m.width||1e3,height:m.height||1e3,style:{border:"none",visibility:"hidden"},title:s.ns+":"+s.tag+" Facebook Social Plugin",testid:s.ns+":"+s.tag+" Facebook Social Plugin",onload:function(){return s.inform("render")},onerror:function(){return r("sdk.PluginUtils").collapseIframe(s.iframe)},lazy:m.lazy},s.config.fluid&&m.width!=="auto"&&(r("sdk.DOM").addCss(s.element,"fbiframe_widget_fluid_desktop"),!m.width&&s.config.full_width&&(s.element.style.width="100%",s.iframeOptions.root.style.width="100%",s.iframeOptions.style.width="100%",s.params.container_width=s.element.offsetWidth,s.iframeOptions.url=l+n("QueryString").encode(s.params))),s}var o=t.prototype;return o.shouldIgnoreWidth=function(){return n("sdk.UA").mobile()&&this.config.mobile_fullsize},o.useInlineHeightForMobile=function(){return!0},o.process=function(){var e=this;if(n("sdk.Runtime").getIsVersioned()){r("sdk.PlatformVersioning").assertVersionIsSet();var t=new(n("sdk.URI"))(this.iframeOptions.url);this.iframeOptions.url=t.setPath("/"+n("sdk.Runtime").getVersion()+t.getPath()).toString()}t=d.extends({},this.params),delete t.channel;var o=n("QueryString").encode(t);if(this.element.getAttribute("fb-iframe-plugin-query")==o){r("Log").info("Skipping render: %s:%s %s",this.ns,this.tag,o),this.inform("render");return}for(this.element.setAttribute("fb-iframe-plugin-query",o),this.subscribe("render",function(){r("sdk.Event").fire("iframeplugin:onload"),e.iframe.style.visibility="visible",e.$IframePluginClass2||r("sdk.PluginUtils").collapseIframe(e.iframe)});this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(this.iframeOptions.root);var a=n("sdk.UA").mobile()?120:45;this.$IframePluginClass1=window.setTimeout(function(){r("sdk.PluginUtils").collapseIframe(e.iframe),r("Log").warn("%s:%s failed to resize in %ss",e.ns,e.tag,a)},a*1e3),this.iframe=n("sdk.createIframe")(this.iframeOptions),r("sdk.Event").fire("iframeplugin:create"),(n("sdk.UA").mobile()||t.width==="auto")&&(this.useInlineHeightForMobile()&&r("sdk.DOM").addCss(this.element,"fbiframe_widget_fluid"),this.iframeOptions.width||(c("Object","assign",!1,this.element.style,{display:"block",width:"100%",height:"auto"}),c("Object","assign",!1,this.iframeOptions.root.style,{width:"100%",height:"auto"}),o={height:"auto",position:"static",width:"100%"},(n("sdk.UA").iphone()||n("sdk.UA").ipad())&&c("Object","assign",!1,o,{width:"220px",minWidth:"100%"}),c("Object","assign",!1,this.iframe.style,o)))},o.getParams=function(){return this.params},o.updateLift=function(){var e=this.iframe.style.width===this.iframeOptions.root.style.width&&this.iframe.style.height===this.iframeOptions.root.style.height;(e?r("sdk.DOM").removeCss:r("sdk.DOM").addCss)(this.iframe,"fbiframe_widget_lift")},t})(r("sdk.Observable").Observable),i.default=e},98),t.__d("MPNExplicitUserInteractions",[],function(i,t,n,r,o,a){"use strict";var e=36e5;function i(t){return t==null?!1:Date.now()<=t+e}a.hasUserInteraction=i},66),t.__d("MPNLocalState",[],function(e,t,n,r,o,a){"use strict";e={LANDING_BANNER:1,WELCOME_PAGE:2,ITP_CONTINUE:3,THREAD_VIEW:4,BUBBLE:5,REENGAGEMENT_COLLAPSED_VIEW:6,REENGAGEMENT_EXPANDED_VIEW:7},t={CHAT_NOT_STARTED:1,LOGGED_IN_CHAT_STARTED:2,GUEST_CHAT_STARTED:3},n="__fb_chat_plugin",a.MPNLocalStatePath=e,a.MPNChatState=t,a.LOCAL_STATE_KEY=n},66),t.__d("getFacebookOriginForTarget",["Log"],function(e,t,n,r,o,a,i){function e(e,t){t===void 0&&(t=top);var n=0,o=!1,a=200;window.addEventListener("message",function(n){n.source===t&&n.data.xdArbiterAck&&(/\.facebook\.(com|net)$/.test(n.origin)&&/^https:/.test(n.origin)?o===!1&&(o=!0,r("Log").debug("initXdArbiter got xdArbiterAck from "+n.origin),e(n.origin)):r("Log").error("xdAbiterAck was not from Facebook: ",n.origin))},!1),t.postMessage({xdArbiterSyn:!0},"*"),n=window.setInterval(function(){!o&&a>0?(a--,r("Log").debug("resending xdArbiterSyn"),t.postMessage({xdArbiterSyn:!0},"*")):window.clearInterval(n)},200)}i.default=e},98),t.__d("MPNSingletonProvider",[],function(e,t,n,r,o,a){"use strict";e=(function(){function e(e){this.$1=null,this.$2=e}var t=e.prototype;return t.get=function(){return this.$1==null&&(this.$1=this.$2()),this.$1},t.clear=function(){this.$1=null},e})(),a.default=e},66),t.__d("sdk.DocumentTitle",[],function(m,_,n,r,o,a){var e=document.title,t=null,i=1500,l=null,s=!1;function u(){t!==null?s?d():c(t):(clearInterval(l),l=null,d())}function c(e){document.title=e,s=!0}function d(){p(e),s=!1}function m(){return e}function p(e){document.title=e}function _(e){return t=e,l===null&&(l=setInterval(u,i)),{stop:function(){t=null}}}a.get=m,a.set=p,a.blink=_},66),t.__d("sdk.cp.Constants",["MPNLocalState","UrlMap","sdk.Runtime"],function(e,t,n,r,o,a,i){"use strict";e=n("sdk.Runtime").getIsVersioned()?r("UrlMap").resolve("www")+"/"+n("sdk.Runtime").getVersion()+"/plugins/customer_chat/bubble":r("UrlMap").resolve("www")+"/plugins/customer_chat/bubble",t=n("sdk.Runtime").getIsVersioned()?r("UrlMap").resolve("social_plugin")+"/"+n("sdk.Runtime").getVersion()+"/customer_chat/bubble":r("UrlMap").resolve("social_plugin")+"/customer_chat/bubble",o={attribute:{alignment:"alignment",mobilePath:"mobile_path",desktopBottomSpacing:"desktop_bottom_spacing"},path:{landingPage:"/",welcomePage:"/welcome",bubble:"/bubble",itp:"/itpcontinue"},localStateKey:r("MPNLocalState").LOCAL_STATE_KEY,animationEvents:["animationend","mozAnimationEnd","MSAnimationEnd","oAnimationEnd","webkitAnimationEnd"],blankFrameURL:e,blankFrameNewDomainURL:t},i.default=o},98),t.__d("sdk.cp.Actions",["DOMEventListener","MPNExplicitUserInteractions","MPNLocalState","MPNSingletonProvider","sdk.DOM","sdk.DocumentTitle","sdk.URI","sdk.WebStorage","sdk.cp.Constants"],function(e,t,n,r,o,a,i){"use strict";var l=(function(){function e(){}var t=e.prototype;return t.reloadIframe=function(e,t){var o;if(e!=null){var a=new(n("sdk.URI"))(e.src),i=a.getQueryData();i.local_state=(o=r("sdk.WebStorage").getLocalStorage())==null?void 0:o.getItem(n("sdk.cp.Constants").localStateKey),i.request_time=Date.now(),(t==="true"||this.getExplicitUserInteractionFlag())&&(i.has_explicit_interaction="1"),i.is_implicit_reload="1",a.setQueryData(i),e.src=a.valueOf()}},t.getExplicitUserInteractionFlag=function(){var e=r("sdk.WebStorage").getLocalStorage(),t=null;if(e!=null)try{t=e.getItem(r("MPNLocalState").LOCAL_STATE_KEY)}catch(e){return!1}if(t!=null)try{return e=c("JSON","parse",!1,t),r("MPNExplicitUserInteractions").hasUserInteraction(e==null?void 0:e.euit)}catch(e){return!1}return!1},t.setDialogAppearance=function(e,t){if(e!=null){var n=t.height,o=t.boxShadow,a=t.margin,i=t.width;t=t.bottom,o!=null&&r("sdk.DOM").setStyle(e,"boxShadow",o),a!=null&&r("sdk.DOM").setStyle(e,"margin",a),n!=null&&r("sdk.DOM").setStyle(e,"height",n),i!=null&&r("sdk.DOM").setStyle(e,"width",i),t!=null&&r("sdk.DOM").setStyle(e,"bottom",t)}},t.blinkPageTitle=function(e){var t=this;e!=null?(this.$2(),this.$1=r("sdk.DocumentTitle").blink(e),n("DOMEventListener").add(window,"focus",function(e){t.$2()})):this.$1&&e==null&&this.$2()},t.$2=function(){this.$1!=null&&(this.$1.stop(),this.$1=null)},e})();e=new(n("MPNSingletonProvider"))(function(){return new l}),t=e.get(),i.default=t},98),t.__d("sdk.cp.Animation",["sdk.DOM","sdk.UA","sdk.cp.Constants"],function(e,t,n,r,o,a,i){"use strict";function e(e){if(e){var t=r("sdk.DOM").getAttr(e,n("sdk.cp.Constants").attribute.alignment);e=r("sdk.DOM").getAttr(e,n("sdk.cp.Constants").attribute.mobilePath);var o=n("sdk.UA").mobile(),a;if(o)switch(e){case n("sdk.cp.Constants").path.landingPage:return"fb_mpn_mobile_landing_page_slide_up";case n("sdk.cp.Constants").path.welcomePage:case n("sdk.cp.Constants").path.bubble:case n("sdk.cp.Constants").path.itp:return null;default:return"fb_mpn_mobile_bounce_in"}else switch(t){case"left":a="fb_customer_chat_bounce_in_from_left";break;case"right":default:a="fb_customer_chat_bounce_in_v2"}return a}}function t(e){if(e){var t=r("sdk.DOM").getAttr(e,n("sdk.cp.Constants").attribute.alignment);e=r("sdk.DOM").getAttr(e,n("sdk.cp.Constants").attribute.mobilePath);var o=n("sdk.UA").mobile(),a;if(o)switch(e){case n("sdk.cp.Constants").path.landingPage:return t==="left"?"fb_mpn_mobile_landing_page_slide_out_from_left":"fb_mpn_mobile_landing_page_slide_out";case n("sdk.cp.Constants").path.bubble:return"fb_mpn_mobile_bounce_out_v2";default:return"fb_mpn_mobile_bounce_out"}else switch(t){case"left":a="fb_customer_chat_bounce_out_from_left";break;case"right":default:a="fb_customer_chat_bounce_out_v2"}return a}}i.iframeBounceInAnimation=e,i.iframeBounceOutAnimation=t},98),t.__d("sdk.cp.Storage",["MPNSingletonProvider","sdk.WebStorage","sdk.cp.Constants"],function(e,t,n,r,o,a,i){"use strict";var l=(function(){function e(){}var t=e.prototype;return t.setState=function(e){var t=r("sdk.WebStorage").getLocalStorageForRead();if(t)try{if(e==null)t.removeItem(n("sdk.cp.Constants").localStateKey);else{var o=t.getItem(n("sdk.cp.Constants").localStateKey);o==null?t.setItem(n("sdk.cp.Constants").localStateKey,c("JSON","stringify",!1,c("JSON","parse",!1,e))):(o=c("JSON","parse",!1,o),e=c("JSON","parse",!1,e),t.setItem(n("sdk.cp.Constants").localStateKey,c("JSON","stringify",!1,d.extends({},o,e))))}}catch(e){return}},t.getStateJSON=function(){var e=r("sdk.WebStorage").getLocalStorageForRead();return e?(e=e.getItem(n("sdk.cp.Constants").localStateKey),e==null?"{}":c("JSON","stringify",!1,c("JSON","parse",!1,e))):"{}"},e})();e=new(n("MPNSingletonProvider"))(function(){return new l}),t=e.get(),i.default=t},98),t.__d("sdk.XFBML.CustomerChatNew",["ChatPluginSDKPreLoggingUtils","DOMEventListener","IframePluginClass","Log","MPNExplicitUserInteractions","MPNLocalState","QueryString","UrlMap","getFacebookOriginForTarget","performanceAbsoluteNow","sdk.Content","sdk.DOM","sdk.DialogUtils","sdk.Event","sdk.UA","sdk.WebStorage","sdk.XD","sdk.XFBML.CustomerChatWrapper","sdk.cp.Actions","sdk.cp.Animation","sdk.cp.Constants","sdk.cp.Storage","sdk.createIframe"],function(e,t,n,r,o,a,i){"use strict";e=(function(e){d.inheritsLoose(t,e);function t(t,n,o,a){var i;return i=e.call(this,t,n,o,a)||this,i.$CustomerChat1=null,i.$CustomerChat2=null,i.$CustomerChat3=null,i.$CustomerChat4=null,i.$CustomerChat5=null,i.$CustomerChat6=null,i.$CustomerChat7=null,i.$CustomerChat8=null,i.$CustomerChat9=null,i.$CustomerChat10=null,i.$CustomerChat11=null,i.$CustomerChat12=!1,i.$CustomerChat13=null,i.$CustomerChat14=!1,i.$CustomerChat15=!1,i.show=function(e){e===void 0&&(e=!0),i.$CustomerChat15=!1,i.$CustomerChat1!=null&&r("sdk.DOM").setStyle(i.$CustomerChat1,"display","inline"),e&&i.$CustomerChat30(i.$CustomerChat4),r("sdk.Event").fire("customerchat.show"),i.$CustomerChat34("show")},i.hide=function(){i.$CustomerChat15=!0,i.$CustomerChat1!=null&&r("sdk.DOM").setStyle(i.$CustomerChat1,"display","none"),i.$CustomerChat29(i.$CustomerChat4),r("sdk.Event").fire("customerchat.hide"),i.$CustomerChat34("hide")},i.showDialog=function(){i.$CustomerChat1!=null&&r("sdk.DOM").setStyle(i.$CustomerChat1,"display","inline"),i.$CustomerChat30(i.$CustomerChat4),i.$CustomerChat34("showDialog")},i.hideDialog=function(){i.$CustomerChat29(i.$CustomerChat4),i.$CustomerChat34("hideDialog")},i.update=function(e){var t;r("sdk.XD").sendToFacebook((t=i.$CustomerChat5)!=null?t:"",{method:"updateCustomerChat",params:c("JSON","stringify",!1,e||{})}),i.$CustomerChat34("update")},r("sdk.DOM").addCss(t,"fb_invisible_flow"),r("sdk.DOM").remove(t),r("sdk.Content").append(t),i.$CustomerChat16=!!a.should_use_new_domain,i.$CustomerChat17(),r("sdk.Event").fire("customerchat.load"),i.$CustomerChat18(),r("ChatPluginSDKPreLoggingUtils").preLogging(i.$CustomerChat16,"chat_plugin_sdk_dialog_iframe_create",i.params,!1),i}var o=t.prototype;return o.$CustomerChat17=function(){var e=r("sdk.WebStorage").getLocalStorage(),t=null;if(e!=null)try{t=e.getItem(r("MPNLocalState").LOCAL_STATE_KEY)}catch(e){r("Log").warn("Failed to access localStorage")}if(t!=null&&c("Object","assign",!1,this.params,{local_state:t}),t!=null)try{e=c("JSON","parse",!1,t),r("MPNExplicitUserInteractions").hasUserInteraction(e==null?void 0:e.euit)&&c("Object","assign",!1,this.params,{has_explicit_interaction:1})}catch(e){r("Log").warn("Invalid local state")}t=n("performanceAbsoluteNow")(),c("Object","assign",!1,this.params,{request_time:t}),e=this.$CustomerChat16?r("UrlMap").resolve("social_plugin")+"/"+this.tag+".php?":r("UrlMap").resolve("www")+"/plugins/"+this.tag+".php?",this.iframeOptions.url=e+n("QueryString").encode(this.params),this.iframeOptions.title=""},o.$CustomerChat18=function(){var e=this;this.subscribe("render",function(){r("ChatPluginSDKPreLoggingUtils").preLogging(e.$CustomerChat16,"chat_plugin_sdk_dialog_iframe_load",e.params)}),this.subscribe("xd.mpn.storeState",function(e){n("sdk.cp.Storage").setState(e.state)}),this.subscribe("xd.mpn.getState",function(t){t=n("sdk.cp.Storage").getStateJSON(),t={name:"mpnDidFetchState",params:t},e.$CustomerChat19(t),e.$CustomerChat20(t)}),this.subscribe("xd.mpn.setupIconIframe",function(t){e.$CustomerChat21(t)}),this.subscribe("xd.mpn.setupDialogIframe",function(t){e.$CustomerChat22(t)}),this.subscribe("xd.mpn.toggleDialogVisibility",function(t){e.$CustomerChat23(t)}),this.subscribe("xd.mpn.toggleGreetingDialogVisibility",function(t){e.$CustomerChat24(t)}),this.subscribe("xd.mpn.updateGreetingAppearance",function(t){n("sdk.cp.Actions").setDialogAppearance(e.$CustomerChat10,t)}),this.subscribe("xd.mpn.updateDialogAppearance",function(t){n("sdk.cp.Actions").setDialogAppearance(e.iframe,t)}),this.subscribe("xd.mpn.updateIconAppearance",function(t){n("sdk.cp.Actions").setDialogAppearance(e.$CustomerChat3,t)}),this.subscribe("xd.mpn.reload",function(t){n("sdk.cp.Actions").reloadIframe(e.iframe,t.hasExplicitInteraction)}),this.subscribe("xd.mpn.updatePageTitle",function(e){n("sdk.cp.Actions").blinkPageTitle(e.title)}),this.subscribe("xd.mpn.navigateToWelcomePage",function(t){e.$CustomerChat25(t.isHidden)}),r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEvent.subscribe(r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEventType.SHOW,this.show),r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEvent.subscribe(r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEventType.HIDE,this.hide),r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEvent.subscribe(r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEventType.SHOW_DIALOG,this.showDialog),r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEvent.subscribe(r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEventType.HIDE_DIALOG,this.hideDialog),r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEvent.subscribe(r("sdk.XFBML.CustomerChatWrapper").CustomerChatInternalEventType.UPDATE,this.update)},o.$CustomerChat21=function(e){var t=this;this.$CustomerChat1&&r("sdk.DOM").remove(this.$CustomerChat1);var o=e.frameName,a=e.iconSVG,i=r("sdk.DialogUtils").setupNewDialog(),l=c("JSON","parse",!1,e.cssText),s=document.createElement("div");a!=null&&(r("sdk.DOM").html(s,a),c("Object","assign",!1,s.style,l),s.style.boxShadow="none",r("sdk.Content").append(s,i.contentRoot));var u="blank_"+o;this.$CustomerChat1=i.dialogElement,this.$CustomerChat3=n("sdk.createIframe")({url:this.$CustomerChat16?n("sdk.cp.Constants").blankFrameNewDomainURL:n("sdk.cp.Constants").blankFrameURL,name:u,root:i.contentRoot,tabindex:-1,width:60,style:l,"data-testid":"bubble_iframe",onload:function(){r("ChatPluginSDKPreLoggingUtils").preLogging(t.$CustomerChat16,"chat_plugin_sdk_icon_iframe_load",t.params),t.$CustomerChat2=u,t.$CustomerChat26(),t.$CustomerChat27(),window.setTimeout(function(){r("sdk.DOM").remove(s)},100)}}),this.$CustomerChat1&&this.$CustomerChat1.setAttribute(n("sdk.cp.Constants").attribute.alignment,e.alignment),this.$CustomerChat1&&r("sdk.Content").append(this.$CustomerChat1);var d="availabilityStatus_"+o;this.$CustomerChat8=n("sdk.createIframe")({url:this.$CustomerChat16?n("sdk.cp.Constants").blankFrameNewDomainURL:n("sdk.cp.Constants").blankFrameURL,name:d,root:i.contentRoot,tabindex:-1,style:c("JSON","parse",!1,e.availabilityStatusCssText),"data-testid":"availabilityStatus_iframe",onload:function(){t.$CustomerChat9=d,t.$CustomerChat26(),t.$CustomerChat27()}}),r("sdk.Content").append(this.$CustomerChat8,i.contentRoot);var m="unread_"+o;if(this.$CustomerChat6=n("sdk.createIframe")({url:this.$CustomerChat16?n("sdk.cp.Constants").blankFrameNewDomainURL:n("sdk.cp.Constants").blankFrameURL,name:m,root:i.contentRoot,tabindex:-1,style:c("JSON","parse",!1,e.unreadCountCssText),"data-testid":"unread_iframe",onload:function(){t.$CustomerChat7=m,t.$CustomerChat26(),t.$CustomerChat27()}}),r("sdk.Content").append(this.$CustomerChat6,i.contentRoot),a=n("sdk.UA").mobile(),!a){var p="greeting_"+o;this.$CustomerChat10=n("sdk.createIframe")({url:this.$CustomerChat16?n("sdk.cp.Constants").blankFrameNewDomainURL:n("sdk.cp.Constants").blankFrameURL,name:p,root:i.contentRoot,tabindex:-1,style:c("JSON","parse",!1,e.greetingCssText),"data-testid":"greeting_iframe",onload:function(){t.$CustomerChat11=p,t.$CustomerChat26(),t.$CustomerChat27()}}),r("sdk.Content").append(this.$CustomerChat10,i.contentRoot)}},o.$CustomerChat27=function(){this.$CustomerChat2!==null&&this.$CustomerChat7!==null&&this.$CustomerChat9!==null&&this.$CustomerChat5!==null&&this.$CustomerChat11!==null&&!this.$CustomerChat12&&(this.$CustomerChat12=!0,this.inform("iframes_loaded"))},o.$CustomerChat26=function(){var e;this.$CustomerChat19({name:"bubbleFrameLoaded",frameName:this.$CustomerChat2,unreadCountFrameName:this.$CustomerChat7,availabilityStatusIframeName:this.$CustomerChat9,greetingIframeName:this.$CustomerChat11,iconSrc:(e=this.$CustomerChat3)==null?void 0:e.src,unreadSrc:(e=this.$CustomerChat6)==null?void 0:e.src,request_time:this.params.request_time,log_id:this.params.log_id})},o.$CustomerChat25=function(e){this.$CustomerChat19({name:"navigateToWelcomePage",isHidden:e})},o.$CustomerChat22=function(e){var t=e.cssText,o=e.mobilePath,a=e.isDialogHidden;e=e.desktopBottomSpacing,this.$CustomerChat1&&(o&&this.$CustomerChat1.setAttribute(n("sdk.cp.Constants").attribute.mobilePath,o),e&&this.$CustomerChat1.setAttribute(n("sdk.cp.Constants").attribute.desktopBottomSpacing,e.toString())),this.$CustomerChat14=a==="true",this.iframe&&(this.iframe.setAttribute("data-testid","dialog_iframe"),this.iframe.style.cssText=t),this.$CustomerChat4=this.iframe,this.$CustomerChat5=this.iframe.name,this.$CustomerChat27(),e=n("sdk.UA").mobile(),e&&!this.$CustomerChat14&&(o==n("sdk.cp.Constants").path.landingPage&&(a=r("sdk.cp.Animation").iframeBounceInAnimation(this.$CustomerChat1),a!=null&&r("sdk.DOM").addCss(this.$CustomerChat4,a)),o!=n("sdk.cp.Constants").path.landingPage&&o!=n("sdk.cp.Constants").path.bubble&&this.$CustomerChat28()),this.$CustomerChat15&&this.hide()},o.$CustomerChat23=function(e){e=e.shouldHide,e==="true"?this.$CustomerChat29(this.iframe):this.$CustomerChat30(this.iframe)},o.$CustomerChat24=function(e){e=e.shouldHide,e==="true"?this.$CustomerChat31(this.$CustomerChat10):this.$CustomerChat32(this.$CustomerChat10)},o.getParams=function(){return{allow_guests:"bool",attribution:"string",greeting_dialog_display:"string",greeting_dialog_delay:"string",logged_in_greeting:"string",logged_out_greeting:"string",minimized:"bool",page_id:"string",theme_color:"string",override:"string",attribution_version:"string",is_loaded_by_facade:"bool",current_url:"string",log_id:"string",request_time:"px"}},o.$CustomerChat33=function(e,t){var r=this,o=window.frames[e],a=function(n){o==null||o.postMessage(d.extends({},t),n)};this.$CustomerChat13===null?n("getFacebookOriginForTarget")(function(e){r.$CustomerChat13=e,a(r.$CustomerChat13)},o):a(this.$CustomerChat13)},o.$CustomerChat20=function(e){var t;this.$CustomerChat33((t=this.$CustomerChat2)!=null?t:"",e)},o.$CustomerChat19=function(e){var t;this.$CustomerChat33((t=this.$CustomerChat5)!=null?t:"",e)},o.$CustomerChat34=function(e){this.$CustomerChat19({name:"CustomerChat.SDK.Called",event:e})},o.$CustomerChat28=function(){var e="fb_new_ui_mobile_overlay_active";r("sdk.DOM").addCss(document.body,e)},o.$CustomerChat30=function(e){if(e&&this.$CustomerChat14){this.$CustomerChat14=!1;var t=r("sdk.cp.Animation").iframeBounceInAnimation(this.$CustomerChat1),o=r("sdk.cp.Animation").iframeBounceOutAnimation(this.$CustomerChat1);o!=null&&r("sdk.DOM").removeCss(e,o),t!=null&&r("sdk.DOM").addCss(e,t),n("sdk.UA").mobile()?(r("sdk.DOM").setStyle(e,"maxHeight","100%"),r("sdk.DOM").setStyle(e,"height","100%"),r("sdk.DOM").setStyle(e,"width","100%")):(o=this.$CustomerChat1&&r("sdk.DOM").getAttr(this.$CustomerChat1,n("sdk.cp.Constants").attribute.desktopBottomSpacing),t=o==null?"80":Number(o)+60,r("sdk.DOM").setStyle(e,"maxHeight","calc(100% - "+t+"px)"),r("sdk.DOM").setStyle(e,"minHeight","300px")),this.$CustomerChat19({name:"CustomerChat.isDialogHidden",params:{is_dialog_hidden:!1}}),this.$CustomerChat20({name:"CustomerChat.isDialogHidden",params:{is_dialog_hidden:!1}}),r("sdk.Event").fire("customerchat.dialogShow")}},o.$CustomerChat29=function(e){var t=this;if(e){if(!this.$CustomerChat14){this.$CustomerChat14=!0;var o=r("sdk.cp.Animation").iframeBounceInAnimation(this.$CustomerChat1),a=r("sdk.cp.Animation").iframeBounceOutAnimation(this.$CustomerChat1);o!=null&&r("sdk.DOM").removeCss(e,o),a!=null&&r("sdk.DOM").addCss(e,a);var i={};n("sdk.cp.Constants").animationEvents.forEach(function(o){var a=function(a){t.$CustomerChat14&&(r("sdk.DOM").setStyle(e,"maxHeight","0"),r("sdk.DOM").setStyle(e,"minHeight","0"),n("sdk.cp.Constants").animationEvents.forEach(function(t){i[t]&&(r("DOMEventListener").remove(e,t,i[t]),delete i[t])}))};i[o]=a,r("DOMEventListener").add(e,o,a)}),this.$CustomerChat19({name:"CustomerChat.isDialogHidden",params:{is_dialog_hidden:!0}}),this.$CustomerChat20({name:"CustomerChat.isDialogHidden",params:{is_dialog_hidden:!0}})}r("sdk.Event").fire("customerchat.dialogHide")}},o.$CustomerChat31=function(e){e&&(r("sdk.DOM").setStyle(e,"maxHeight","0"),r("sdk.DOM").setStyle(e,"minHeight","0"))},o.$CustomerChat32=function(e){e&&r("sdk.DOM").setStyle(e,"maxHeight","calc(100% - 80px)")},t})(n("IframePluginClass")),i.default=e},98),t.__d("sdk.XFBML.CustomerChatWrapper",["$InternalEnum","CORSRequest","UrlMap","sdk.Observable","sdk.XFBML.ChatDOM"],function(e,t,n,r,o,a,i){e=t("$InternalEnum")({SHOW:"SHOW",HIDE:"HIDE",SHOW_DIALOG:"SHOW_DIALOG",HIDE_DIALOG:"HIDE_DIALOG",UPDATE:"UDPATE"}),o=new(r("sdk.Observable")).Observable,a=function(t,n,r,o){return new l(t,n,r,o)};var l=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){var a;return a=e.call(this)||this,a.$CustomerChatWrapper2=t,a.$CustomerChatWrapper3=n,a.$CustomerChatWrapper4=r,a.$CustomerChatWrapper5=o,a}var o=t.prototype;return o.process=function(){var e=this,t=r("UrlMap").resolve("social_plugin")+"/new_domain_gating/";n("CORSRequest").execute(t,"get",{page_id:this.$CustomerChatWrapper5.page_id,endpoint:this.$CustomerChatWrapper4},function(t){e.$CustomerChatWrapper5.should_use_new_domain=t.should_use_new_domain,e.$CustomerChatWrapper1=new(n("sdk.XFBML.ChatDOM"))(e.$CustomerChatWrapper2,e.$CustomerChatWrapper3,e.$CustomerChatWrapper4,e.$CustomerChatWrapper5),e.$CustomerChatWrapper1.subscribe("render",function(){e.inform("render")}),e.$CustomerChatWrapper1.process()})},t})(r("sdk.Observable").Observable);i.CustomerChatInternalEventType=e,i.CustomerChatInternalEvent=o,i.CustomerChatWrapperPlugin=a},98),t.__d("sdk.XFBML.LWIAdsCreation",["IframePlugin","sdk.createIframe"],function(e,t,n,r,o,a,i){"use strict";e=n("IframePlugin").extend({constructor:function(t,n,r,o){this.parent(t,n,r,o),this._setUpSubscriptions()},getParams:function(){return{fbe_extras:"string",fbe_redirect_uri:"string",fbe_scopes:"string",fbe_state:"string",hide_manage_button:"bool",hide_explore_more_options:"bool",preferred_ad_options:"string"}},_setUpSubscriptions:function(){var e=this;this.subscribe("xd.lwiadscreation.load",function(t){e._createIframe(t)})},_createIframe:function(t){n("sdk.createIframe")({url:t.iframeURL,name:"LWIAdsCreationRootIframe",root:document.body,height:300,width:950})}}),t=e,i.default=t},98),t.__d("sdk.XFBML.LWIAdsInsights",["IframePlugin","sdk.createIframe"],function(e,t,n,r,o,a,i){"use strict";e=n("IframePlugin").extend({constructor:function(t,n,r,o){this.parent(t,n,r,o),this._setUpSubscriptions()},getParams:function(){return{fbe_extras:"string",fbe_redirect_uri:"string",fbe_scopes:"string",fbe_state:"string"}},_setUpSubscriptions:function(){var e=this;this.subscribe("xd.lwiadsinsights.load",function(t){e._createIframe(t)})},_createIframe:function(t){n("sdk.createIframe")({url:t.iframeURL,name:"LWIAdsInsightsRootIframe",root:document.body,height:800,width:1050})}}),t=e,i.default=t},98),t.__d("sdk.SVGLogos",["guid"],function(e,t,n,r,o,a,i){"use strict";var l="M90,212v-75h-27v-31h27v-25q0,-40 40,-40q15,0 24,2v26h-14q-16,0 -16,16v21h30l-5,31h-27v75",s="a106 106,0,1,0,-32 0",u="a106 106,1,0,1,-32 0";function d(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){return e.setAttribute(n,t[n])}),e}function m(e,t,n){return t=d(document.createElementNS("http://www.w3.org/2000/svg",t),n),e==null||e.appendChild(t),t}e=function(t){return t=m(null,"svg",c("Object","assign",!1,{viewBox:"0 0 100 100",preserveAspectRatio:"xMinYMin"},t)),m(t,"line",{x1:"0",y1:"100",x2:"100",y2:"0","stroke-width":"12"}),m(t,"line",{x1:"0",y1:"0",x2:"100",y2:"100","stroke-width":"12"}),t},t=function(t){return t=m(null,"svg",c("Object","assign",!1,{viewBox:"0 0 213 213",preserveAspectRatio:"xMinYMin"},t)),m(t,"path",{d:l+s,class:"f_logo_circle"}),m(t,"path",{d:l+u,class:"f_logo_f"}),t},r=function(t){return t=m(null,"svg",c("Object","assign",!1,{viewBox:"0 0 213 213",preserveAspectRatio:"xMinYMin"},t)),m(t,"path",{d:l+s,class:"f_logo_circle",fill:"white"}),m(t,"path",{d:l+u,class:"f_logo_f",fill:"white"}),t},o=function(t){return t=m(null,"svg",c("Object","assign",!1,{viewBox:"-2 -2 104 104",preserveAspectRatio:"xMinYMin"},t)),m(t,"rect",{x:"5",y:"5",width:"91",height:"91","stroke-width":"9",rx:"23",class:"ig_logo_body"}),m(t,"circle",{cx:"77",cy:"23",r:"6",class:"ig_logo_flash"}),m(t,"circle",{cx:"50",cy:"50",r:"21","stroke-width":"9",class:"ig_logo_lens"}),t},a=function(t){var e=n("guid")();t=m(null,"svg",c("Object","assign",!1,{viewBox:"-2 -2 104 104",preserveAspectRatio:"xMinYMin"},t));var r=m(t,"defs",{}),o=m(r,"mask",{id:e});return m(o,"circle",{cx:"77",cy:"23",r:"6",fill:"white"}),m(o,"circle",{cx:"50",cy:"50",r:"21","stroke-width":"9",stroke:"white"}),m(o,"rect",{x:"5",y:"5",width:"91",height:"91","stroke-width":"9",rx:"23",stroke:"white",fill:"none"}),o=m(r,"linearGradient",{id:"purplepink",x1:"0",x2:".15",y1:"0",y2:".6"}),m(o,"stop",{offset:"12%","stop-color":"rgb(88,85,214)"}),m(o,"stop",{offset:"85%","stop-color":"rgb(215,27,122)"}),o=m(r,"radialGradient",{id:"yelloworange",cx:".35",cy:"1",r:"2"}),m(o,"stop",{offset:"7%","stop-color":"rgb(252,215,114)"}),m(o,"stop",{offset:"20%","stop-color":"rgb(244,102,37)"}),m(o,"stop",{offset:"38%","stop-color":"rgb(225,37,122)","stop-opacity":"0"}),m(t,"rect",{x:"1",y:"1",width:"99",height:"99","stroke-width":"0",rx:"23",fill:"url(#purplepink)",style:"mask: url(#"+e+")"}),m(t,"rect",{x:"1",y:"1",width:"99",height:"99","stroke-width":"0",rx:"23",fill:"url(#yelloworange)",style:"mask: url(#"+e+")"}),t},i.close=e,i.facebook=t,i.facebookWhite=r,i.instagram=o,i.instagramColor=a},98),t.__d("sdk.SharedStringConstants",["sdk.fbt"],function(e,t,n,r,o,a,i){"use strict";e={continueWith:n("sdk.fbt")._("Continue with {facebook_app_name} or {instagram_app_name}"),continueWithShort:n("sdk.fbt")._("{facebook_app_name} or {instagram_app_name}"),loginButtonAriaLabel:n("sdk.fbt")._("Continue with Facebook or Instagram"),logout:n("sdk.fbt")._("Logout"),logoutButtonAriaLabel:n("sdk.fbt")._("Logout the current website"),titleText:n("sdk.fbt")._("Choose Account"),promptText:n("sdk.fbt")._("Which account would you like to use to log in?"),facebookText:n("sdk.fbt")._("Log in with Facebook"),facebookTextShort:n("sdk.fbt")._("Log in"),instagramText:n("sdk.fbt")._("Log in with Instagram"),disambiguationDialogAriaLabelText:n("sdk.fbt")._("Log in with Facebook or Instagram"),fbButtonText:n("sdk.fbt")._("Continue with Facebook"),igButtonText:n("sdk.fbt")._("Continue with Instagram")},i.buttonStringsFBT=e},98),t.__d("sdk.XFBML.ShadowDOMLoginButton",["DOMPlugin","UrlMap","sdk.Auth","sdk.Event","sdk.LoggingUtils","sdk.PluginUtils","sdk.Runtime","sdk.SVGLogos","sdk.SharedStringConstants","sdk.createIframe","sdk.ui"],function(e,t,n,r,o,a,i){var l={small:"11px",medium:"13px",large:"16px"},s={small:"20px",medium:"30px",large:"40px"},u="{facebook_app_name}";e=(function(e){d.inheritsLoose(t,e);function t(t,o,a,i,l){return t=e.call(this,t,o,a,i,l)||this,t.stateObservers=[],t.shadowCss=["css:fb.shadow.css.fb_login_button"],t.container=document.createElement("div"),t.container.classList.add("fb_login_button_container"),t.container.dir="auto",t.loginButtonText=t.updateLabel(),t.fbLoginButton=document.createElement("button"),t.borderRadius=t.updateRadius(t.params),t.fbLoginButton=t.createSingleButton(t.loginButtonText),t.createFBButton("fb-button-main-element",r("sdk.SharedStringConstants").buttonStringsFBT.logout,r("sdk.SharedStringConstants").buttonStringsFBT.logoutButtonAriaLabel,C,function(e){this.style.display=e.status==="connected"?"flex":"none"},c(function(e){n("sdk.Auth").logout(),e&&e.detail===0&&this.fbLoginButton&&this.fbLoginButton.style.display!=="none"&&this.fbLoginButton.focus()},"bind",!0,d.assertThisInitialized(t))),t}var o=t.prototype;return o.render=function(e){var t=this;return this.updateDisplay({shouldHideDisambiguation:!0,status:n("sdk.Runtime").getLoginStatus()}),r("sdk.Event").subscribe("auth.statusChange",function(e){e={shouldHideDisambiguation:!0,status:e.status,fxApp:e.loginSource},t.updateDisplay(e)}),this.container},o.createSingleButton=function(e){return this.createFBButton("fb-button-main-element",e,e,y,function(e){this.style.display=e.status==="connected"?"none":"flex"},c(function(e){e.stopPropagation(),r("sdk.LoggingUtils").logLoginEvent(this.params,r("sdk.LoggingUtils").logEventName.buttonClick+"_single_fb"),this.loginTrigger()},"bind",!0,this))},o.loginTrigger=function(){var e="";n("sdk.ui")({method:"permissions.oauth",display:"popup",scope:e},this.loginCb())},o.createFBButton=function(e,t,n,r,o,a){var i=document.createElement("button");return i.classList.add(e),i.setAttribute("aria-label",n),e=document.createElement("span"),e.classList.add("fb_button_label_element"),e.classList.add("fb_button_label"),this.applyStyles(i,this.params),this.use_continue_as===!0?e.append(this.createIframeOverlay(this.container,this.params)):r(this.params,t,e),i.appendChild(e),i.addEventListener("click",function(e){a(e),i.blur()}),i.updateDisplay=c(o,"bind",!0,i),this.stateObservers.push(i),this.container.appendChild(i),i},o.loginCb=function(){var e=this;return function(t){t.authResponse!=null&&t.status==="connected"?r("sdk.LoggingUtils").logLoginEvent(e.params,r("sdk.LoggingUtils").logEventName.loginSuccess+"_single_fb"):r("sdk.LoggingUtils").logLoginEvent(e.params,r("sdk.LoggingUtils").logEventName.loginCancel+"_single_fb")}},o.updateDisplay=function(e){this.stateObservers.forEach(function(t){return t.updateDisplay(e)})},o.updateLabel=function(){var e=this.params["button-type"]==="login_with"?r("sdk.SharedStringConstants").buttonStringsFBT.facebookText:r("sdk.SharedStringConstants").buttonStringsFBT.fbButtonText,t=g(this.params,e);return this.params["button-type"]==="login_with"&&(e=t?e:r("sdk.SharedStringConstants").buttonStringsFBT.facebookTextShort),e},o.updateRadius=function(e){var t;return t=(t=r("sdk.PluginUtils").getVal(e,"layout"))!=null?t:"default",e=String(r("sdk.PluginUtils").getVal(e,"size")),e=e!==""?e:"small",e=e==="large"?"4px":"3px",t==="rounded"?"20px":e},o.applyStyles=function(e,t){var n=String(r("sdk.PluginUtils").getVal(t,"size"));n=n!==""?n:"small",e.style.borderRadius=this.borderRadius,t=(t=r("sdk.PluginUtils").getVal(t,"width"))!=null?t:null,e.style.width=m(n,t).toString(),e.style.fontSize=l[n],e.style.height=s[n],e.style.backgroundColor="rgb(26,119,242)",e.style.color="#fff",e.style.border="0",e.style.fontWeight="bold"},o.createIframeOverlay=function(e,t){var o,a=String(r("sdk.PluginUtils").getVal(t,"size"));a=a!==""?a:"small";var i=n("sdk.Runtime").getClientID(),l=String(r("sdk.PluginUtils").getVal(t,"layout"));return l=l!==""?l:"default",o=(o=r("sdk.PluginUtils").getVal(t,"width"))!=null?o:null,o=m(a,o).toString(),i=r("UrlMap").resolve("www")+("/plugins/login_button_overlay/"+i+"/"+o+"/"+a+"/"+l+"/"),l={root:e,url:i,borderRadius:(a=r("sdk.PluginUtils").getVal(t,"layout"))!=null?a:"default",width:o},e=n("sdk.createIframe")(l),e.classList.add("fb-iframe-overlay"),e},t})(r("DOMPlugin").DOMPlugin);function m(e,t){return e=e!=null?e:"small",t===""||t==null?_(e):p(e,t)}function p(e,t){t=isNaN(t)?0:Number(t);var n=_(e),r=f(e);return t<_(e)?n:t>f(e)?r:t}function _(e){switch(e){case"large":return 240;case"medium":return 200;default:return 200}}function f(e){switch(e){case"large":return 400;case"medium":return 320;default:return 300}}function g(e,t){var n;return t=t.replace(/\s?{facebook_app_name}\s?/,""),n=(n=r("sdk.PluginUtils").getVal(e,"width"))!=null?n:null,e=(e=r("sdk.PluginUtils").getVal(e,"size"))!=null?e:"large",e=m(e,n),n=h(t)?h(t):0,n<e}function h(e){var t=h.canvas||(h.canvas=document.createElement("canvas"));return t=t.getContext("2d"),t=t==null?void 0:t.measureText(e),t==null?void 0:t.width}function y(e,t,n){var r=document.createElement("span"),o=b();o.classList.add("single_button_svg_logo"),n.append(o),r.textContent=g(e,t)?t:"",n.append(r)}function C(e,t,n){n.textContent="",e=t.search(u);var r=e+u.length,o=Math.min(e),a=Math.min(r);e=Math.max(e),r=Math.max(r);var i=b(),l=document.createElement("span");l.style.whiteSpace="nowrap",l.append(t.substring(0,o)),o=document.createElement("span"),o.style.whiteSpace="nowrap",o.append(t.substring(a,e)),a=document.createElement("span"),a.style.whiteSpace="nowrap",a.append(t.substring(r,t.length)),n.append(i),n.append(l),n.append(o),n.append(a)}function b(){return r("sdk.SVGLogos").facebookWhite({class:"fb_button_svg_logo login_fb_logo"})}i.default=e},98),t.__d("sdk.XFBML.MessengerCheckbox",["FB","IframePluginClass","Log","PluginAttrTypes","sdk.XD"],function(e,t,n,r,o,a,i){"use strict";function l(e){var t=e.app_id,n=e.page_id;return e=e.user_ref,n='[page_id="'+n+'"][messenger_app_id="'+t+'"][user_ref="'+e+'"] iframe',t=document.querySelector(n),(t==null?void 0:t.getAttribute("name"))||null}n("FB").provide("CheckboxPlugin",{confirm:function(t){var e=t.app_id,n=t.page_id,o=t.user_ref,a=l(t);if(e==null){r("Log").warn("app_id is a required parameter.");return}if(n==null){r("Log").warn("page_id is a required parameter.");return}if(o==null){r("Log").warn("user_ref is a required parameter.");return}if(a==null){r("Log").warn("No matching checkbox for the app_id, page_id, and user_ref given.");return}r("sdk.XD").sendToFacebook(a,{method:"confirmCheckboxSubmission",params:t})}}),e=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){return e.call(this,t,n,r,o,{fluid:!0,full_width:!0,mobile_fullsize:!1})||this}var n=t.prototype;return n.getParams=function(){return{messenger_app_id:r("PluginAttrTypes").string,page_id:r("PluginAttrTypes").string,pixel_id:r("PluginAttrTypes").string,prechecked:r("PluginAttrTypes").bool,allow_login:r("PluginAttrTypes").bool,size:r("PluginAttrTypes").string,origin:r("PluginAttrTypes").string,user_ref:r("PluginAttrTypes").string,identity_match:r("PluginAttrTypes").string,center_align:r("PluginAttrTypes").bool,opt_in_type:r("PluginAttrTypes").string,promotional_frequency:r("PluginAttrTypes").string,promotional_topic:r("PluginAttrTypes").string}},t})(n("IframePluginClass")),i.default=e},98),t.__d("sdk.XFBML.MessengerCheckboxWrapper",["CORSRequest","UrlMap","sdk.Observable","sdk.XFBML.MessengerCheckbox"],function(e,t,n,r,o,a,i){e=function(t,n,r,o){return new l(t,n,r,o)};var l=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){var a;return a=e.call(this)||this,a.$MessengerCheckboxWrapper2=t,a.$MessengerCheckboxWrapper3=n,a.$MessengerCheckboxWrapper4=r,a.$MessengerCheckboxWrapper5=o,a}var o=t.prototype;return o.process=function(){var e=this,t=r("UrlMap").resolve("social_plugin")+"/new_domain_gating/";n("CORSRequest").execute(t,"get",{page_id:this.$MessengerCheckboxWrapper5.page_id,endpoint:this.$MessengerCheckboxWrapper4},function(t){e.$MessengerCheckboxWrapper5.should_use_new_domain=t.should_use_new_domain,e.$MessengerCheckboxWrapper1=new(n("sdk.XFBML.MessengerCheckbox"))(e.$MessengerCheckboxWrapper2,e.$MessengerCheckboxWrapper3,e.$MessengerCheckboxWrapper4,e.$MessengerCheckboxWrapper5),e.$MessengerCheckboxWrapper1.subscribe("render",function(){e.inform("render")}),e.$MessengerCheckboxWrapper1.process()})},t})(r("sdk.Observable").Observable);t=e,i.default=t},98),t.__d("sdk.XFBML.MessengerMessageUs",["IframePluginClass","PluginAttrTypes"],function(e,t,n,r,o,a,i){"use strict";e=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){return e.call(this,t,n,r,o,{fluid:!1,full_width:!1,mobile_fullsize:!0})||this}var n=t.prototype;return n.getParams=function(){return{messenger_app_id:r("PluginAttrTypes").string,page_id:r("PluginAttrTypes").string,color:r("PluginAttrTypes").string,size:r("PluginAttrTypes").string}},t})(n("IframePluginClass")),i.default=e},98),t.__d("sdk.XFBML.MessengerMessageUsWrapper",["sdk.Observable","sdk.XFBML.MessengerMessageUs"],function(e,t,n,r,o,a,i){e=function(t,n,r,o){return new l(t,n,r,o)};var l=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){var a;return a=e.call(this)||this,a.$MessengerMessageUsWrapper2=t,a.$MessengerMessageUsWrapper3=n,a.$MessengerMessageUsWrapper4=r,a.$MessengerMessageUsWrapper5=o,a}var r=t.prototype;return r.process=function(){var e=this;this.$MessengerMessageUsWrapper5.should_use_new_domain=!0,this.$MessengerMessageUsWrapper1=new(n("sdk.XFBML.MessengerMessageUs"))(this.$MessengerMessageUsWrapper2,this.$MessengerMessageUsWrapper3,this.$MessengerMessageUsWrapper4,this.$MessengerMessageUsWrapper5),this.$MessengerMessageUsWrapper1.subscribe("render",function(){e.inform("render")}),this.$MessengerMessageUsWrapper1.process()},t})(r("sdk.Observable").Observable);t=e,i.default=t},98),t.__d("sdk.XFBML.Save",["IframePlugin","UrlMap","sdk.Content","sdk.DOM","sdk.DialogUtils","sdk.Event","sdk.Runtime","sdk.UA","sdk.XD","sdk.createIframe"],function(e,t,n,r,o,a,i){"use strict";var l;e=n("IframePlugin").extend({constructor:function(t,o,a,i){var e=this;this.parent(t,o,a,i);var s=n("sdk.UA").mobile();this.subscribe("xd.savePluginGetBlankIframe",function(t){var n,o=function(t){t&&r("sdk.DOM").removeCss(t,"fb_invisible")},a=function(t){t&&r("sdk.DOM").addCss(t,"fb_invisible")};s&&(n=r("sdk.DialogUtils").setupNewDarkOverlay(),a(n),r("sdk.Content").append(n),r("sdk.DialogUtils").addDoubleClickAction(n,function(){return u.forEach(a)},5e3));var i=e.setupNewIframeDialog(c("JSON","parse",!1,t.data),t.fromIframe);a(i),r("sdk.Content").append(i);var u=[i,n],d=function(){u.forEach(a),r("sdk.DialogUtils").onDialogHideCleanup(s),window.clearInterval(l)},m;e.subscribe("xd.savePluginShowIframe",function(){r("sdk.Event").fire("savePlugin:hideDialog"),u.forEach(o),e.positionOnScreen(i,n),!s&&!m&&(m=r("sdk.DialogUtils").addIdleDesktopAction(i,d,7e3))}),e.subscribe("xd.savePluginHideIframe",function(){return d()}),r("sdk.Event").subscribe("savePlugin:hideDialog",function(){return d()});var p=window.setInterval(function(){var e=document.getElementsByName(t.fromIframe);e.length===0&&(window.clearInterval(p),d(),u.forEach(function(e){e&&e.parentNode.removeChild(e)}))},500)})},positionOnScreen:function(t,o){var e=n("sdk.UA").mobile();if(e){var a=function(n,o){o!=null&&r("sdk.DialogUtils").setDialogPositionToCenter(o,e),r("sdk.DialogUtils").setDialogPositionToCenter(n,e)};a(t,o),r("sdk.DialogUtils").addMobileOrientationChangeAction(function(e){a(t,o)}),l=window.setInterval(function(){return a(t,o)},100)}else r("sdk.DOM").setStyle(t,"position","fixed"),r("sdk.DOM").setStyle(t,"top","20px"),r("sdk.DOM").setStyle(t,"right","20px")},getOverlayIFrameURL:function(){return r("UrlMap").resolve("www")+(n("sdk.Runtime").getIsVersioned()?"/"+n("sdk.Runtime").getVersion():"")+"/plugins/save/overlay?app_id="+n("sdk.Runtime").getClientID()},setupNewIframeDialog:function(t,o){var e=this,a=r("sdk.DialogUtils").setupNewDialog(),i=function(){r("sdk.XD").sendToFacebook(o,{method:"saveOverlayIFrameAck",params:c("JSON","stringify",!1,{name:"overlay_"+e._iframeOptions.name})})};return n("sdk.createIframe")({url:this.getOverlayIFrameURL(),name:"overlay_"+this._iframeOptions.name,root:a.contentRoot,tabindex:-1,onload:c(i,"bind",!0,this)}),r("sdk.DOM").addCss(a.contentRoot,"fb_dialog_iframe"),c("Object","assign",!1,a.dialogElement.style,t.style||{}),r("sdk.DOM").setStyle(a.dialogElement,"width",t.width+"px"),r("sdk.DOM").setStyle(a.dialogElement,"height",t.height+"px"),t.classList.forEach(function(e){return r("sdk.DOM").addCss(a.dialogElement,e)}),r("sdk.DOM").removeCss(a.dialogElement,"fb_dialog_advanced"),a.dialogElement},getParams:function(){return{uri:"url",url_category:"string",size:"string"}}}),t=e,i.default=t},98),t.__d("sdk.XFBML.SendToMessenger",["IframePluginClass","PluginAttrTypes"],function(e,t,n,r,o,a,i){"use strict";e=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){return e.call(this,t,n,r,o,{fluid:!1,full_width:!1,mobile_fullsize:!0})||this}var n=t.prototype;return n.getParams=function(){return{messenger_app_id:r("PluginAttrTypes").string,page_id:r("PluginAttrTypes").string,color:r("PluginAttrTypes").string,size:r("PluginAttrTypes").string,enforce_login:r("PluginAttrTypes").bool,identity_match:r("PluginAttrTypes").string,origin:r("PluginAttrTypes").string,cta_text:r("PluginAttrTypes").string,allow_login:r("PluginAttrTypes").bool}},t})(n("IframePluginClass")),i.default=e},98),t.__d("sdk.XFBML.SendToMessengerWrapper",["sdk.Observable","sdk.XFBML.SendToMessenger"],function(e,t,n,r,o,a,i){e=function(t,n,r,o){return new l(t,n,r,o)};var l=(function(e){d.inheritsLoose(t,e);function t(t,n,r,o){var a;return a=e.call(this)||this,a.$SendToMessengerWrapper2=t,a.$SendToMessengerWrapper3=n,a.$SendToMessengerWrapper4=r,a.$SendToMessengerWrapper5=o,a}var r=t.prototype;return r.process=function(){var e=this;this.$SendToMessengerWrapper5.should_use_new_domain=!0,this.$SendToMessengerWrapper1=new(n("sdk.XFBML.SendToMessenger"))(this.$SendToMessengerWrapper2,this.$SendToMessengerWrapper3,this.$SendToMessengerWrapper4,this.$SendToMessengerWrapper5),this.$SendToMessengerWrapper1.subscribe("render",function(){e.inform("render")}),this.$SendToMessengerWrapper1.process()},t})(r("sdk.Observable").Observable);t=e,i.default=t},98),t.__d("sdk.XFBML.ShareButton",["IframePlugin"],function(e,t,n,r,o,a,i){"use strict";e=n("IframePlugin").extend({constructor:function(t,n,r,o){this.parent(t,n,r,o)},getParams:function(){return{href:"url",layout:"string",mobile_iframe:"bool",type:"string",size:"string"}}}),t=e,i.default=t},98),t.__d("sdk.XFBML.Video",["Assert","IframePlugin","ObservableMixin","sdk.Event","sdk.XD"],function(e,t,n,r,o,a,i){var l=(function(){function e(e){this.$1=e.isMuted,this.$2=e.volume,this.$3=e.timePosition,this.$4=e.duration}var t=e.prototype;return t.update=function(e){e.isMuted!==void 0&&(this.$1=e.isMuted),e.volume!==void 0&&(this.$2=e.volume),e.timePosition!==void 0&&(this.$3=e.timePosition),e.duration!==void 0&&(this.$4=e.duration)},t.isMuted=function(){return this.$1},t.getVolume=function(){return this.$1?0:this.$2},t.getCurrentPosition=function(){return this.$3},t.getDuration=function(){return this.$4},e})(),s=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.play=function(){r("sdk.XD").sendToFacebook(this.$1,{method:"play",params:c("JSON","stringify",!1,{})})},t.pause=function(){r("sdk.XD").sendToFacebook(this.$1,{method:"pause",params:c("JSON","stringify",!1,{})})},t.seek=function(e){n("Assert").isNumber(e,"Invalid argument"),r("sdk.XD").sendToFacebook(this.$1,{method:"seek",params:c("JSON","stringify",!1,{target:e})})},t.mute=function(){r("sdk.XD").sendToFacebook(this.$1,{method:"mute",params:c("JSON","stringify",!1,{})})},t.unmute=function(){r("sdk.XD").sendToFacebook(this.$1,{method:"unmute",params:c("JSON","stringify",!1,{})})},t.setVolume=function(e){n("Assert").isNumber(e,"Invalid argument"),r("sdk.XD").sendToFacebook(this.$1,{method:"setVolume",params:c("JSON","stringify",!1,{volume:e})})},t.isMuted=function(){return this.$3.isMuted()},t.getVolume=function(){return this.$3.getVolume()},t.getCurrentPosition=function(){return this.$3.getCurrentPosition()},t.getDuration=function(){return this.$3.getDuration()},t.subscribe=function(e,t){var r=this;return n("Assert").isString(e,"Invalid argument"),n("Assert").isFunction(t,"Invalid argument"),this.$2.subscribe(e,t),{release:function(){r.$2.unsubscribe(e,t)}}},e})();e=n("IframePlugin").extend({constructor:function(t,o,a,i){this.parent(t,o,a,i),this._videoController=null,this._sharedObservable=null,this._sharedVideoCache=null,this.subscribe("xd.onVideoAPIReady",function(e){this._sharedObservable=new(n("ObservableMixin")),this._sharedVideoCache=new l(c("JSON","parse",!1,e.data)),this._videoController=new s(this._iframeOptions.name,this._sharedObservable,this._sharedVideoCache),r("sdk.Event").fire("xfbml.ready",{type:"video",id:i.id,instance:this._videoController})}),this.subscribe("xd.stateChange",function(e){this._sharedObservable.inform(e.state)}),this.subscribe("xd.cachedStateUpdateRequest",function(e){this._sharedVideoCache.update(c("JSON","parse",!1,e.data))})},getParams:function(){return{allowfullscreen:"bool",autoplay:"bool",controls:"bool",href:"url",show_captions:"bool",show_text:"bool"}},getConfig:function(){return{fluid:!0,full_width:!0}}}),t=e,i.default=t},98),t.__d("sdk.api-public",["ApiClient","FB","sdk.Runtime","sdk.Scribe","sdk.api","sdk.feature"],function(s,t,n,r,o,a,i){var e=n("sdk.feature")("should_log_response_error",!1),l;function s(){n("sdk.Runtime").subscribe("ClientID.change",function(e){return n("ApiClient").setClientID(e)}),n("sdk.Runtime").subscribe("AccessToken.change",function(e){l=e,n("ApiClient").setAccessToken(e)}),n("ApiClient").setDefaultParams({sdk:"joey"}),n("ApiClient").subscribe("request.complete",function(e,t,r,o){e=!1,o&&typeof o=="object"&&(o.error?(o.error=="invalid_token"||o.error.type=="OAuthException"&&o.error.code==190)&&(e=!0):o.error_code&&o.error_code=="190"&&(e=!0)),e&&l===n("sdk.Runtime").getAccessToken()&&n("sdk.Runtime").setAccessToken(null)}),n("ApiClient").subscribe("request.complete",function(e,t,r,o){(e=="/me/permissions"&&t==="delete"||e=="/restserver.php"&&r.method=="Auth.revokeAuthorization")&&o===!0&&n("sdk.Runtime").setAccessToken(null)}),n("ApiClient").subscribe("request.error",function(t,o,a,i){e&&i.error.type==="http"&&r("sdk.Scribe").log("jssdk_error",{appId:n("sdk.Runtime").getClientID(),error:"transport",extra:{name:"transport",message:c("JSON","stringify",!1,i.error)+" from "+t+" , "+o}})}),n("FB").provide("",{api:n("sdk.api")})}t={init:s},o=t,i.default=o},98),t.__d("sdk.MBasicInitializer",["UrlMap","sdk.DOM","sdk.Runtime","sdk.UA","sdk.URI","sdk.fbt"],function(l,t,n,r,o,a,i){var e=function(){function e(e){if(e){var t=e.parentNode;if(t){var o=r("sdk.DOM").getAttr(e,"href")||window.location.href,a=new(n("sdk.URI"))(r("UrlMap").resolve("m"));a.setPath("/dialog/share"),a.addQueryData("href",encodeURI(o)),a.addQueryData("app_id",n("sdk.Runtime").getClientID()),a.addQueryData("mbasic_link",1),o=document.createElement("a"),o.style="display:inline-block; zoom:1;",o.textContent=n("sdk.fbt")._("Share to Facebook"),o.setAttribute("href",a.toString()),o.setAttribute("target","_blank"),t.insertBefore(o,e),t.removeChild(e)}}}c("Array","from",!1,document.getElementsByTagName("fb:share-button")).forEach(function(t){return e(t)}),c("Array","from",!1,document.getElementsByClassName("fb-share-button")).forEach(function(t){return e(t)})};function l(){n("sdk.UA").mBasic()&&e()}i.init=l},98),t.__d("sdk.init",["Log","ManagedError","sdk.Cookie","sdk.Event","sdk.MBasicInitializer","sdk.PlatformVersioning","sdk.Runtime","sdk.UA","sdk.URI"],function(l,t,n,r,o,a,i){function e(e){var t=typeof e=="number"&&e>0||typeof e=="string"&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(e);return t?e.toString():(r("Log").warn("Invalid App Id: Must be a number or numeric string representing the application id."),null)}function l(t){if(n("sdk.Runtime").getInitialized()&&r("Log").warn("FB.init has already been called - this could indicate a problem"),n("sdk.Runtime").getIsVersioned()){if(Object.prototype.toString.call(t)!=="[object Object]")throw new(n("ManagedError"))("Invalid argument");if(t.authResponse)throw new(n("ManagedError"))("Setting authResponse is not supported");t.version||(t.version=new(n("sdk.URI"))(location.href).getQueryData().sdk_version),r("sdk.PlatformVersioning").assertValidVersion(t.version),n("sdk.Runtime").setVersion(t.version)}else/number|string/.test(typeof t)&&(r("Log").warn("FB.init called with invalid parameters"),t={apiKey:t}),t.status==null&&(t.legacyStatusInit=!0),t=d.extends({status:!0},t||{});var o=e(t.appId||t.apiKey);o!==null&&n("sdk.Runtime").setClientID(o),"scope"in t&&n("sdk.Runtime").setScope(t.scope),t.cookie&&(n("sdk.Runtime").setUseCookie(!0),typeof t.cookie=="string"&&r("sdk.Cookie").setDomain(t.cookie)),(t.localStorage===!1||t.localStorage==="false")&&n("sdk.Runtime").setUseLocalStorage(!1),t.kidDirectedSite&&n("sdk.Runtime").setKidDirectedSite(!0),t.useFamilyLogin&&n("sdk.Runtime").setShouldLoadFamilyLogin(!0),(t.autoLogAppEvents==="1"||t.autoLogAppEvents==="true")&&(t.autoLogAppEvents=!0),t.ab&&n("sdk.Runtime").setSDKAB(t.ab),n("sdk.Runtime").setInitialized(!0),n("sdk.UA").mBasic()&&r("sdk.MBasicInitializer").init(),r("sdk.Event").fire("init:post",t)}i.default=l},98),t.__d("sdk.init-public",["FB","QueryString","sdk.AppEvents","sdk.ErrorHandling","sdk.Event","sdk.Frictionless","sdk.XD","sdk.init"],function(e,t,n,r,o,a,i){"use strict";function e(){t("sdk.XD"),t("sdk.AppEvents"),t("sdk.Frictionless"),window.setTimeout(function(){var e=/(connect\.facebook\.net|\.facebook\.com\/assets.php|\.facebook\.net\/assets.php).*?#(.*)/;c("Array","from",!1,window.document.getElementsByTagName("script")).forEach(function(t){if(t.src&&(t=e.exec(t.src),t)){var r={};t=n("QueryString").decode(t[2]);for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=t[o];a==="0"?r[o]=0:r[o]=a}n("sdk.init")(r)}}),window.fbAsyncInit&&!window.fbAsyncInit.hasRun&&(r("sdk.Event").fire("init:asyncstart"),window.fbAsyncInit.hasRun=!0,n("sdk.ErrorHandling").unguard(window.fbAsyncInit)())},0),n("FB").provide("",{init:n("sdk.init")}),r("sdk.Event").subscribe("init:post",function(){window.__buffer!==void 0&&window.__buffer.replay()}),window.setTimeout(function(){window.__buffer&&window.__buffer.opts&&n("sdk.init")(window.__buffer.opts)},0)}o={initialize:e},a=o,i.default=a},98),t.__d("sdk.Time",["Log","sdk.Impressions","sdk.Runtime","sdk.URI","sdk.feature"],function(u,d,n,r,o,a,i){"use strict";var e=window.performance,t=e&&"now"in e&&"getEntriesByName"in e,l,s={};function u(){function o(e,t){var o=!1;try{e=new(n("sdk.URI"))(e.name);var a=e.getDomain();e=e.getPath(),o=a===t.getDomain()&&c(e,"includes",!0,"/rsrc.php/")}catch(e){r("Log").error("Malformed URL was passed to the URL constructor: Error %s occured",e.message)}return o}function a(t){var r=e.getEntriesByType("resource").filter(function(e){return o(e,new(n("sdk.URI"))(t))}),a=r.length>=1;return a||(r=e.getEntriesByType("resource").filter(function(e){return c(e.name,"startsWith",!0,t)})),r}if(t){var i=n("sdk.Runtime").getSDKUrl(),u=null;if(a=a(i),a.length>1)if(a>2)a=null;else{var d=c(a,"findIndex",!0,function(e){return c(e.name,"startsWith",!0,i+"?hash=")});d?(u=a.splice(d)[0],a=a[0]):a=null}else a.length===1?(d=document.getElementById("facebook-jssdk-iframe"),d&&d instanceof HTMLIFrameElement&&(u=d.contentWindow.performance.getEntriesByType("resource").find(function(e){return c(e.name,"startsWith",!0,i)})),a=a[0]):a=null;a&&(s.fetchTime=Math.round(a.duration),u&&(s.fetchTime+=Math.round(u.duration)),"transferSize"in a&&(s.transferSize=a.transferSize,u&&(s.transferSize+=u.transferSize)),r("Log").debug("sdkperf: it took %s ms and %s bytes to load %s",s.fetchTime,s.transferSize,i),l=a.startTime,s.ns=n("sdk.Runtime").getSDKNS(),l&&window.setTimeout(function(){var e=n("sdk.feature")("log_perf",!1),t=n("sdk.Runtime").getSDKAB();t&&(s.ab=t,e=!0),e&&r("sdk.Impressions").log(116,s)},1e4))}}function d(n){!t||!l||(s[n]=Math.round(e.now()-l),r("Log").debug("sdkperf: %s logged after %s ms",n,s[n]))}i.recordBootload=u,i.log=d},98),t.__d("sdk.time-public",["runOnce","sdk.Event","sdk.Time"],function(e,t,n,r,o,a,i){"use strict";function e(){r("sdk.Time").recordBootload(),r("sdk.Event").subscribe("init:post",function(){r("sdk.Time").log("init")}),r("sdk.Event").subscribe("init:asyncstart",function(){r("sdk.Time").log("asyncstart")}),r("sdk.Event").subscribe("iframeplugin:create",n("runOnce")(function(){return r("sdk.Time").log("pluginframe")})),r("sdk.Event").subscribe("iframeplugin:onload",n("runOnce")(function(){return r("sdk.Time").log("ttfp")}))}t={init:e},o=t,i.default=o},98),t.__d("legacy:fb.sdk.index",["FB","sdk.AppEvents-public","sdk.Auth-public","sdk.Canvas-public","sdk.Event-public","sdk.Frictionless-public","sdk.GamingServices-public","sdk.Runtime","sdk.api-public","sdk.init-public","sdk.time-public","sdk.ui"],function(e,t,n,r,o,a,i){n("sdk.api-public").init(),n("sdk.AppEvents-public").init(),n("sdk.Auth-public").init(),n("sdk.Canvas-public").init(),n("sdk.Canvas-public").initCanvasPlugin(),n("sdk.Canvas-public").initCanvasPrefetcher(),n("sdk.Canvas-public").initCanvasPresence(),n("sdk.Event-public").init(),n("sdk.Frictionless-public").init(),n("sdk.GamingServices-public").init(),n("sdk.init-public").initialize(),n("sdk.time-public").init(),n("FB").provide("",{ui:n("sdk.ui")}),n("sdk.Runtime").setIsVersioned(!0)},35),window.FB&&window.FB.__buffer&&(window.__buffer=d.extends({},window.FB.__buffer))}).call(n)})()}catch(e){}}i.default=e}),66);
__d("PolarisInitWindowsPWAKeyCommand",["ExecutionEnvironment","PolarisUA"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1;function u(){s||(e||(e=r("ExecutionEnvironment"))).canUseDOM&&o("PolarisUA").isDesktopPWA()&&(window.addEventListener("keydown",function(e){e.ctrlKey&&e.key==="r"&&window.location.reload()}),s=!0)}l.default=u}),98);
__d("PolarisLogPushNotification",["InstagramODS","InstagramWebNotificationFalcoEvent","PolarisConfig","PolarisQueryParams","URI","polarisReferrerFormatter"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){o("PolarisQueryParams").isPushNotificationParam()&&(r("InstagramWebNotificationFalcoEvent").log(function(){var e,t,n;return{landing_page_url:(e=o("polarisReferrerFormatter").sanitizeReferrer(window.location.pathname))!=null?e:"",ndid:(t=o("PolarisQueryParams").getNdidParam())!=null?t:"",target_user_id:(n=o("PolarisConfig").getViewerId())!=null?n:"",web_push_event_name:"web_push_clicked"}}),u())}function u(){try{var t=new(e||(e=r("URI")))(window.location.href);t.removeQueryData("utm_source"),t.removeQueryData("ndid"),window.history.replaceState({},null,t)}catch(e){r("InstagramODS").incr("web.notifications.remove_utm.failure")}}l.default=s}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1871697"),s=o("FalcoLoggerInternal").create("web_perf_device_info_log",e),u=s;l.default=u}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","Promise","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl");if(n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r){var o=n.getParameter(r.UNMASKED_RENDERER_WEBGL),a=n.getParameter(r.UNMASKED_VENDOR_WEBGL);e.gpu_vendor=a,e.gpu_renderer=o}}}function c(){var e=window.navigator,t={};return e&&e.hardwareConcurrency!==void 0&&(t.cpu_cores=e.hardwareConcurrency),e&&e.deviceMemory!==void 0&&(t.ram=e.deviceMemory),r("WebDevicePerfInfoData").needsFullUpdate&&u(t),t}function d(){var e=c();r("WebPerfDeviceInfoLogFalcoEvent").log(function(){var t,n,r,o;return{cpu_cores:(t=e.cpu_cores)!=null?t:null,ram:(n=e.ram)!=null?n:null,gpu_renderer:(r=e.gpu_renderer)!=null?r:null,gpu_vendor:(o=e.gpu_vendor)!=null?o:null}})}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=c(),t=yield new(r("AsyncTypedRequest"))(r("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(e).promisePayload();return t.devicePerfClassLevel}),p.apply(this,arguments)}function _(){(r("WebDevicePerfInfoData").needsFullUpdate||r("WebDevicePerfInfoData").needsPartialUpdate)&&(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(d)}function f(){return new(e||(e=n("Promise")))(function(e,t){r("WebDevicePerfInfoData").needsFullUpdate||r("WebDevicePerfInfoData").needsPartialUpdate?(s||(s=o("JSScheduler"))).scheduleSpeculativeCallback(function(){m().then(e).catch(t)}):e()})}l.doLog=_,l.doLogPromise=f}),98);
__d("polarisDebugLogODS",["cr:4890"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){n("cr:4890")==null||n("cr:4890")(e,t)}l.default=e}),98);/*FB_PKG_DELIM*/
__d("EBEnableUnifiedAttachment",[],(function(t,n,r,o,a,i){"use strict";var e=!1;function l(t){e=t}function s(){return e}i.setEbEnableUnifiedAttachment=l,i.getEbEnableUnifiedAttachment=s}),66);
__d("EBLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return r("FBLogger")("wmi_eb",t)};l.EBLogger=e}),98);
__d("EBMinosCheckWasmFeatureSupport",["asyncToGeneratorRuntime","gkx","wasm-feature-detect"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("wasm-feature-detect").bulkMemory(),t=yield o("wasm-feature-detect").bigInt(),n=yield o("wasm-feature-detect").referenceTypes();return e&&t&&n}),s.apply(this,arguments)}function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield e();if(!t)return!1;var n=r("gkx")("2760");return n}),c.apply(this,arguments)}l.checkWasmFeatureSupport=e,l.checkWasFeatureSupportAndGK=u}),98);
__d("MWEBUseLocalStorage",["WALogger","WebStorage","getMWEncryptedBackupsIsLocalStorageSupported"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=t,i=n!=null?n:"true";if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var l;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Encrypted Backups key "," written to local storage"])),a),(l=(s||(s=r("WebStorage"))).getLocalStorage())==null||l.setItem(a,i)}}function c(e){var t=e;if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var n;(n=(s||(s=r("WebStorage"))).getLocalStorage())==null||n.removeItem(t)}}function d(e){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var t,n=e;return(t=(s||(s=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(n)}return null}function m(e){if(o("getMWEncryptedBackupsIsLocalStorageSupported").getMWEncryptedBackupsIsLocalStorageSupported()){var t,n=e;return((t=(s||(s=r("WebStorage"))).getLocalStorageForRead())==null?void 0:t.getItem(n))!=null}return!0}l.mwEBCreateLocalStorageEntry=u,l.mwEBDeleteLocalStorageEntry=c,l.mwEBGetLocalStorageEntryValue=d,l.mwEBGetIsLocalStorageEntryValuePresent=m}),98);
__d("EBReenrollmentTriggerHandler",["EBLogger","LSIntEnum","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("EBLogger").EBLogger().tags(["DefaultEBReenrollmentTriggerHandler"]),u=(function(){function t(){}var n=t.prototype;return n.handle=function(n){s.debug("Running default reenrollment trigger handler for reason: "+(e||(e=o("LSIntEnum"))).toNumber(n.deviceReenrollmentReason));for(var t of r("MWEncryptedBackupsLocalStorageEntryEnum").members())s.debug("Clearing local storage key: "+t),t!==r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE&&o("MWEBUseLocalStorage").mwEBDeleteLocalStorageEntry(t)},t})();l.DefaultEBReenrollmentTriggerHandler=u}),98);
__d("MWEBODSCategory",[],(function(t,n,r,o,a,i){"use strict";var e=7319;i.default=e}),66);
__d("MWEBODSEntityName.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({MW_EB_PIN_RESTORE_AUTH:"mw_eb_pin_restore_auth",MW_EB_RC_RESTORE_AUTH:"mw_eb_rc_restore_auth",MW_EB_AUTO_RESTORE_AUTH:"mw_eb_auto_restore_auth",MW_EB_OTC_AUTH:"mw_eb_otc_auth",MW_EB_ONBOARDING_AUTH:"mw_eb_onboarding_auth",MW_EBSM_HYDRATION:"mw_ebsm_hydration",MW_EBSM_IDB:"mw_eb_ebsm_idb",MW_EBSM_CORRUPTION:"mw_ebsm_corruption",MW_EBSM_CORRUPTION_RELOAD:"mw_ebsm_corruption_reload",MW_EBSM_RESTORE_PERSISTENCE_ERROR:"mw_ebsm_restore_persistence",MW_EBSM_IDB_TABLE_DELETION:"mw_ebsm_idb_table_deletion",MW_EBSM_WORKER_SUFFIX:"_worker",MW_EBSM_COUNTERS:"mw_ebsm_counters",MW_EBSM_FETCH_BACKUP_IDS:"mw_ebsm_fetch_backup_ids",MW_EB_SWITCH_CONSISTENCY:"mw_eb_switch_consistency",MAW_EB_UPLOAD_TRACKING:"maw_eb_upload_tracking",MAW_EB_UPLOAD_COUNTER:"maw_eb_upload_counter",MAW_EB_RESTORE_COUNTER:"maw_eb_restore_counter",EB_SYMMETRIC_ENCRYPTION_JS_RUST_SHADOW_TEST:"eb_symmetric_encryption_js_rust_shadow_test",MAW_EB_FRONTEND_QPL_IN_WORKER:"maw_eb_frontend_qpl_in_worker",MW_EB_RETROACTIVE_BACKUP:"mw_eb_retroactive_backup"}),l=e;i.default=l}),66);
__d("EBReenrollmentTriggerListener",["EBReenrollmentTriggerHandler","LSIntEnum","MWEBODSCategory","MWEBODSEntityName.enum","ODS","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e){this.$1=new Map,this.$4=new(o("EBReenrollmentTriggerHandler")).DefaultEBReenrollmentTriggerHandler,this.$2=e,this.$5()}var n=t.prototype;return n.$5=function(){var t=this;return this.$3==null&&(this.$3=o("ReQL").fromTableAscending(this.$2.tables.encrypted_backups_reenrollment_trigger).take(1).subscribe(function(n,a){if(a.operation==="add"||a.operation==="put"){(e||(e=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),r("MWEBODSEntityName.enum").MW_EBSM_COUNTERS,"reenrollment_trigger");var l=t.getDefaultHandler();if(a.value.deviceReenrollmentReason!=null){var u;l=(u=t.$1.get((s||(s=o("LSIntEnum"))).unwrapIntEnum(a.value.deviceReenrollmentReason)))!=null?u:l}l.handle(a.value),r("promiseDone")(t.$2.runInTransaction(function(e){return e.encrypted_backups_reenrollment_trigger.delete(a.value.pk)},"readwrite",void 0,void 0,i.id+":77"))}})),this.$3},n.attachHandler=function(t,n){this.$1.set(t,n)},n.getDefaultHandler=function(){return this.$4},t})(),c;function d(e){return c!=null||(c=new u(e)),c}function m(e){return c==null&&d(e),c}l.initEBReenrollmentTriggerListener=d,l.getEBReenrollmentTriggerListener_TESTING_ONLY=m}),98);
__d("EBUnifyLegacyMediaUpload",[],(function(t,n,r,o,a,i){"use strict";var e=!1;function l(t){e=t}function s(){return e}i.setEnableUnifyLegacyMediaUpload=l,i.getEnableUnifyLegacyMediaUpload=s}),66);
__d("EmojiRendererData",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){}return e.isEmoji=function(t){return t>983041||t<35?!1:t===35||t===42||t>=48&&t<=57||t===169||t===174||t===8205||t===8252||t===8265||t===8419||t===8482||t===8505||t>=8596&&t<=8601||t>=8617&&t<=8618||t>=8986&&t<=8987||t===9e3||t===9167||t>=9193&&t<=9203||t>=9208&&t<=9210||t===9410||t>=9642&&t<=9643||t===9654||t===9664||t>=9723&&t<=9726||t>=9728&&t<=9732||t===9742||t===9745||t>=9748&&t<=9749||t===9752||t===9760||t>=9762&&t<=9763||t===9766||t===9770||t>=9774&&t<=9775||t>=9784&&t<=9786||t===9792||t===9794||t>=9800&&t<=9811||t>=9823&&t<=9824||t===9827||t>=9829&&t<=9830||t===9832||t===9851||t>=9854&&t<=9855||t>=9874&&t<=9879||t===9881||t>=9883&&t<=9884||t>=9888&&t<=9889||t===9895||t>=9898&&t<=9899||t>=9904&&t<=9905||t>=9917&&t<=9918||t>=9924&&t<=9925||t===9928||t>=9934&&t<=9935||t===9937||t>=9939&&t<=9940||t>=9961&&t<=9962||t>=9968&&t<=9973||t>=9975&&t<=9976||t===9978||t===9981||t===9986||t===9989||t>=9992&&t<=9993||t===9999||t===10002||t===10004||t===10006||t===10013||t===10017||t===10024||t>=10035&&t<=10036||t===10052||t===10055||t===10060||t===10062||t>=10067&&t<=10069||t===10071||t>=10083&&t<=10084||t>=10133&&t<=10135||t===10145||t===10160||t===10175||t>=10548&&t<=10549||t>=11013&&t<=11015||t>=11035&&t<=11036||t===11088||t===11093||t===12336||t===12349||t===12951||t===12953||t===126980||t===127183||t>=127344&&t<=127345||t>=127358&&t<=127359||t===127374||t>=127377&&t<=127386||t>=127462&&t<=127487||t>=127489&&t<=127490||t===127514||t===127535||t>=127538&&t<=127546||t>=127568&&t<=127569||t>=127744&&t<=127777||t>=127780&&t<=127876||t>=127878&&t<=127891||t>=127894&&t<=127895||t>=127897&&t<=127899||t>=127902&&t<=127937||t>=127941&&t<=127942||t>=127944&&t<=127945||t>=127949&&t<=127984||t>=127987&&t<=127989||t>=127991&&t<=127994||t>=128e3&&t<=128065||t>=128068&&t<=128069||t>=128081&&t<=128101||t>=128121&&t<=128123||t>=128125&&t<=128128||t===128132||t>=128136&&t<=128142||t===128144||t>=128146&&t<=128169||t>=128171&&t<=128253||t>=128255&&t<=128317||t>=128329&&t<=128334||t>=128336&&t<=128359||t>=128367&&t<=128368||t===128371||t>=128374&&t<=128377||t===128391||t>=128394&&t<=128397||t>=128420&&t<=128421||t===128424||t>=128433&&t<=128434||t===128444||t>=128450&&t<=128452||t>=128465&&t<=128467||t>=128476&&t<=128478||t===128481||t===128483||t===128488||t===128495||t===128499||t>=128506&&t<=128580||t>=128584&&t<=128586||t>=128640&&t<=128674||t>=128676&&t<=128691||t>=128695&&t<=128703||t>=128705&&t<=128709||t===128715||t>=128717&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128741||t===128745||t>=128747&&t<=128748||t===128752||t>=128755&&t<=128764||t>=128992&&t<=129003||t===129008||t>=129293&&t<=129294||t>=129296&&t<=129303||t>=129312&&t<=129317||t>=129319&&t<=129327||t===129338||t>=129343&&t<=129349||t>=129351&&t<=129398||t>=129400&&t<=129460||t===129463||t===129466||t>=129468&&t<=129484||t===129488||t>=129502&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129673||t>=129679&&t<=129730||t===129734||t>=129742&&t<=129756||t>=129759&&t<=129769||t>=917536&&t<=917631||t>=983040&&t<=983041},e.isEmojiModifier=function(t){return t>127999||t<127995?!1:t>=127995&&t<=127999},e.isEmojiModifierBase=function(t){return t>129784||t<9757?!1:t===9757||t===9977||t>=9994&&t<=9997||t===127877||t>=127938&&t<=127940||t===127943||t>=127946&&t<=127948||t>=128066&&t<=128067||t>=128070&&t<=128080||t>=128102&&t<=128120||t===128124||t>=128129&&t<=128131||t>=128133&&t<=128135||t===128143||t===128145||t===128170||t>=128372&&t<=128373||t===128378||t===128400||t>=128405&&t<=128406||t>=128581&&t<=128583||t>=128587&&t<=128591||t===128675||t>=128692&&t<=128694||t===128704||t===128716||t===129292||t===129295||t>=129304&&t<=129311||t===129318||t>=129328&&t<=129337||t>=129340&&t<=129342||t===129399||t>=129461&&t<=129462||t>=129464&&t<=129465||t===129467||t>=129485&&t<=129487||t>=129489&&t<=129501||t>=129731&&t<=129733||t>=129776&&t<=129784},e.isEmojiVariationSelector=function(t){return t===65039},e.isNonSpacingCombiningMark=function(t){return t>8419||t<8416?!1:t===8416||t===8419},e.isRegionalIndicator=function(t){return t>127487||t<127462?!1:t>=127462&&t<=127487},e.isTagSpec=function(t){return t>917630||t<917536?!1:t>=917536&&t<=917568||t>=917595&&t<=917630},e.isTagTerm=function(t){return t===917631},e.isText=function(t){return t>8419||t<35?!1:t===35||t===42||t>=48&&t<=57||t===8419},e.isTextVariationSelector=function(t){return t===65038},e.isDefaultTextPresentation=function(t){return t>917631||t<35?!1:t===35||t===42||t>=48&&t<=57||t===169||t===174||t===8205||t===8252||t===8265||t===8419||t===8482||t===8505||t>=8596&&t<=8597||t>=8617&&t<=8618||t===9e3||t===9167||t>=9197&&t<=9199||t>=9201&&t<=9202||t>=9208&&t<=9210||t===9410||t===9654||t===9664||t>=9730&&t<=9732||t===9745||t===9752||t===9760||t>=9762&&t<=9763||t===9766||t===9770||t>=9774&&t<=9775||t>=9784&&t<=9785||t===9792||t===9794||t===9823||t===9851||t===9854||t===9874||t>=9876&&t<=9879||t===9881||t>=9883&&t<=9884||t===9895||t>=9904&&t<=9905||t===9928||t===9935||t===9937||t===9939||t===9961||t>=9968&&t<=9969||t===9972||t>=9975&&t<=9977||t===9997||t===9999||t===10002||t===10004||t===10013||t===10017||t===10052||t===10055||t===10083||t===12336||t>=127344&&t<=127345||t>=127358&&t<=127359||t===127777||t>=127780&&t<=127788||t===127798||t===127869||t>=127894&&t<=127895||t>=127897&&t<=127899||t>=127902&&t<=127903||t>=127947&&t<=127950||t>=127956&&t<=127967||t===127987||t===127989||t===127991||t===128063||t===128065||t===128253||t>=128329&&t<=128330||t>=128367&&t<=128368||t>=128371&&t<=128377||t===128391||t>=128394&&t<=128397||t===128400||t===128421||t===128424||t>=128433&&t<=128434||t===128444||t>=128450&&t<=128452||t>=128465&&t<=128467||t>=128476&&t<=128478||t===128481||t===128483||t===128488||t===128495||t===128499||t===128506||t===128715||t>=128717&&t<=128719||t>=128736&&t<=128741||t===128745||t===128752||t===128755||t>=917536&&t<=917631},e.isSymbol=function(t){return t>8482||t<169?!1:t===169||t===174||t===8482},e.isZWJ=function(t){return t===8205},e})();a.exports=e}),null);
__d("UnicodeUtils",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";var e=55296,u=56319,c=56320,d=57343,m=/[\uD800-\uDFFF]/;function p(t){return e<=t&&t<=d}function _(t,n){if(0<=n&&n<t.length||s(0,1346,n,t.length),n+1===t.length)return!1;var r=t.charCodeAt(n),o=t.charCodeAt(n+1);return e<=r&&r<=u&&c<=o&&o<=d}function f(e){return m.test(e)}function g(e,t){var n=p(e.charCodeAt(t));return n?2:1}function h(e){if(!f(e))return e.length;for(var t=0,n=0;n<e.length;n+=g(e,n))t++;return t}function y(e,t){return b(e,t,t+1)}function C(e,t,n){var r=t||0,o=n===void 0?1/0:n||0;if(!f(e))return e.substr(r,o);var a=e.length;if(a<=0||r>a||o<=0)return"";var i=0;if(r>0){for(;r>0&&i<a;r--)i+=g(e,i);if(i>=a)return""}else if(t<0){for(i=a;r<0&&0<i;r++)i-=g(e,i-1);i<0&&(i=0)}var l=a;if(o<a)for(l=i;o>0&&l<a;o--)l+=g(e,l);return e.substring(i,l)}function b(e,t,n){var r=t||0,o=n===void 0?1/0:n||0;r<0&&(r=0),o<0&&(o=0);var a=Math.abs(o-r);return r=r<o?r:o,C(e,r,a)}function v(e){for(var t=[],n=0;n<e.length;n+=g(e,n))t.push(e.codePointAt(n));return t}l.isCodeUnitInSurrogateRange=p,l.isSurrogatePair=_,l.hasSurrogateUnit=f,l.getUTF16Length=g,l.strlen=h,l.charAt=y,l.substr=C,l.substring=b,l.getCodePoints=v}),98);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(t,n,r,o,a,i,l){var e,s,u=0,c=1,d=2,m=3,p=4,_=5,f=6,g=7,h=8,y=9,C=10,b=11;function v(e){var t=e[0];if(t===void 0)return!1;var n=e.length,o=e[n-1];if(o){var a=o.charCodeAt(0);if((s||(s=r("EmojiRendererData"))).isTagSpec(a))return!1}if(t=t.charCodeAt(0),(s||(s=r("EmojiRendererData"))).isSymbol(t)&&n<2)return!1;if((s||(s=r("EmojiRendererData"))).isText(t)){if(n===1)return!1;if(e.length==2)return(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(e[1].charCodeAt(0));var i=1;for((s||(s=r("EmojiRendererData"))).isEmojiVariationSelector(e[i].charCodeAt(0))&&i++;i<e.length;){if(!(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(e[i].charCodeAt(0)))return!1;i++}return!0}return!0}function S(t,n){for(var a=null,i=[],l=h,S=0,R=t.length;S<R;){var L=t.codePointAt(S),E=(e||(e=o("UnicodeUtils"))).getUTF16Length(t,S),k=t.substr(S,E);switch(l){case y:(s||(s=r("EmojiRendererData"))).isRegionalIndicator(L)?l=m:l=h;break;case p:if((s||(s=r("EmojiRendererData"))).isEmojiModifier(L)){l=_;break}case u:(s||(s=r("EmojiRendererData"))).isZWJ(L)?l=g:(s||(s=r("EmojiRendererData"))).isEmojiVariationSelector(L)?l=d:(s||(s=r("EmojiRendererData"))).isTextVariationSelector(L)?l=b:(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(L)?l=c:(s||(s=r("EmojiRendererData"))).isTagSpec(L)?l=f:l=h;break;case c:case d:if((s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(L))break;case m:case _:(s||(s=r("EmojiRendererData"))).isZWJ(L)?l=g:(s||(s=r("EmojiRendererData"))).isTagSpec(L)?l=f:l=h;break;case f:(s||(s=r("EmojiRendererData"))).isTagSpec(L)||(s||(s=r("EmojiRendererData"))).isTagTerm(L)?l=f:l=h;break;case g:(s||(s=r("EmojiRendererData"))).isRegionalIndicator(L)?l=y:(s||(s=r("EmojiRendererData"))).isEmojiModifierBase(L)?l=p:(s||(s=r("EmojiRendererData"))).isEmoji(L)?l=u:l=h;break;case C:(s||(s=r("EmojiRendererData"))).isNonSpacingCombiningMark(L)?l=c:(s||(s=r("EmojiRendererData"))).isEmojiVariationSelector(L)?l=d:l=h;break;default:l=h;break}if(l===h){if((s||(s=r("EmojiRendererData"))).isRegionalIndicator(L)?l=y:(s||(s=r("EmojiRendererData"))).isEmojiModifierBase(L)?l=p:(s||(s=r("EmojiRendererData"))).isText(L)?l=C:(s||(s=r("EmojiRendererData"))).isEmoji(L)&&(l=u),l!==h){if(a!==null&&v(a.emoji)&&i.push(a),n!==null&&n===i.length){a=null;break}a={emoji:[k],length:E,offset:S}}}else a!==null&&(a.emoji.push(k),a.length+=E);S+=E}return a!==null&&v(a.emoji)&&i.push(a),i}function R(e,t,n){var r=S(e),o=[],a=0;return r.forEach(function(n){var r=n.offset;r>a&&o.push(e.substr(a,r-a));var i=t(n.emoji);i!=null&&o.push(i),a=r+n.length}),o.push(e.substr(a,e.length-a)),o}function L(e){return S(e,1).length===1}function E(e){return S(e).length}l.parse=S,l.render=R,l.containsEmoji=L,l.countEmoji=E}),98);
__d("EmoticonsList",[],(function(t,n,r,o,a,i){a.exports={emotes:{"O:)":"angel","O:-)":"angel","0:)":"angel","0:-)":"angel","'-_-":"coldsweat",":3":"colonthree","o.O":"confused",O_O:"confused",o_o:"confused","0_0":"confused","O.o":"confused_rev",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil",":dog:":"dog","-3-":"flushkiss",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp","=D":"grin",":-D":"grin",":D":"grin",">:(":"grumpy",">:-(":"grumpy","<3":"heart","&lt;3":"heart","^_^":"kiki","^~^":"kiki",":*":"kiss",":-*":"kiss","(y)":"like",":like:":"like","(Y)":"like",T_T:"loudly_crying","T-T":"loudly_crying",ToT:"loudly_crying","T.T":"loudly_crying",":-|":"neutral",":|":"neutral",":v":"pacman",":V":"pacman",'<(")':"penguin",">_<":"persevere",">.<":"persevere",":poop:":"poop",":|]":"robot","(^^^)":"shark",":)":"smile",":-)":"smile",":]":"smile","(:":"smile","=)":"smilingface","(=":"smilingface","-_-":"squint","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses","B-)":"sunglasses","8-)":"sunglasses","8)":"sunglasses","(n)":"thumbsdown","(N)":"thumbsdown",":+1:":"thumbsup",":thumbsup:":"thumbsup",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue",":trans:":"transflag",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",";)":"wink",";-)":"wink",";*":"winkkiss",";-*":"winkkiss",";-P":"winktongue",";P":"winktongue",";-p":"winktongue",";p":"winktongue",":cheese:":"cheesewedge",":eyes:":"eyes",":peek:":"eyes",":clown:":"clown"},symbols:{angel:"O:)",coldsweat:"'-_-",colonthree:":3",confused:"o.O",confused_rev:"O.o",cry:":'(",devil:"3:)",dog:":dog:",flushkiss:"-3-",frown:":(",gasp:":o",grin:"=D",grumpy:">:(",heart:"<3",kiki:"^_^",kiss:":*",like:"(y)",loudly_crying:"T_T",neutral:":-|",pacman:":v",penguin:'<(")',persevere:">_<",poop:":poop:",robot:":|]",shark:"(^^^)",smile:":)",smilingface:"=)",squint:"-_-",sunglasses:"B|",thumbsdown:"(n)",thumbsup:":+1:",tongue:":P",transflag:":trans:",unsure:":/",upset:">:o",wink:";)",winkkiss:";*",winktongue:";-P",cheesewedge:":cheese:",eyes:":eyes:",clown:":clown:"},emoji:{angel:"1f607",coldsweat:"1f613",colonthree:"FACE_WITH_COLON_THREE",confused:"1f633",confused_rev:"1f633",cry:"1f622",devil:"1f608",dog:"1f436",flushkiss:"1f61a",frown:"1f641",gasp:"1f62e",grin:"1f603",grumpy:"1f620",heart:"2764",kiki:"1f60a",kiss:"1f618",like:"LIKE",loudly_crying:"1f62d",neutral:"1f610",pacman:"PACMAN",penguin:"1f427",persevere:"1f623",poop:"1f4a9",robot:"1f916",shark:"1f988",smile:"1f642",smilingface:"1f60a",squint:"1f611",sunglasses:"1f60e",thumbsdown:"1f44e",thumbsup:"1f44d",tongue:"1f61b",transflag:"1f3f3_fe0f_200d_26a7_fe0f",unsure:"1f615",upset:"1f620",wink:"1f609",winkkiss:"1f618",winktongue:"1f61c",cheesewedge:"1f9c0",eyes:"1f440",clown:"1f921"},regexp:/(^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)([\s\'\".,!?\)]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".\(])(O:\)(?!\))|O:\-\)(?!\))|0:\)(?!\))|0:\-\)(?!\))|\'\-_\-|:3|o\.O|O_O|o_o|0_0|O\.o|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|:dog:|\-3\-|:\(|:\-\(|:\[|=\(|\)=|:o|:\-O|:O|:\-o|=D|:\-D|:D|>:\(|>:\-\(|<3|&lt;3|\^_\^|\^~\^|:\*|:\-\*|\(y\)(?!\))|:like:|\(Y\)(?!\))|T_T|T\-T|ToT|T\.T|:\-\||:\||:v|:V|<\(\"\)(?!\))|>_<|>\.<|:poop:|:\|\]|\(\^\^\^\)(?!\))|:\)(?!\))|:\-\)(?!\))|:\]|\(:|=\)(?!\))|\(=|\-_\-|B\||8\-\||8\||B\-\||B\-\)(?!\))|8\-\)(?!\))|8\)(?!\))|\(n\)(?!\))|\(N\)(?!\))|:\+1:|:thumbsup:|:P|:\-P|:\-p|:p|=P|:trans:|:\/|:\-\/|:\\|:\-\\|=\/|=\\|>:o|>:O|>:\-O|>:\-o|;\)(?!\))|;\-\)(?!\))|;\*|;\-\*|;\-P|;P|;\-p|;p|:cheese:|:eyes:|:peek:|:clown:)(?:[\s\'\".,!?\)]|<br>|$)/}}),null);
__d("EmoticonRenderer",["EmoticonsList"],(function(t,n,r,o,a,i,l){"use strict";var e=["LIKE","PACMAN","FACE_WITH_COLON_THREE"];function s(t){for(var n=[],r=new RegExp(o("EmoticonsList").regexp),a=0,i=t.match(r);i!==null;){var l=i[1],s=i[2].split(""),u=o("EmoticonsList").emotes[i[2]],c=o("EmoticonsList").emoji[u];n.push({chars:s,isCustom:e.includes(c),key:c,offset:a+i.index+l.length}),a+=i.index+i[0].length,i=t.slice(a).match(r)}return n}function u(e,t,n){var r=s(e),o=[],a=0;return r.forEach(function(r){var i=r.offset;i>a&&o.push(e.substr(a,i-a)),r.isCustom?o.push(n(r.key,r.chars)):o.push(t(r.key)),a=i+r.chars.length}),o.push(e.substr(a,e.length-a)),o}l.parse=s,l.render=u}),98);
__d("EphemeralMediaViewMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});i.default=e}),66);
__d("LSAppendDataTraceAddonStoredProcedure",["LSAppendDataTraceAddon","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSAppendDataTraceAddon"),a.dataTraceId,a.checkPointId,a.syncChannel,a.errorMessage,a.tags);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSContactGender",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,FEMALE:1,MALE:2,NEUTER:3});i.default=e}),66);
__d("LSContactIdType",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,FBID:1,SMS_LOCAL_ID:2});i.default=e}),66);
__d("LSContactUserBlockAction",[],(function(t,n,r,o,a,i){var e=Object.freeze({MN_UNBLOCK:0,MN_BLOCK:1,FB_UNBLOCK:2,FB_BLOCK:3});i.default=e}),66);
__d("LSContactWorkForeignEntityType",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,FOREIGN:1,NOT_FOREIGN:2,NOT_FOREIGN_LIMITED:3});i.default=e}),66);
__d("LSDataTraceTag",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1,s=2,u=3,c=4,d=5,m=6,p=7,_=20,f=21,g=22,h=23,y=24,C=25,b=26,v=27,S=28,R=29,L=30,E=31,k=32,I=33,T=34,D=35,x=36,$=37,P=38,N=39,M=40,w=41,A=42;i.none=e,i.sticker=l,i.image=s,i.animatedImage=u,i.video=c,i.audio=d,i.file=m,i.xma=p,i.messageTypeNone=_,i.messageTypeText=f,i.messageTypeFutureproof=g,i.messageTypeCiphertext=h,i.messageTypeUnavailable=y,i.messageTypeImage=C,i.messageTypeVideo=b,i.messageTypePtt=v,i.messageTypeAdmin=S,i.messageTypeRevoked=R,i.messageTypeGif=L,i.messageTypeSticker=E,i.messageTypeExpiredEphemeral=k,i.messageTypeEphemeralSettingAdmin=I,i.messageTypeEphemeralSyncResponse=T,i.messageTypeEphemeralScreenshotAction=D,i.messageTypeDeleteForMe=x,i.messageTypeEphemeralSettingChangeFromCurrentDevice=$,i.messageTypeAlertICDC=P,i.messageTypeGroupInvite=N,i.messageTypeXMA=M,i.messageTypeReaction=w,i.messageTypeSenderKeyDistribution=A}),66);
__d("LSHotEmojiSize",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});i.default=e}),66);
__d("LSMEBTaskCreationSource",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,MEM_RECEIVE_PROTOBUF_ONLY_FBN:16,MEM_SEND_PROTOBUF_ONLY_FBN:17,MEM_PEER_SYNC_PROTOBUF_ONLY_FBN:18,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,DELTA_GENERIC_MESSAGE_SYNC:55,MEDIA_GALLERY_RESTORE:57,EB_PROTOBUF_RESTORE_NO_OP:58,NEW_MEMBER_EXPORT:59,THREAD_POINT_QUERY:76,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49,EB_POINT_QUERY_RESTORE_ON_DECRYPTION_FAILURE:50,EB_POINT_QUERY_RESTORE_ON_UNAVAILABLE_DEVICE:51,EB_RANGE_QUERY_RESTORE_ON_THREAD_SESSION_ACTIVATE:52,EB_POINT_QUERY_PINNED_MESSAGES:53,EB_POINT_QUERY_RESTORE_PROTOBUF:54,EB_POINT_QUERY_IN_ACT_REACTIONS:56,EB_POINT_QUERY_BUMP_MESSAGES:60,EB_POINT_QUERY_IN_ACT_FOR_INCOMING_RETRY_RECEIPT:61,EB_POINT_QUERY_IN_ACT_FOR_REPORTING:62,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_STATUS_UPDATE:63,EB_POINT_QUERY_IN_ACT_FOR_REPL_TEST:64,EB_POINT_QUERY_IN_ACT_FOR_FACEBOOK_APP_NSE_NOTIFICATION_RENDERING:65,EB_POINT_QUERY_IN_ACT_FOR_MESSAGE_EXPORT_HANDLING:66,EB_POINT_QUERY_IN_ACT_FOR_TAM_ACT_PROXY:67,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_MESSAGE:68,EB_POINT_QUERY_IN_ACT_FOR_REALTIME_INCOMING_AI_BOT_MESSAGE:69,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_PERSISTENCE:70,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_INDEXING:71,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_NEW_MEMBER_HYDRATION:72,EB_POINT_QUERY_IN_ACT_FOR_ENCRYPTED_BACKUPS_RESTORE_FOR_ECHO_TO_PROTO_CONVERSION:73,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_HISTORICAL_FUTURE_PROOF:74,EB_POINT_QUERY_IN_ACT_FOR_PENDING_MESSAGE_RECOVERY_REALTIME_BLOCKED:75,EB_POINT_QUERY_TO_FETCH_SENDER_DEVICE_KEYS:77,RESONANCE_UTILS:80,MPS_RESTORE_REVERB_RESTORE:81,REPORTING:82,CLIENT_MESSAGE_TRUNCATION:83,CALLING_XMA:84,EB_ACT_ATTACHMENT_RESTORE:85,EB_MEB_ATTACHMENT_ACCESS_CONTROL_RESTORE:86,FORCE_CLIENT_MESSAGE_TRUNCATION:87,ACT_EDIT_MESSAGE_VALIDATION:88,ACT_REVOKE_MESSAGE_VALIDATION:89,REVERB_CLEANUP_HANDLER_SINGLE_MESSAGE_POINT_QUERY:90,REVERB_CLEANUP_HANDLER_RESTORE_MESSAGES_BEFORE_QUERY:91,REVERB_CLEANUP_HANDLER_RESTORE_MESSAGES_AFTER_QUERY:92,REVERB_CLEANUP_HANDLER_RESTORE_MESSAGES_SURROUNDING_QUERY:93,ACT_FETCH_LOCAL_ONLY_MESSAGE_PK_AND_LOCAL_BACKUP_RESTORE:94,ACT_FETCH_LOCAL_ONLY_MESSAGE_PK_AND_ENCRYPTED_BACKUP_RESTORE:95,FILE_GALLERY_RESTORE:96});i.default=e}),66);
__d("LSQplAnnotateInt.nop",["EBMarkerIdToQPLEvent","I64","Promise","QPLUserFlow","WAHashStringToNumber","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(a,i,l,u,c,d){try{var t,m=r("nullthrows")(o("EBMarkerIdToQPLEvent").markerIdToQPLEvent(l)),p=o("WAHashStringToNumber").hashStringToNumber(u);return r("QPLUserFlow").addAnnotations(m,{int:(t={},t[c]=(s||(s=o("I64"))).to_int32(d),t)},{instanceKey:p}),(e||(e=n("Promise"))).resolve()}catch(t){return(e||(e=n("Promise"))).resolve()}};u.__nop_name__="LSQplAnnotateInt",l.default=u}),98);
__d("LSRequestId",["uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="0123456789abcdef",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function u(){for(var t=r("uuidv4")().replace(/[^0-9a-f]/gi,""),n=0,o=["#"];n<33;){var a=e.indexOf(t.charAt(n))<<8,i=e.indexOf(t.charAt(n+1))<<4,l=e.indexOf(t.charAt(n+2)),u=l|(i|a),c=u>>6;o.push(s.charAt(c)),o.push(s.charAt(u&63)),n+=3}return o.join("")}var c={generate:u};l.default=c}),98);
__d("LSThreadMediaGalleryGroup",[],(function(t,n,r,o,a,i){var e=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});i.default=e}),66);
__d("LSVerifyContactRowExistsStoredProcedure",["LSSynchronousPromise","LSVerifyContactRowExists","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyContactRowExists"),a.id,a.contactIdType,a.profilePictureUrl,a.name,a.contactType,a.profilePictureFallbackUrl,a.profilePictureUrlExpirationTimestampMs,a.urlExpirationTimestampMs,a.normalizedNameForSearch,a.isMemorialized,a.isBlocked,a.blockedByViewerStatus,a.canViewerMessage,a.isSelf,a.authorityLevel,a.capabilities,a.capabilities2,a.workForeignEntityType,a.gender,a.contactViewerRelationship,a.secondaryName,a.firstName,a.friendshipStatus);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function u(e){return e>0}function c(t){switch(t){case s.partialOptimistic:return(e||(e=o("LSIntEnum"))).ofNumber(0);case s.clock:return(e||(e=o("LSIntEnum"))).ofNumber(1);case s.sent:case s.received:case s.read:case s.played:return(e||(e=o("LSIntEnum"))).ofNumber(2);case s.failedRetryable:return(e||(e=o("LSIntEnum"))).ofNumber(5);default:return(e||(e=o("LSIntEnum"))).ofNumber(4)}}function d(t){switch(t){case s.partialOptimistic:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").NONE);case s.clock:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER);case s.sent:case s.received:case s.read:case s.played:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").SERVER_RECEIVED);case s.failedRetryable:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").RETRIABLE_ERROR);default:return(e||(e=o("LSIntEnum"))).ofNumber(r("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}l.ACK=s,l.isMsgAuthoritative=u,l.levelToMessagingSendStatusV2=c,l.levelToMessagingSendStatus=d}),98);
__d("MAWAdminMsgType",[],(function(t,n,r,o,a,i){"use strict";var e="currentUserAddedDevice",l="participantAddedDevice",s="currentUserRemovedDevice",u="participantRemovedDevice",c="currentUserUpdatedDevice",d="participantUpdatedDevice",m="participantAddedYou",p="participantAddedYouAndOneUser",_="participantAddedYouAndMoreThanOneUsers",f="unknowUserAddedYou",g="unknowUserAddedYouAndOneUser",h="unknowUserAddedYouAndMoreThanOneUser",y="unknownUserAddedOneUser",C="unknownUserAddedTwoUser",b="unknownUserAddedMoreThanTwoUser",v="participantAddedOneUser",S="participantAddedTwoUser",R="participantAddedMoreThanTwoUser",L="currentUserRemovedOneParticipant",E="currentUserRemovedTwoParticipant",k="currentUserRemovedMoreThanTwoParticipant",I="currentUserAddedOneParticipant",T="currentUserAddedTwoParticipant",D="currentUserAddedMoreThanTwoParticipant",x="participantRemovedYou",$="participantRemovedYouAndOneUser",P="participantRemovedYouAndMoreThanOneUsers",N="unknowUserRemovedYou",M="unknowUserRemovedYouAndOneUser",w="unknowUserRemovedYouAndMoreThanOneUser",A="unknownUserRemovedOneUser",F="unknownUserRemovedTwoUser",O="unknownUserRemovedMoreThanTwoUser",B="participantRemovedOneUser",W="participantRemovedTwoUser",q="participantRemovedMoreThanTwoUser",U="participantLeftGroup",V="currentUserLeftGroup",H="participantCustomizeParticipantNickname",G="participantClearParticipantNickname",z="participantCustomizeCurrentUserNickname",j="currentUserSetOwnNickname",K="currentUserClearOwnNickname",Q="currentUserClearParticipantNickname",X="participantSetOwnNickname",Y="participantClearOwnNickname",J="participantClearCurrentUserNickname",Z="currentUserCustomizeNickname",ee="currentUserNamedGroup",te="unkonwnUserNamedGroup",ne="participantNamedGroup",re="currentUserCustomizeHotlike",oe="participantCustomizeHotlike",ae="currentUserCustomizeTheme",ie="currentUserCustomizeAITheme",le="currentUserCustomizePhoto",se="participantCustomizeTheme",ue="participantCustomizeAITheme",ce="participantCustomizePhoto",de="currentUserSetAddModeAdminOnly",me="currentUserSetAddModeAllMembers",pe="participantSetAddModeAdminOnly",_e="participantSetAddModeAllMembers",fe="serverSetAddModeAdminOnly",ge="serverSetAddModeAllMembers",he="currentUserPinnedMessage",ye="currentUserUnpinnedMessage",Ce="participantPinnedMessage",be="participantUnpinnedMessage",ve="currentUserLimitSharingDisabled",Se="currentUserLimitSharingEnabled",Re="participantLimitSharingDisabled",Le="participantLimitSharingEnabled",Ee="cutoverThreadAdminMessage",ke="cutoverIGDThreadAdminMessage",Ie="cutoverRollbackAdminMessage",Te="dualThreadCutoverAdminMessage",De="dualThreadCutoverAdminMessageSelfThread",xe="dualThreadCutoverAdminMessageWithOtherUserName",$e="dualThreadCutoverAdminMessageOtherUserNameUnknown",Pe="e2eeThreadDescription",Ne="e2eeThreadUKOSAAdminMessage",Me="debugMsg",we="reachabilityError",Ae="twoUsersConnected",Fe="twoUsersConnectedOneMSplit",Oe="CurrentUserCreatedPoll",Be="ParticipantCreatedPoll",We="CurrentUserAddedPollOption",qe="ParticipantAddedPollOption",Ue="CurrentUserAddedMultiplePollOptions",Ve="ParticipantAddedMultiplePollOptions",He="CurrentUserAddedPollVote",Ge="ParticipantAddedPollVote",ze="CurrentUserAddedMultiplePollVotes",je="ParticipantAddedMultiplePollVotes",Ke="CurrentUserRemovedPollVote",Qe="ParticipantRemovedPollVote",Xe="CurrentUserRemovedMultiplePollVotes",Ye="ParticipantRemovedMultiplePollVotes",Je="CurrentUserMixedPollUpdate",Ze="ParticipantMixedPollUpdate",et="CurrentUserChangedPollVote",tt="ParticipantChangedPollVote",nt="CurrentUserChangedMultiplePollVotes",rt="ParticipantChangedMultiplePollVotes",ot="PollUnsentUpdate",at={CURRENT_USER_ADDED_DEVICE:e,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:D,CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:Ue,CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:ze,CURRENT_USER_ADDED_ONE_PARTICIPANT:I,CURRENT_USER_ADDED_POLL_OPTION:We,CURRENT_USER_ADDED_POLL_VOTE:He,CURRENT_USER_ADDED_TWO_PARTICIPANTS:T,CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:nt,CURRENT_USER_CHANGED_POLL_VOTE:et,CURRENT_USER_CLEAR_OWN_NICKNAME:K,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:Q,CURRENT_USER_CREATED_POLL:Oe,CURRENT_USER_CUSTOMIZE_AI_THEME:ie,CURRENT_USER_CUSTOMIZE_HOTLIKE:re,CURRENT_USER_CUSTOMIZE_NICKNAME:Z,CURRENT_USER_CUSTOMIZE_PHOTO:le,CURRENT_USER_CUSTOMIZE_THEME:ae,CURRENT_USER_LEFT_GROUP:V,CURRENT_USER_LIMIT_SHARING_DISABLED:ve,CURRENT_USER_LIMIT_SHARING_ENABLED:Se,CURRENT_USER_MIXED_POLL_UPDATE:Je,CURRENT_USER_NAMED_GROUP:ee,CURRENT_USER_PINNED_MESSAGE:he,CURRENT_USER_REMOVED_DEVICE:s,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:k,CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:Xe,CURRENT_USER_REMOVED_ONE_PARTICIPANT:L,CURRENT_USER_REMOVED_POLL_VOTE:Ke,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:E,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:de,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:me,CURRENT_USER_SET_OWN_NICKNAME:j,CURRENT_USER_UNPINNED_MESSAGE:ye,CURRENT_USER_UPDATED_DEVICE:c,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:ke,CUTOVER_ROLLBACK_ADMIN_MESSAGE:Ie,CUTOVER_THREAD_ADMIN_MESSAGE:Ee,DEBUG_MSG:Me,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:Te,E2EE_THREAD_DESCRIPTION:Pe,E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:Ne,PARTICIPANT_ADDED_DEVICE:l,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:R,PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:Ve,PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:je,PARTICIPANT_ADDED_ONE_USER:v,PARTICIPANT_ADDED_POLL_OPTION:qe,PARTICIPANT_ADDED_POLL_VOTE:Ge,PARTICIPANT_ADDED_TWO_USER:S,PARTICIPANT_ADDED_YOU:m,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:_,PARTICIPANT_ADDED_YOU_AND_ONE_USER:p,PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:rt,PARTICIPANT_CHANGED_POLL_VOTE:tt,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:J,PARTICIPANT_CLEAR_OWN_NICKNAME:Y,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:G,PARTICIPANT_CREATED_POLL:Be,PARTICIPANT_CUSTOMIZE_AI_THEME:ue,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:z,PARTICIPANT_CUSTOMIZE_HOTLIKE:oe,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:H,PARTICIPANT_CUSTOMIZE_PHOTO:ce,PARTICIPANT_CUSTOMIZE_THEME:se,PARTICIPANT_LEFT_GROUP:U,PARTICIPANT_LIMIT_SHARING_DISABLED:Re,PARTICIPANT_LIMIT_SHARING_ENABLED:Le,PARTICIPANT_MIXED_POLL_UPDATE:Ze,PARTICIPANT_NAMED_GROUP:ne,PARTICIPANT_PINNED_MESSAGE:Ce,PARTICIPANT_REMOVED_DEVICE:u,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:q,PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:Ye,PARTICIPANT_REMOVED_ONE_USER:B,PARTICIPANT_REMOVED_POLL_VOTE:Qe,PARTICIPANT_REMOVED_TWO_USER:W,PARTICIPANT_REMOVED_YOU:x,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:P,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:$,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:pe,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:_e,PARTICIPANT_SET_OWN_NICKNAME:X,PARTICIPANT_UNPINNED_MESSAGE:be,PARTICIPANT_UPDATED_DEVICE:d,POLL_UNSENT_UPDATE:ot,REACHABILITY_ERROR:we,SERVER_SET_ADD_MODE_ADMIN_ONLY:fe,SERVER_SET_ADD_MODE_ALL_MEMBERS:ge,TWO_USERS_CONNECTED:Ae,TWO_USERS_CONNECTED_ONE_MSPLIT:Fe,UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:b,UNKNOWN_USER_ADDED_ONE_USER:y,UNKNOWN_USER_ADDED_TWO_USER:C,UNKNOWN_USER_ADDED_YOU:f,UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:h,UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:g,UNKNOWN_USER_NAMED_GROUP:te,UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER:O,UNKNOWN_USER_REMOVED_ONE_USER:A,UNKNOWN_USER_REMOVED_TWO_USER:F,UNKNOWN_USER_REMOVED_YOU:N,UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:w,UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER:M};i.CURRENT_USER_ADDED_DEVICE=e,i.CURRENT_USER_PINNED_MESSAGE=he,i.CURRENT_USER_UNPINNED_MESSAGE=ye,i.PARTICIPANT_PINNED_MESSAGE=Ce,i.PARTICIPANT_UNPINNED_MESSAGE=be,i.CURRENT_USER_LIMIT_SHARING_DISABLED=ve,i.CURRENT_USER_LIMIT_SHARING_ENABLED=Se,i.PARTICIPANT_LIMIT_SHARING_DISABLED=Re,i.PARTICIPANT_LIMIT_SHARING_ENABLED=Le,i.CUTOVER_THREAD_ADMIN_MESSAGE=Ee,i.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=ke,i.CUTOVER_ROLLBACK_ADMIN_MESSAGE=Ie,i.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=Te,i.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD=De,i.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME=xe,i.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN=$e,i.E2EE_THREAD_DESCRIPTION=Pe,i.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE=Ne,i.CURRENT_USER_CREATED_POLL=Oe,i.PARTICIPANT_CREATED_POLL=Be,i.CURRENT_USER_ADDED_POLL_OPTION=We,i.PARTICIPANT_ADDED_POLL_OPTION=qe,i.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS=Ue,i.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS=Ve,i.CURRENT_USER_ADDED_POLL_VOTE=He,i.PARTICIPANT_ADDED_POLL_VOTE=Ge,i.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES=ze,i.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES=je,i.CURRENT_USER_REMOVED_POLL_VOTE=Ke,i.PARTICIPANT_REMOVED_POLL_VOTE=Qe,i.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES=Xe,i.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES=Ye,i.CURRENT_USER_MIXED_POLL_UPDATE=Je,i.PARTICIPANT_MIXED_POLL_UPDATE=Ze,i.CURRENT_USER_CHANGED_POLL_VOTE=et,i.PARTICIPANT_CHANGED_POLL_VOTE=tt,i.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES=nt,i.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES=rt,i.POLL_UNSENT_UPDATE=ot,i.ADMIN_MSG_TYPE=at}),66);
__d("MAWLocalizationType",["MAWAdminMsgType"],(function(t,n,r,o,a,i,l){"use strict";var e="emptySnippet",s="currentUserCreatedGroup",u="participantCreatedGroup",c="unknownUserCreatedGroup",d="currentUserGotPromoted",m="currentUserGotDemoted",p="participantGotPromoted",_="participantGotDemoted",f="participantPromotedYou",g="participantDemotedYou",h="currentUserPromotedParticipant",y="currentUserDemotedParticipant",C="participantDemotedParticipant",b="participantPromotedParticipant",v="participantSelfDemoted",S="currentUserSelfDemoted",R="currentUserSendText",L="currentUserSendImage",E="currentUserSendVideo",k="currentUserSendAudio",I="currentUserSendGif",T="currentUserSendSticker",D="participantSendText",x="participantSendTextInGroup",$="participantSendImage",P="participantSendVideo",N="participantSendAudio",M="participantSendGif",w="participantSendSticker",A="unavailableSnippet",F="messageUnavailableSnippet",O="unknownUserEphemeralSettingTurnedOnSeconds",B="unknownUserEphemeralSettingTurnedOnMinutes",W="unknownUserEphemeralSettingTurnedOnHours",q="unknownUserEphemeralSettingTurnedOnDays",U="youEphemeralSettingTurnedOnSeconds",V="youEphemeralSettingTurnedOnMinutes",H="youEphemeralSettingTurnedOnHours",G="youEphemeralSettingTurnedOnDays",z="participantEphemeralSettingTurnedOnSeconds",j="participantEphemeralSettingTurnedOnMinutes",K="participantEphemeralSettingTurnedOnHours",Q="participantEphemeralSettingTurnedOnDays",X="unknownUserEphemeralSettingChangeSeconds",Y="unknownUserEphemeralSettingChangeMinutes",J="unknownUserEphemeralSettingChangeHours",Z="unknownUserEphemeralSettingChangeDays",ee="youEphemeralSettingChangeSeconds",te="youEphemeralSettingChangeMinutes",ne="youEphemeralSettingChangeHours",re="youEphemeralSettingChangeDays",oe="participantEphemeralSettingChangeSeconds",ae="participantEphemeralSettingChangeMinutes",ie="participantEphemeralSettingChangeHours",le="participantEphemeralSettingChangeDays",se="unknownUserEphemeralSettingTurnedOff",ue="youEphemeralSettingTurnedOff",ce="participantEphemeralSettingTurnedOff",de="ephemeralSettingsAutoReset",me="currentUserUnsentMessage",pe="participantUnsentMessage",_e="participantReactMessage",fe="participantReactMessageInGroup",ge="unknownUserEphemeralTakeScreenshot",he="unknownUserEphemeralRecordScreen",ye="youEphemeralTakeScreenshot",Ce="youEphemeralRecordScreen",be="participantEphemeralTakeScreenshot",ve="participantEphemeralRecordScreen",Se="icdcAlertAdminMessage",Re="yourDeviceICDCAlertAdminMessage",Le="currentUserSendAttachment",Ee="participantSendAttachment",ke="currentUserSentPost",Ie="currentUserSentReel",Te="currentUserSentStory",De="currentUserSentEvent",xe="currentUserMentionedStoryIG",$e="currentUserReceivedStoryMentionIG",Pe="participantSentPost",Ne="participantSentReel",Me="participantSentStory",we="participantSentEvent",Ae="currentUserSentStoryHighlight",Fe="participantSentStoryHighlight",Oe="currentUserMissedAudioCall",Be="participantMissedAudioCall",We="currentUserMissedVideoCall",qe="participantMissedVideoCall",Ue="currentUserAudioCalled",Ve="participantAudioCalled",He="currentUserVideoCalled",Ge="participantVideoCalled",ze="currentUserStartedGroupAudioCall",je="participantStartedGroupAudioCall",Ke="currentUserStartedGroupVideoCall",Qe="participantStartedGroupVideoCall",Xe="currentUserBumpedOwnMessage",Ye="currentUserBumpedMessage",Je="participantBumpedOwnMessage",Ze="participantBumpedParticipantMessage",et="participantBumpedCurrentUserMessage",tt="userSendUnavailableMessage",nt="userSendEncryptedMessage",rt="currentUserSendUnrenderableMessage",ot="participantSendUnrenderableMessage",at="currentUserSendLocationFallback",it="participantSendLocation",lt="currentUserSendLiveLocationFallback",st="participantSendLiveLocation",ut="currentUserSendLocation",ct="participantSendLocation",dt="currentUserSendPollCreationFallback",mt="participantSendPollCreation",pt="currentUserSendContactShareFallback",_t="participantSendContactShareFallback",ft="currentUserSendContactShare",gt="participantSendContactShare",ht="currentUserSendAIContactShare",yt="participantSendAIContactShare",Ct="currentUserSendStoryMentionFallback",bt="currentUserSendStoryMention",vt="participantSendStoryMention",St="participantSendStoryMentionFallback",Rt="currentUserSendPostMentionFallback",Lt="participantSendPostMentionFallback",Et="currentUserSendMemoriesShare",kt="participantSendMemoriesShare",It="currentUserSendPostMention",Tt="participantSendPostMention",Dt="currentUserSendNoteMentionFallback",xt="participantSendNoteMentionFallback",$t="messengerMemoryEncryptedMessageFallback",Pt="rtcXMAMessageFallback",Nt="metaAISendMessageFallback",Mt="currentUserSendBumpMessageFallback",wt="participantSendBumpMessageFallback",At="participantSendBumpMessageOriginalUnavailable",Ft="currentUserSendStickerReceiverFetchMessageFallback",Ot="participantSendStickerReceiverFetchMessageFallback",Bt="viewOncePhotoMessageFallback",Wt="viewOnceVideoMessageFallback",qt="unavailableStory",Ut="currentUserLimitSharingDisabled",Vt="currentUserLimitSharingEnabled",Ht="participantLimitSharingDisabled",Gt="participantLimitSharingEnabled",zt="dualThreadCutoverAdminMessageOtherUserNameUnknown",jt="dualThreadCutoverAdminMessageSelfThread",Kt="dualThreadCutoverAdminMessageWithOtherUserName",Qt=babelHelpers.extends({},o("MAWAdminMsgType").ADMIN_MSG_TYPE,{CURRENT_USER_AUDIO_CALLED:Ue,CURRENT_USER_BUMPED_MESSAGE:Ye,CURRENT_USER_BUMPED_OWN_MESSAGE:Xe,CURRENT_USER_CREATED_GROUP:s,CURRENT_USER_DEMOTED_PARTICIPANT:y,CURRENT_USER_GOT_DEMOTED:m,CURRENT_USER_GOT_PROMOTED:d,CURRENT_USER_LIMIT_SHARING_DISABLED:Ut,CURRENT_USER_LIMIT_SHARING_ENABLED:Vt,CURRENT_USER_MENTIONED_STORY_IG:xe,CURRENT_USER_MISSED_AUDIO_CALL:Oe,CURRENT_USER_MISSED_VIDEO_CALL:We,CURRENT_USER_PROMOTED_PARTICIPANT:h,CURRENT_USER_RECEIVED_STORY_MENTION_IG:$e,CURRENT_USER_SELF_DEMOTED:S,CURRENT_USER_SEND_AI_CONTACT_SHARE:ht,CURRENT_USER_SEND_ATTACHMENT:Le,CURRENT_USER_SEND_AUDIO:k,CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:Mt,CURRENT_USER_SEND_CONTACT_SHARE:ft,CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:pt,CURRENT_USER_SEND_GIF:I,CURRENT_USER_SEND_IMAGE:L,CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:lt,CURRENT_USER_SEND_LOCATION:ut,CURRENT_USER_SEND_LOCATION_FALLBACK:at,CURRENT_USER_SEND_MEMORIES_SHARE:Et,CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:Dt,CURRENT_USER_SEND_POLL_CREATION_FALLBACK:dt,CURRENT_USER_SEND_POST_MENTION:It,CURRENT_USER_SEND_POST_MENTION_FALLBACK:Rt,CURRENT_USER_SEND_STICKER:T,CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Ft,CURRENT_USER_SEND_STORY_MENTION:bt,CURRENT_USER_SEND_STORY_MENTION_FALLBACK:Ct,CURRENT_USER_SEND_TEXT:R,CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:rt,CURRENT_USER_SEND_VIDEO:E,CURRENT_USER_SENT_EVENT:De,CURRENT_USER_SENT_POST:ke,CURRENT_USER_SENT_REEL:Ie,CURRENT_USER_SENT_STORY:Te,CURRENT_USER_SENT_STORY_HIGHLIGHT:Ae,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:ze,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:Ke,CURRENT_USER_UNSENT_MESSAGE:me,CURRENT_USER_VIDEO_CALLED:He,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:zt,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:jt,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:Kt,EMPTY_SNIPPET:e,EPHEMERAL_SETTINGS_AUTO_RESET:de,ICDC_ALERT_ADMIN_MESSAGE:Se,MESSAGE_UNAVAILABLE_SNIPPET:F,MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:$t,META_AI_SEND_MESSAGE_FALLBACK:Nt,PARTICIPANT_AUDIO_CALLED:Ve,PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:et,PARTICIPANT_BUMPED_OWN_MESSAGE:Je,PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:Ze,PARTICIPANT_CREATED_GROUP:u,PARTICIPANT_DEMOTED_PARTICIPANT:C,PARTICIPANT_DEMOTED_YOU:g,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:ve,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:le,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:ie,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:ae,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:oe,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:ce,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:Q,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:K,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:j,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:z,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:be,PARTICIPANT_GOT_DEMOTED:_,PARTICIPANT_GOT_PROMOTED:p,PARTICIPANT_LIMIT_SHARING_DISABLED:Ht,PARTICIPANT_LIMIT_SHARING_ENABLED:Gt,PARTICIPANT_MISSED_AUDIO_CALL:Be,PARTICIPANT_MISSED_VIDEO_CALL:qe,PARTICIPANT_PROMOTED_PARTICIPANT:b,PARTICIPANT_PROMOTED_YOU:f,PARTICIPANT_REACT_MESSAGE:_e,PARTICIPANT_REACT_MESSAGE_IN_GROUP:fe,PARTICIPANT_SELF_DEMOTED:v,PARTICIPANT_SEND_AI_CONTACT_SHARE:yt,PARTICIPANT_SEND_ATTACHMENT:Ee,PARTICIPANT_SEND_AUDIO:N,PARTICIPANT_SEND_BUMP_MESSAGE:wt,PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK:At,PARTICIPANT_SEND_CONTACT_SHARE:gt,PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:_t,PARTICIPANT_SEND_GIF:M,PARTICIPANT_SEND_IMAGE:$,PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:st,PARTICIPANT_SEND_LOCATION:ct,PARTICIPANT_SEND_LOCATION_FALLBACK:it,PARTICIPANT_SEND_MEMORIES_SHARE:kt,PARTICIPANT_SEND_NOTE_MENTION_FALLBACK:xt,PARTICIPANT_SEND_POLL_CREATION_FALLBACK:mt,PARTICIPANT_SEND_POST_MENTION:Tt,PARTICIPANT_SEND_POST_MENTION_FALLBACK:Lt,PARTICIPANT_SEND_STICKER:w,PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Ot,PARTICIPANT_SEND_STORY_MENTION:vt,PARTICIPANT_SEND_STORY_MENTION_FALLBACK:St,PARTICIPANT_SEND_TEXT:D,PARTICIPANT_SEND_TEXT_IN_GROUP:x,PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:ot,PARTICIPANT_SEND_VIDEO:P,PARTICIPANT_SENT_EVENT:we,PARTICIPANT_SENT_POST:Pe,PARTICIPANT_SENT_REEL:Ne,PARTICIPANT_SENT_STORY:Me,PARTICIPANT_SENT_STORY_HIGHLIGHT:Fe,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:je,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:Qe,PARTICIPANT_UNSENT_MESSAGE:pe,PARTICIPANT_VIDEO_CALLED:Ge,RTC_XMA_FALLBACK:Pt,UNAVAILABLE_SNIPPET:A,UNAVAILABLE_STORY:qt,UNKNOWN_USER_CREATED_GROUP:c,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:he,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:Z,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:J,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:Y,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:X,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:se,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:q,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:W,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:B,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:O,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:ge,USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:nt,USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:tt,VIEW_ONCE_PHOTO_MESSAGE:Bt,VIEW_ONCE_VIDEO_MESSAGE:Wt,YOU_EPHEMERAL_RECORD_SCREEN:Ce,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:re,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:ne,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:te,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:ee,YOU_EPHEMERAL_SETTING_TURNED_OFF:ue,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:G,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:H,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:V,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:U,YOU_EPHEMERAL_TAKE_SCREENSHOT:ye,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:Re});l.CURRENT_USER_CREATED_GROUP=s,l.CURRENT_USER_SEND_TEXT=R,l.CURRENT_USER_SEND_IMAGE=L,l.CURRENT_USER_SEND_VIDEO=E,l.CURRENT_USER_SEND_AUDIO=k,l.CURRENT_USER_SEND_GIF=I,l.CURRENT_USER_SEND_STICKER=T,l.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=O,l.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=ge,l.CURRENT_USER_SEND_ATTACHMENT=Le,l.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN=zt,l.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD=jt,l.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME=Kt,l.LOCALIZATION_TYPE=Qt}),98);
__d("MAWAdminAddParticipantMsg",["MAWLocalizationType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=1;function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS}}}function u(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS}}}function c(e,t,n,r){switch(e){case 1:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER};case 2:return{adminMsgContent:[t,n,r],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER}}return{adminMsgContent:[t,n,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER}}function d(e,t){switch(e){case 1:return{adminMsgContent:[],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU};case 2:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER}}return{adminMsgContent:[(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER}}function m(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER};case 2:return{adminMsgContent:[t,n],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER}}return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER}}function p(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r=t[0],a=t[1],i=o("WAJids").userIdFromJid(r),l=a!=null?o("WAJids").userIdFromJid(a):"";if(e==null)return t.includes(n)?d(t.length,r===n?l:i):m(t.length,i,l);if(e===n)return u(t.length,i,l);var p=o("WAJids").userIdFromJid(e);return t.includes(n)?s(t.length,p,r===n?l:i):c(t.length,p,i,l)}function _(t,n){return babelHelpers.extends({},p(t,n),{version:e})}l.createAddParticipantsAdminMessage=_}),98);
__d("WAAckLevel",[],(function(t,n,r,o,a,i){"use strict";var e={SENDER_BACKFILL_SENT:-7,INACTIVE_RECEIVED:-6,CONTENT_UNUPLOADABLE:-5,CONTENT_TOO_BIG:-4,CONTENT_GONE:-3,EXPIRED:-2,FAILED:-1,CLOCK:0,SENT:1,RECEIVED:2,READ:3,PLAYED:4};i.ACK=e}),66);
__d("MAWAdminMsgHelpers",["MAWCreateParticipantAdminMsg","MAWExternalId","MAWRemoveParticipantAdminMsg","WAAckLevel","WAGlobals","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e="Facebook User",s=1;function u(t){return t==null||t===""?e:t}function c(t){return t!=null?o("WAJids").userIdFromJid(t):e}function d(e,t,n,r){return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:o("MAWCreateParticipantAdminMsg").createParticipantAdminMessage(n==="@me"?o("WAGlobals").getMyUserJid():n,t),serverTs:r,ts:r,type:"Admin"}}function m(e,t,n,r){return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:o("MAWRemoveParticipantAdminMsg").removeParticipantAdminMessage(n==="@me"?o("WAGlobals").getMyUserJid():n,t),serverTs:r,ts:r,type:"Admin"}}function p(e,t){return babelHelpers.extends({},_(e,t),{version:s})}function _(e,t){var n,r=o("WAGlobals").getMyUserJid(),a=t==="@me"?r:t;if(a===r)n={adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"currentUserPromotedParticipant"};else if(a==null)n=e===r?{adminMsgContent:[],adminType:"currentUserGotPromoted"}:{adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"participantGotPromoted"};else{var i=o("WAJids").userIdFromJid(a);n=e===r?{adminMsgContent:[i],adminType:"participantPromotedYou"}:{adminMsgContent:[i,o("WAJids").userIdFromJid(e)],adminType:"participantPromotedParticipant"}}return n}function f(e,t,n,r){var a=_(t,n);return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:a,serverTs:r,ts:r,type:"Admin"}}function g(e,t){return babelHelpers.extends({},h(e,t),{version:s})}function h(e,t){var n,r=o("WAGlobals").getMyUserJid(),a=t==="@me"?r:t;if(a===r)n=e===r?{adminMsgContent:[],adminType:"currentUserSelfDemoted"}:{adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"currentUserDemotedParticipant"};else if(a==null)n=e===r?{adminMsgContent:[],adminType:"currentUserGotDemoted"}:{adminMsgContent:[o("WAJids").userIdFromJid(e)],adminType:"participantGotDemoted"};else{var i=o("WAJids").userIdFromJid(a);n=e===r?{adminMsgContent:[i],adminType:"participantDemotedYou"}:{adminMsgContent:[i,o("WAJids").userIdFromJid(e)],adminType:a===e?"participantSelfDemoted":"participantDemotedParticipant"}}return n}function y(e,t,n,r){var a=h(t,n);return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:a,serverTs:r,ts:r,type:"Admin"}}function C(e,t,n,r){var a,i=[],l=t.subject.content;if(l!=null)return t.subject.user===o("WAGlobals").getMyUserJid()?(a="currentUserNamedGroup",i.push(l)):n==null?(a="unkonwnUserNamedGroup",i.push(l)):(a="participantNamedGroup",i.push(n,l)),{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:{adminMsgContent:i,adminType:a},serverTs:r,ts:r,type:"Admin"}}function b(e,t){var n=v(e,t);if(n!=null)return babelHelpers.extends({},n,{version:s})}function v(e,t){var n,r=[];if(e===o("WAGlobals").getMyUserJid())switch(t){case"all_member_add":n="currentUserSetAddModeAllMembers";break;case"admin_add":n="currentUserSetAddModeAdminOnly";break}else if(e!=null)switch(r.push(o("WAJids").userIdFromJid(e)),t){case"all_member_add":n="participantSetAddModeAllMembers";break;case"admin_add":n="participantSetAddModeAdminOnly";break}else switch(t){case"all_member_add":n="serverSetAddModeAllMembers";break;case"admin_add":n="serverSetAddModeAdminOnly";break}if(n!=null)return{adminMsgContent:r,adminType:n}}function S(e,t,n,r){var a=v(n,t);if(a!=null)return{ack:o("WAAckLevel").ACK.SENT,id:{author:o("WAJids").AUTHOR_SYSTEM,chat:e,externalId:o("MAWExternalId").generateExternalId()},msgContent:a,serverTs:r,ts:r,type:"Admin"}}l.UNKNOWN_USER=e,l.maybeUnknownParticipantName=u,l.createAdminMsgContactId=c,l.createParticipantAddAdminMessage=d,l.createParticipantRemoveAdminMsg=m,l.createParticipantPromoteAdminMessage=p,l.createParticipantPromoteAdminMsg=f,l.createParticipantDemoteAdminMessage=g,l.createParticipantDemoteAdminMsg=y,l.createGroupNameChangeAdminMsg=C,l.createMemberAddModeChangeAdminMessage=b,l.createMemberAddModeChangeAdminMsg=S}),98);
__d("MAWCreateParticipantAdminMsg",["MAWAdminMsgHelpers","WAGlobals"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:"participantAddedYou"};case 2:return{adminMsgContent:[t,n],adminType:"participantAddedYouAndOneUser"};default:return{adminMsgContent:[t,e.toString()],adminType:"participantAddedYouAndMoreThanOneUsers"}}}function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:"currentUserAddedOneParticipant"};case 2:return{adminMsgContent:[t,n],adminType:"currentUserAddedTwoParticipant"};default:return{adminMsgContent:[t,e.toString()],adminType:"currentUserAddedMoreThanTwoParticipant"}}}function u(e,t,n,r){switch(e){case 1:return{adminMsgContent:[t,n],adminType:"participantAddedOneUser"};case 2:return{adminMsgContent:[t,n,r],adminType:"participantAddedTwoUser"}}return{adminMsgContent:[t,n,e.toString()],adminType:"participantAddedMoreThanTwoUser"}}function c(t,n,r,a){var i=a==null?n.map(o("MAWAdminMsgHelpers").createAdminMsgContactId):a,l=i[0],c=i[1],d=r==null?o("MAWAdminMsgHelpers").createAdminMsgContactId(t):o("MAWAdminMsgHelpers").maybeUnknownParticipantName(r);return t===o("WAGlobals").getMyUserJid()?s(n.length,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c)):n.includes(o("WAGlobals").getMyUserJid())?e(n.length,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(d),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(n[0]===o("WAGlobals").getMyUserJid()?c:l)):u(n.length,d,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c))}l.createParticipantAdminMessage=c}),98);
__d("MAWRemoveParticipantAdminMsg",["MAWAdminMsgHelpers","WAGlobals"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:"participantRemovedYou"};case 2:return{adminMsgContent:[t,n],adminType:"participantRemovedYouAndOneUser"};default:return{adminMsgContent:[t,e.toString()],adminType:"participantRemovedYouAndMoreThanOneUsers"}}}function s(e,t,n,r){switch(e){case 1:return r?{adminMsgContent:[],adminType:"currentUserLeftGroup"}:{adminMsgContent:[t],adminType:"currentUserRemovedOneParticipant"};case 2:return{adminMsgContent:[t,n],adminType:"currentUserRemovedTwoParticipant"};default:return{adminMsgContent:[t,e.toString()],adminType:"currentUserRemovedMoreThanTwoParticipant"}}}function u(e,t,n,r,o){switch(e){case 1:return o?{adminMsgContent:[t],adminType:"participantLeftGroup"}:{adminMsgContent:[t,n],adminType:"participantRemovedOneUser"};case 2:return{adminMsgContent:[t,n,r],adminType:"participantRemovedTwoUser"}}return{adminMsgContent:[t,n,e.toString()],adminType:"participantRemovedMoreThanTwoUser"}}function c(t,n,r,a){var i=a==null?n.map(o("MAWAdminMsgHelpers").createAdminMsgContactId):a,l=i[0],c=i[1],d=r==null?o("MAWAdminMsgHelpers").createAdminMsgContactId(t):o("MAWAdminMsgHelpers").maybeUnknownParticipantName(r);return t===o("WAGlobals").getMyUserJid()?s(n.length,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c),n[0]===o("WAGlobals").getMyUserJid()):n.includes(o("WAGlobals").getMyUserJid())?e(n.length,d,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(n[0]===o("WAGlobals").getMyUserJid()?c:l)):u(n.length,d,o("MAWAdminMsgHelpers").maybeUnknownParticipantName(l),o("MAWAdminMsgHelpers").maybeUnknownParticipantName(c),n[0]===t)}l.removeParticipantAdminMessage=c}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e){case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:case o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:return{contactIds:t,contents:[]};case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:{var n=t[0],r=t[1];return{contactIds:[n],contents:[r]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:{var a=t[0],i=t[1],l=t[2];return{contactIds:[a,i],contents:[l]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:{var s=t[0],u=t[1],c=t[2];return{contactIds:[s],contents:[u,c]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION:{var d=t[0],m=t[1],p=t[2];return{contactIds:[d],contents:[m]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS:{var _=t[0],f=t[1],g=t[2],h=t[3];return{contactIds:[_],contents:[f,g]}}case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_VOTES:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MULTIPLE_POLL_OPTIONS:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE:case o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE:case o("MAWLocalizationType").LOCALIZATION_TYPE.POLL_UNSENT_UPDATE:default:return{contactIds:[],contents:t}}}l.deconstructContactIdsFromAdminContent=e}),98);
__d("MAWAdminMsgTypesGrouped",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e=o("MAWLocalizationType")).LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE],u=[e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN],c=[e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE,e.LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE,e.LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE],d=[e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS,e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS],m=[e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS,e.LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_TWO_USER,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS,e.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_TWO_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER,e.LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER],p=[e.LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT,e.LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED,e.LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED,e.LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED,e.LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED,e.LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED,e.LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU,e.LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED,e.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY,e.LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS,e.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY,e.LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS,e.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY,e.LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS],_=[e.LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],f=[e.LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,e.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME,e.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME],g=[e.LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,e.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME,e.LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME,e.LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME],h=[e.LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE,e.LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE],y=[e.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED,e.LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED,e.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,e.LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED],C=[e.LOCALIZATION_TYPE.TWO_USERS_CONNECTED,e.LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT],b=[e.LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK],v=[e.LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK,e.LOCALIZATION_TYPE.RTC_XMA_FALLBACK],S=[e.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,e.LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE],R=[e.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE],L=[e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS,e.LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET],E=[e.LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE],k=[e.LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL,e.LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL],I=[e.LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED,e.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL,e.LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL,e.LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED,e.LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL,e.LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED,e.LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED],T=[e.LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP,e.LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_POST,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY,e.LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT,e.LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG,e.LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN,e.LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT,e.LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE],D=[e.LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP,e.LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_POST,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY,e.LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,e.LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,e.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE,e.LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP,e.LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN,e.LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT],x=[e.LOCALIZATION_TYPE.EMPTY_SNIPPET];l.cutoverAdminMsgs=s,l.dualThreadCutoverAdminMsgs=u,l.deviceChanges=c,l.currentUserAddRemoveParticipant=d,l.otherUserAddRemoveParticipant=m,l.groupPermissionsChanged=p,l.participantLeftGroup=_,l.chatCustomizedByCurrentUser=f,l.chatCustomizedByOtherUser=g,l.pinnedMessageUpdate=h,l.limitSharingUpdate=y,l.twoUsersConnected=C,l.fallbackMsgFromCurrentUser=b,l.fallbackMsgFromOtherUser=v,l.currentUserBumpsMessage=S,l.otherUserBumpsMessage=R,l.ephemeralSettingChanges=L,l.icdcAlerts=E,l.callActionToNotifyAbout=k,l.callActionNotToNotifyAbout=I,l.otherNonAdminMsgToBeBumped=T,l.otherNonAdminMsgToBeMarkedAsUnread=D,l.otherNonAdminMsgToNotTriggerUpdate=x}),98);
__d("MAWAdminRemoveParticipantMsg",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e=1;function s(e,t,n){switch(e){case 1:return{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU};case 2:return{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS}}}function u(e,t,n,r){switch(e){case 1:return r?{adminMsgContent:[],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LEFT_GROUP}:{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS};default:return{adminMsgContent:[t,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS}}}function c(e,t,n,r,a){switch(e){case 1:return a?{adminMsgContent:[t],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LEFT_GROUP}:{adminMsgContent:[t,n],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_ONE_USER};case 2:return{adminMsgContent:[t,n,r],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_TWO_USER}}return{adminMsgContent:[t,n,(e-1).toString()],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER}}function d(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r=t[0],a=t[1],i=o("WAJids").userIdFromJid(r),l=a!=null?o("WAJids").userIdFromJid(a):"";if(e==null)return t.includes(n)?{adminMsgContent:[],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_YOU}:{adminMsgContent:[i],adminType:o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_ONE_USER};if(e===n)return u(t.length,i,l,r===n);var d=o("WAJids").userIdFromJid(e);return t.includes(n)?s(t.length,d,r===n?l:i):c(t.length,d,i,l,r===e)}function m(t,n){return babelHelpers.extends({},d(t,n),{version:e})}l.createRemoveParticipantsAdminMessage=m}),98);
__d("MAWAdminWriteGroupNameChangeAdminMsgContent",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWUserJidWrapper").getMyUserJid(),r,a=[];return e===n?(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_NAMED_GROUP,a.push(t)):e==null?(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_NAMED_GROUP,a.push(t)):(r=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_NAMED_GROUP,a.push(o("WAJids").userIdFromJid(e),t)),{adminMsgContent:a,adminType:r,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWAnimatedImageThumbnailStore",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){var n;return(n=e.get(t))!=null?n:null}function s(t,n){e.set(t,n)}i.getThumbnailSpec=l,i.setThumbnailSpec=s}),66);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useCallback,m=[0,31,35,55,56,58,24,25,19,85],p=[0,31,35,55,56,58,24,25,19,85,8,22],_=[35,19,85,56,24,25];function f(){var t=(e||(e=r("useReStore")))();return d(function(e,a){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(e));if(n!=null){var l=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n.threadKey).filter(function(e){return(s||(s=o("I64"))).equal(e.threadType,(u||(u=o("LSIntEnum"))).ofNumber(15))}));if(l!=null){var c=(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactUserBlockAction").MN_BLOCK))?o("LSThreadBitOffset").clear(m,l.capabilities,l.capabilities2,l.capabilities3,l.capabilities4,l.capabilities5):(s||(s=o("I64"))).equal(a,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactUserBlockAction").FB_BLOCK))?o("LSThreadBitOffset").clear(p,l.capabilities,l.capabilities2,l.capabilities3,l.capabilities4,l.capabilities5):o("LSThreadBitOffset").set(_,l.capabilities,l.capabilities2,l.capabilities3,l.capabilities4,l.capabilities5),d=c[0],f=c[1];yield t.runInTransaction(function(e){var t=babelHelpers.extends({},l,{capabilities:d,capabilities2:f});return e.threads.put(t)},"readwrite",void 0,void 0,i.id+":137")}}})())},[t])}l.clearedMnBlockCapabilities=m,l.clearedFbBlockCapabilities=p,l.useChangeThreadBlockCapabilities=f}),98);
__d("MAWMediaPreProcessQpl",["MAWSendQplToServer","Random","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=typeof self.BigInt=="function",s=r("justknobx")._("3427")*1e3;function u(t,n){var a=Date.now()+(Math.round(o("Random").random()*1e4)+1e4),i=o("MAWSendQplToServer").startQplUserFlow(r("qpl")._(1056840460,"718"),{bool:{has_big_int_support:e},string:{preprocess_type:t}},a,s);return n&&i.addAnnotations({int:{input_file_size:n.size},string:{mimetype:n.type}}),babelHelpers.extends({},i,{flowDetails:{event:r("qpl")._(1056840460,"718"),instanceKey:a}})}l.startMediaPreProcessQpl=u}),98);
__d("WABlobToArrayBuffer",["Promise","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return"arrayBuffer"in t&&typeof t.arrayBuffer=="function"?t.arrayBuffer():new(e||(e=n("Promise")))(function(e,n){var o=new FileReader;o.onload=function(){var t=o.result;t instanceof ArrayBuffer?e(t):n(r("err")("blobToArrayBuffer got error because result is not ArrayBuffer: "+typeof t))},o.onerror=function(){var e;n((e=o.error)!=null?e:r("err")("blobToArrayBuffer got unknown error"))},o.readAsArrayBuffer(t)})}l.blobToArrayBuffer=s}),98);
__d("WABlobToImage",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){var r;return new(e||(e=n("Promise")))(function(e,n){r=new Image;var o=URL.createObjectURL(t),a=function(){return URL.revokeObjectURL(o)};r.onload=function(){e({image:r,releaseImageMemory:a})},r.onerror=function(){a(),n("loadBlobToImage error")},r.src=o})}i.blobToImage=l}),66);
__d("WACalculateBoundOutputSize",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return t!=null?l(e.width,e.height,t.width,t.height):{outputWidth:e.width,outputHeight:e.height}}function l(e,t,n,r){var o=e,a=t;return e>t?e>n&&(a*=n/o,o=n):a>r&&(o*=r/a,a=r),{outputWidth:Math.round(Math.max(o,1)),outputHeight:Math.round(Math.max(a,1))}}i.calculateBoundOutputSize=e}),66);
__d("WADecodeImage",["WABlobToImage","WACalculateBoundOutputSize","WATagsLogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("WATagsLogger").TAGS(["decodeImage"]),c=typeof self.createImageBitmap=="function"&&typeof self.OffscreenCanvas=="function",d=c?m:_;function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){u.DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["start decoding image without DOM: ",""])),t.name);var r=yield self.createImageBitmap(t),a=r.width,i=r.height,l=o("WACalculateBoundOutputSize").calculateBoundOutputSize({width:a,height:i},n),s=l.outputWidth,c=l.outputHeight,d=new self.OffscreenCanvas(s,c),m=g({canvas:d,inputWidth:a,inputHeight:i,outputWidth:s,outputHeight:c,image:r});return m}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){u.DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["start decoding image with DOM: ",""])),e.name);var n=yield o("WABlobToImage").blobToImage(e),r=n.image,a=n.releaseImageMemory,i=r.width,l=r.height,c=o("WACalculateBoundOutputSize").calculateBoundOutputSize({width:i,height:l},t),d=c.outputWidth,m=c.outputHeight,p=document.createElement("canvas"),_=g({canvas:p,inputWidth:i,inputHeight:l,outputWidth:d,outputHeight:m,image:r});return a(),_}),f.apply(this,arguments)}function g(e){var t=e.canvas,n=e.image,r=e.inputWidth,o=e.inputHeight,a=e.outputWidth,i=e.outputHeight;t.width=a,t.height=i;var l=t.getContext("2d");l.fillStyle="rgb(255,255,255)",l.fillRect(0,0,t.width,t.height),l.drawImage(n,0,0,r,o,0,0,a,i);var s=l.getImageData(0,0,a,i);return s}l.canDecodeWithoutDOM=c,l.decodeImage=d,l.decodeImageWithoutDOM=m,l.decodeImageWithDOM=_}),98);
__d("VideoTranscodeUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return""+l(e).toFixed(2)}function l(e){return e/1024/1024}function s(e){var t,n,r,o,a,i,l,s,u,c,d=e.maybeTranscodeResponse,m=e.metadata,p=e.eventFlow,_=d!=null?d:{success:!1,error:{errorMessage:"No transcode response",errorType:"did-not-run"}};p.addAnnotations({bool:{did_transcode:_.success},int:{audio_number_of_channels:m==null||(t=m.audioInfo)==null?void 0:t.numberOfChannels,audio_sample_rate:m==null||(n=m.audioInfo)==null?void 0:n.samplingRate,duration_s:m==null||(r=m.videoInfo)==null?void 0:r.duration,metadata_latency_ms:m==null?void 0:m.metadataLatency,transcode_latency_ms:_.success?(o=_.value)==null?void 0:o.transcodeLatency:void 0,video_avg_bitrate:m==null||(a=m.videoInfo)==null?void 0:a.averageBitrate,video_fps:m==null||(i=m.videoInfo)==null?void 0:i.calculatedFps,video_height:m==null||(l=m.videoInfo)==null?void 0:l.videoHeight,video_width:m==null||(s=m.videoInfo)==null?void 0:s.videoWidth},string:{audio_codec:m==null||(u=m.audioInfo)==null?void 0:u.codec,transcode_error_message:_.success===!1?_.error.errorMessage:void 0,transcode_error_type:_.success===!1?_.error.errorType:void 0,video_codec:m==null||(c=m.videoInfo)==null?void 0:c.codec}})}i.bytesToMegaBytesString=e,i.annotateTranscodeReponse=s}),66);
__d("WAByteArray",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){for(var n=t,r=new Uint8Array(e),o=e-1;o>=0;o--)r[o]=n&255,n>>>=8;return r}function l(e){return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)}function s(e,t){if(!e||!t)return!1;var n=new Uint8Array(e),r=new Uint8Array(t),o=n.length,a=r.length;if(o!==a)return!1;for(var i=0;i<o;i++)if(n[i]!==r[i])return!1;return!0}i.intToBytes=e,i.uint8ArrayToBuffer=l,i.compareArrayBuffer=s}),66);
__d("WAPromiseTimeout",["Promise","WACustomError"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(r,a,i){var t=null,l=new(e||(e=n("Promise")))(function(e,n){t=setTimeout(function(){n(new(o("WACustomError")).TimeoutError(i)),clearTimeout(t)},a)});return e.race([r,l]).finally(function(){clearTimeout(t)})};l.promiseTimeout=s}),98);
__d("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/static_resources/webworker_v1/init_script/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("WorkerBundleResource",["TrustedTypesWebWorkerScriptURLPolicy","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","getWorkerInitScriptSPINParams","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,o,a,i=(n=t==null?void 0:t.logImportScriptsErrors)!=null?n:!1,l=(o=t==null?void 0:t.name)!=null?o:e.name,u=new window.URL(e.url,window.location.href).href;if(u==null){var c=new Error("Can't start up worker without a resource url.");throw c.stack,c}for(var d=r("nullthrows")((a=r("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(r("getWorkerInitScriptSPINParams")()))==null||(a=a.addQueryParams(s()))==null?void 0:a.toString()),m=new Worker(r("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(d),{name:l}),p=arguments.length,_=new Array(p>2?p-2:0),f=2;f<p;f++)_[f-2]=arguments[f];return m.postMessage({bundleUrl:u,initArgs:_,isDev:!1,resource:e,logImportScriptsErrors:i,type:"sr-init"}),m}function s(){var e=new URLSearchParams(window.location.search),t=new Map;return e.forEach(function(e,n){["gk_enable","gk_enable[]","gk_disable","gk_disable[]"].includes(n)&&t.set(n,e)}),t}l.createDedicatedWebWorker=e}),98);
__d("WAMediaWasmWorkerClient",["FBLogger","Promise","QPLUserFlow","VideoTranscodeUtils","WAByteArray","WACustomError","WAMediaWasmWorkerResource","WAPromiseTimeout","WAResultOrError","WorkerBundleResource","WorkerClient","WorkerMessagePort","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$=o("WorkerBundleResource").createDedicatedWebWorker(r("WAMediaWasmWorkerResource")),P="media_platform",N=function(){return r("FBLogger")(P).tags(["WAMediaWasmWorkerClient"])},M=new(o("WorkerMessagePort")).WorkerSyncedMessagePort($,"WAMediaWasmWorker");o("WorkerClient").init(M),N().DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["initiated."]))),M.addMessageListener("log",function(e){var t=e.logType,n=e.message;switch(t){case"dev":N().DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["from worker: ",""])),n);break;case"error":N().MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["worker error: ",""])),n);break;default:}}),M.addMessageListener("qpl",function(e){w(e)});function w(e){var t=e.event,n=e.action;switch(n.type){case"point":{r("QPLUserFlow").addPoint(t,n.pointName,{instanceKey:n.instanceKey});break}case"annotations":{r("QPLUserFlow").addAnnotations(t,n.annotations,{instanceKey:n.instanceKey});break}default:N().MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Unknown QPL action type from worker: ",""])),n.type)}}function A(e){var t=e.input,n=e.eventFlow;return G({operation:"webpCheck",input:o("WAByteArray").uint8ArrayToBuffer(t)},n)}function F(e){var t=e.input,n=e.eventFlow;return N().INFO(d||(d=babelHelpers.taggedTemplateLiteralLoose(["mp4RepairMuxInWorker processing video"]))),G({operation:"mp4RepairMux",input:o("WAByteArray").uint8ArrayToBuffer(t)},n)}function O(e){return B.apply(this,arguments)}function B(){return B=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.input,r=e.forceTranscode,a=e.supportsHevc,i=e.eventFlow;N().INFO(_||(_=babelHelpers.taggedTemplateLiteralLoose(["transcodeToMp4InWorker processing video"])));var l=H();N().INFO(f||(f=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""])),l);var s=yield j();if(!s.success)return o("WAResultOrError").makeError({error:s.error});var u=s.value,c=u.onMessageOnce("transcodeToMp4Response",function(e){return e.requestId===l}),d=o("WAByteArray").uint8ArrayToBuffer(n),m=d?[d]:void 0;u.postMessage({input:d,requestId:l,forceTranscode:r,supportsHevc:a,type:"transcodeToMp4Request",qplData:i.flowDetails},m),i==null||i.addPoint("sent_request_to_media_worker_start");var p=yield c,y=p.output;if(N().INFO(g||(g=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""])),l,y.success),y.success){var C=y.value;return i==null||i.addPoint("sent_request_to_media_worker_end"),o("VideoTranscodeUtils").annotateTranscodeReponse({eventFlow:i,maybeTranscodeResponse:C.transcodeResponse,metadata:C.metadata}),o("WAResultOrError").makeResult(C)}return N().MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),l,(t=y.error)==null?void 0:t.error.errorMessage),i==null||i.addPoint("sent_request_to_media_worker_end"),o("VideoTranscodeUtils").annotateTranscodeReponse({eventFlow:i,maybeTranscodeResponse:y.error.transcodeResponse,metadata:y.error.metadata}),i==null||i.addAnnotations({string:{errorMessage:y.error.error.errorMessage}}),o("WAResultOrError").makeError({error:y.error.error.errorType,transcodeResponse:y.error.transcodeResponse})}),B.apply(this,arguments)}function W(e){var t=e.imageData,n=e.quality,r=e.useHdScanConfig,a=e.eventFlow;return G({operation:"progressiveJpegEncode",input:o("WAByteArray").uint8ArrayToBuffer(t.data),height:t.height,width:t.width,quality:n,useHdScanConfig:r},a)}function q(e){return U.apply(this,arguments)}function U(){return U=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.file,n=e.quality,r=e.useHdScanConfig,o=e.eventFlow,a=e.maxOutputResolution,i=yield t.arrayBuffer();return G({operation:"progressiveJpegEncodeWithFile",input:i,fileName:t.name,fileType:t.type,quality:n,useHdScanConfig:r,maxOutputWidth:a==null?void 0:a.width,maxOutputHeight:a==null?void 0:a.height},o)}),U.apply(this,arguments)}function V(e){N().INFO(m||(m=babelHelpers.taggedTemplateLiteralLoose(["start prewarming media wasm worker, operation: ",""])),e),M.postMessage({type:"prewarm",operation:e})}var H=(function(){var e=0;return function(){return++e}})();function G(e,t){return z.apply(this,arguments)}function z(){return z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=H();N().INFO(y||(y=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""])),n);var r=yield j(t);if(!r.success)return r;var a=r.value,i=a.onMessageOnce("mediaOperationResponse",function(e){return e.requestId===n}),l=e.input?[e.input]:void 0;a.postMessage(babelHelpers.extends({},e,{requestId:n,type:"mediaOperationRequest"}),l),t==null||t.addPoint("sent_request_to_media_worker_start");var s=yield i,u=s.output;return u.success?(N().INFO(C||(C=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),n),t==null||t.addPoint("sent_request_to_media_worker_end",{bool:{isOpfsSyncSupported:u.value.isOpfsSyncSupported}}),o("WAResultOrError").makeResult(u.value.bytes)):(N().MUSTFIX(b||(b=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),n,u.error.errorMessage),t==null||t.addPoint("sent_request_to_media_worker_fail"),o("WAResultOrError").makeError(u.error.errorType))}),z.apply(this,arguments)}function j(e){e==null||e.addPoint("get_connected_worker_port_start");var t=3e4;return o("WAPromiseTimeout").promiseTimeout(M.fullyConnected,t).then(function(t){return e==null||e.addPoint("get_connected_worker_port_end"),o("WAResultOrError").makeResult(t)}).catch(function(t){return e==null||e.addPoint("get_connected_worker_port_fail",{string:{workerPortFailure:t instanceof o("WACustomError").TimeoutError?"timeout":"runtime-error"}}),t instanceof o("WACustomError").TimeoutError?o("WAResultOrError").makeError("worker-connection-timeout"):(N().MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["worker-connection-runtime-error: ",""])),t),o("WAResultOrError").makeError("worker-connection-runtime-error"))})}function K(e){return Q.apply(this,arguments)}function Q(){return Q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,r,a=e.file,i=e.maxDimension,l=e.thumbnailBlobByteSizeLimitBytes,s=e.thumbnailQualityPercentageWhenAboveByteSizeLimit,u=H();N().INFO(v||(v=babelHelpers.taggedTemplateLiteralLoose(["sending input to worker, requestId: ",""])),u);var c=yield j();if(!c.success)return c;var d=c.value,m=d.onMessageOnce("mediaGenerateImageThumbnailResponse",function(e){return e.requestId===u}),p=yield a.arrayBuffer(),_=p?[p]:void 0;d.postMessage({input:p,fileName:a.name,fileType:a.type,maxDimension:i,requestId:u,thumbnailBlobByteSizeLimitBytes:l,thumbnailQualityPercentageWhenAboveByteSizeLimit:s,type:"mediaGenerateImageThumbnailRequest"},_);var f=yield m;return N().INFO(S||(S=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""])),u,f.output.success),f.output.success?o("WAResultOrError").makeResult(f.output.value):(N().MUSTFIX(R||(R=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),u,(t=f.output.error)==null?void 0:t.errorMessage),(x||(x=n("Promise"))).reject((r=f.output.error)==null?void 0:r.errorMessage))}),Q.apply(this,arguments)}function X(e,t){return Y.apply(this,arguments)}function Y(){return Y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){N().INFO(L||(L=babelHelpers.taggedTemplateLiteralLoose(["start media storage shadow test"])));var n=H(),r=yield j();if(!r.success)return o("WAResultOrError").makeError({errorName:"port-init",errorMessage:r.error});var a=r.value,i=a.onMessageOnce("mediaStorageShadowTestResponse",function(e){return e.requestId===n});a.postMessage({input:e,requestId:n,storageType:t,type:"mediaStorageShadowTestRequest"});var l=yield i,s=l.output;return s.success?(N().INFO(E||(E=babelHelpers.taggedTemplateLiteralLoose(["received storage results from worker, requestId: ",""])),n),o("WAResultOrError").makeResult(s.value)):(N().MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["media storage test failed for storageType: ",", error: ",""])),t,s.error.errorMessage),o("WAResultOrError").makeError({errorName:s.error.errorName,errorMessage:s.error.errorMessage}))}),Y.apply(this,arguments)}function J(e){return Z.apply(this,arguments)}function Z(){return Z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.rawMimeType,n=e.input,r=e.eventFlow,a=H();N().INFO(I||(I=babelHelpers.taggedTemplateLiteralLoose(["start kaleidoscope classifiy in worker, requestId: ",""])),a);var i=yield j(r);if(!i.success)return i;var l=i.value,s=l.onMessageOnce("kaleidoscopeClassifyResponse",function(e){return e.requestId===a});l.postMessage({rawMimeType:t,input:n,requestId:a,type:"kaleidoscopeClassifyRequest"}),r==null||r.addPoint("sent_request_to_media_worker_start");var u=yield s,c=u.output;return c.success?(N().INFO(T||(T=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),a),r==null||r.addPoint("sent_request_to_media_worker_end"),c):(N().MUSTFIX(D||(D=babelHelpers.taggedTemplateLiteralLoose(["kaleidoscope classifiy error: ",", requestId: ",","])),c.error,a),r==null||r.addPoint("sent_request_to_media_worker_fail"),o("WAResultOrError").makeError(c.error))}),Z.apply(this,arguments)}l.webpCheckInWorker=A,l.mp4RepairMuxInWorker=F,l.transcodeToMp4InWorker=O,l.progressiveJpegEncodeInWorker=W,l.progressiveJpegEncodeInWorkerWithFile=q,l.prewarmMediaWasmWorker=V,l.getConnectedWorkerPortWithTimeout=j,l.generateImageThumbnailInWorker=K,l.runMediaStorageShadowTestWasmWorker=X,l.kaleidoscopeClassifyInWorker=J}),98);
__d("UFICommentFileInputAcceptValues.experimental",["cr:27633"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:27633")}),98);
__d("cometIsMimeTypeForMedia",["FBLogger","UFICommentFileInputAcceptValues.experimental"],(function(t,n,r,o,a,i,l){"use strict";var e={file:null,photo:null,video:null},s={"image/gif":"video","image/webp":"video"};function u(e){return e.split(",").map(function(e){return e.trim()}).map(function(e){return e.replace(/\/\*$/,"/")})}function c(t,n,o){e[t]==null&&(e[t]=u(o));var a=e[t];if(a==null)throw r("FBLogger")("ufi2").mustfixThrow("CometIsMimeTypeForMedia prefixes can't be null");var i=s[n];return i!=null?i===t:a.some(function(e){return n.startsWith(e)})}function d(e){return c("photo",e,r("UFICommentFileInputAcceptValues.experimental").photos)}function m(e){return c("video",e,r("UFICommentFileInputAcceptValues.experimental").videos)}function p(e){return c("file",e,r("UFICommentFileInputAcceptValues.experimental").files)}l.mimeTypeAcceptStringToArray=u,l.isMimeTypeForPhoto=d,l.isMimeTypeForVideo=m,l.isMimeTypeForFile=p}),98);
__d("MAWImagePreProcess",["MAWGetImageSpec","MAWImageUtils","MAWMediaPreProcessQpl","MWFBLogger","Promise","WABlobToArrayBuffer","WACustomError","WADecodeImage","WAMediaWasmWorkerClient","WAPromiseTimeout","WAResultOrError","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f=12e4,g=o("MWFBLogger").MWMediaLogger().tags(["ImagePreProcess"]),h=85,y=["image/heic"];function C(e,t,a,i){var l;i===!0?l={height:r("justknobx")._("187"),width:r("justknobx")._("187")}:l={height:r("justknobx")._("2144"),width:r("justknobx")._("2144")};var s;t?s=e.type==="image/webp"?(_||(_=n("Promise"))).resolve(e):L(e,"image/webp",t,a,l):s=e.type==="image/gif"?(_||(_=n("Promise"))).resolve(e):L(e,"image/jpeg",!1,a,l);var u=e.type==="image/gif";return u?s.then(function(e){return(_||(_=n("Promise"))).all([o("MAWGetImageSpec").getImageSpec(e),e])}).then((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=n[0],a=n[1];return{file:a,imageSpec:r,plaintext:yield o("WABlobToArrayBuffer").blobToArrayBuffer(a),thumbnailUrlAndSpec:null,type:R(e,t)}});return function(e){return r.apply(this,arguments)}})()):s.then(function(t){return(_||(_=n("Promise"))).all([x(e,r("justknobx")._("2033")),o("MAWGetImageSpec").getImageSpec(t),t])}).then((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(r){var a=r[0],i=r[1],l=r[2];return(_||(_=n("Promise"))).resolve({file:l,imageSpec:i,plaintext:yield o("WABlobToArrayBuffer").blobToArrayBuffer(l),thumbnailUrlAndSpec:a,type:R(e,t)})});return function(e){return r.apply(this,arguments)}})())}function b(e,t){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a=t.URL.createObjectURL(e),i=n===!0?r("justknobx")._("2545"):r("justknobx")._("2033"),l=yield o("MAWImageUtils").urlToThumbnailSpec(a,i),s={height:l.height,width:l.width};return{file:e,imageSpec:s,thumbnailSpec:l,type:R(e,n),url:a}}),v.apply(this,arguments)}function S(e,t){return o("MAWGetImageSpec").getImageSpec(e).then(function(r){return(_||(_=n("Promise"))).resolve({file:e,imageSpec:r,stickerReceiverFetchId:t,type:"sticker"})})}function R(e,t){return t===!0?"sticker":e.type==="image/gif"?"animated_image":"image"}function L(e,t,n,r,o){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r,a,i){g.DEBUG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["start image transcode ",""])),e.name);var l=o("MAWMediaPreProcessQpl").startMediaPreProcessQpl("image",e);l.addAnnotations({int:{total_number_of_files:a!=null?a:1},string:{targetMimetype:t}});var s=function(){return I(e,t,h,r,i).then(function(e){return e.success?e.value:(_||(_=n("Promise"))).reject("runtime-error")}).catch(function(e){return g.MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Error while transcoding image through browser api: ",""])),String(e)),l.addPoint("native_encode_failure",{string:{native_encode_error:e.toString()}}),null})},u=t==="image/jpeg"?yield o("WAPromiseTimeout").promiseTimeout(T(e,h,l,i).then(function(e){return e.success?e.value:(_||(_=n("Promise"))).reject(e.error)}),f).catch(function(e){return e instanceof o("WACustomError").TimeoutError?l.addPoint("mozjpeg_encode_timeout"):l.addPoint("mozjpeg_encode_failure",{string:{mozjpeg_encode_error:e.toString()}}),s()}):yield s();if(u==null)throw l.endFail("unable_to_transcode_image"),g.mustfixThrow("unable to transcode image");return l.endSuccess({int:{compressed_file_size:u.size}}),u}),E.apply(this,arguments)}function k(e,n){var r=t.URL.createObjectURL(e);return o("MAWImageUtils").urlToThumbnail(r,n)}function I(n,r,a,i,l){g.DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["start image transcoding through browser api"])));var u=t.URL.createObjectURL(n),c=n.name;return o("MAWImageUtils").urlToFile(u,r,a,i,l).then(function(e){var t=e.blob;return g.DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["finished image transcoding through browser api: "," bytes"])),t.size),o("WAResultOrError").makeResult(new File([t],c,{type:r}))})}function T(e,t,n,r){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){g.DEBUG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["start process image through wasm, file name: ",""])),e.name),o("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("progressiveJpegEncode"),n.addPoint("prewarm_worker_started");var a;if(o("WADecodeImage").canDecodeWithoutDOM&&(a=yield o("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorkerWithFile({eventFlow:n,file:e,maxOutputResolution:r,quality:t,useHdScanConfig:!0})),a==null||!a.success&&a.error==="decode-image-error"){var i=yield o("WADecodeImage").decodeImageWithDOM(e,r).catch(function(e){throw n.addPoint("image_decode_failure"),e});n.addPoint("image_decode_success"),a=yield o("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorker({eventFlow:n,imageData:i,quality:t,useHdScanConfig:!0})}return a.success?(n.addPoint("pjpeg_encode_success"),g.DEBUG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["finished jpeg transcoding through mozjpeg: "," bytes"])),a.value.byteLength),o("WAResultOrError").makeResult(new File([a.value],e.name,{type:"image/jpeg"}))):a}),D.apply(this,arguments)}function x(e,a){var i=(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=t.URL.createObjectURL(e),r=yield o("MAWImageUtils").urlToThumbnail(n,a);return t.URL.revokeObjectURL(n),r});return function(){return r.apply(this,arguments)}})();if(!o("WADecodeImage").canDecodeWithoutDOM)return i();var l=r("justknobx")._("2338")*1024,s=r("justknobx")._("2340");return o("WAPromiseTimeout").promiseTimeout(o("WAMediaWasmWorkerClient").generateImageThumbnailInWorker({file:e,maxDimension:a,thumbnailBlobByteSizeLimitBytes:l,thumbnailQualityPercentageWhenAboveByteSizeLimit:s}).then(function(e){if(!e.success)throw g.mustfixThrow("urlToFileInWorker error: "+e.error);return{height:e.value.height,jpegThumbnail:e.value.blob,width:e.value.width}}).catch(function(e){throw g.catching(e).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Error while processing url to thumbnail in worker"]))),e}),f).catch(function(e){return i()})}function $(e){return e==="image/gif"||e==="image/webp"?!0:o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(e)?!y.includes(e):!1}l.imagePreprocess=C,l.optimisticImagePreprocess=b,l.stickerPreprocess=S,l.getJpegThumbnailInfo=k,l.generateImageThumbnailInWorkerWithFallback=x,l.isSupportedImageFileType=$}),98);
__d("WAWebDataUrlToBlob",["err"],(function(t,n,r,o,a,i,l){var e=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;function s(t){var n=t.match(e);if(!n)throw r("err")("invalid data URI");var o=n[2]?n[1]:"text/plain"+(n[3]||";charset=US-ASCII"),a=!!n[4],i=t.slice(n[0].length),l;a?l=atob(i):l=decodeURIComponent(i);for(var s=new ArrayBuffer(l.length),u=new Uint8Array(s),c=0;c<l.length;c+=1)u[c]=l.charCodeAt(c);return new Blob([u],{type:o})}l.dataURLtoBlob=s}),98);
__d("MAWImageUtils",["FBLogger","MAWAnimatedImageThumbnailStore","MAWDbMedia","MAWFrontendMediaUtils","MAWImagePreProcess","MWPBumpEntityKey","Promise","WABlobToArrayBuffer","WACalculateBoundOutputSize","WAWebDataUrlToBlob","err","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s="image/jpeg",u=100,c=r("justknobx")._("2338")*1024,d=r("justknobx")._("2340"),m=r("justknobx")._("2545");function p(t,o){o===void 0&&(o=!0);var a;return new(e||(e=n("Promise")))(function(e,n){a=new Image;var i=/^(?:data|blob):/.test(t);o&&!i&&a.setAttribute("crossOrigin","anonymous"),a.onload=e,a.onabort=function(){n(r("FBLogger")("messenger_web").mustfixThrow("Error loading image from provided URL"))},a.onerror=function(){n(r("FBLogger")("messenger_web").mustfixThrow("Wrong blob type"))},a.src=t}).then(function(){return a})}function _(t){return window.fetch(t,{cache:"no-store",method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw r("FBLogger")("messenger_web").mustfixThrow("Failed to fetch image: %s %s",e.status,e.statusText);return e.blob()}).then(function(t){return new(e||(e=n("Promise")))(function(e,n){var o=new FileReader;o.onloadend=function(){var t=new Image;t.onload=function(){e(t)},t.onerror=function(){n(function(){throw r("FBLogger")("messenger_web").mustfixThrow("Error loading image from blob data")})},typeof o.result=="string"?t.src=o.result:n(r("err")("FileReader result is not a string"))},o.onerror=function(){n(r("err")("Error reading blob as data URL"))},o.readAsDataURL(t)})}).catch(function(e){throw r("FBLogger")("messenger_web").mustfixThrow("Failed to load image from URL: %s, %s",t,String(e))})}function f(t,r,a,i){if(a===void 0&&(a=!1),t.toBlob)return new(e||(e=n("Promise")))(function(e){var n=i==null?void 0:i/100;t.toBlob(e,r,n)}).then(function(o){var i=c,l=d/100;return a&&o.size>=i?new(e||(e=n("Promise")))(function(e){t.toBlob(e,r,l)}):o});var l;o("MWPBumpEntityKey").bumpEntityKey("maw","data_url_to_blob");var s=(l=o("WAWebDataUrlToBlob").dataURLtoBlob)!=null?l:window.dataURLtoBlob;return(e||(e=n("Promise"))).resolve(s(t.toDataURL(r))).then(function(o){var i=c,l=d/100;return a&&o.size>=i?(e||(e=n("Promise"))).resolve(s(t.toDataURL(r,l))):o})}function g(t,a,i,l,s,u){u===void 0&&(u=!1);var c=u?_(t):p(t);return c.then(function(e){var t=e.naturalWidth,n=e.naturalHeight,r=o("WACalculateBoundOutputSize").calculateBoundOutputSize({height:n,width:t},s),u=r.outputHeight,c=r.outputWidth,d=document.createElement("canvas");d.width=c,d.height=u;var m=d.getContext("2d");return l!==!0&&b(d),m.drawImage(e,0,0,t,n,0,0,c,u),f(d,a,!1,i).then(function(e){return{blob:e,height:u,width:c}})}).catch(function(t){return(e||(e=n("Promise"))).reject(t!=null?t:r("err")("Error loading image from URL"))})}function h(e,t){return p(e).then(function(e){var n=document.createElement("canvas"),r=e.naturalWidth,a=e.naturalHeight,i=n.getContext("2d"),l=v(a,r,t);n.width=l.width,n.height=l.height;var u=n.width,c=n.height;return C(n),i.drawImage(e,0,0,u,c),f(n,s,!0).then(function(e){return o("WABlobToArrayBuffer").blobToArrayBuffer(e).then(function(e){return{height:c,jpegThumbnail:e,width:u}})})})}function y(e,t){return p(e).then(function(e){var n=v(e.naturalHeight,e.naturalWidth,t);return{height:n.height,width:n.width}})}function C(e){var t=e.getContext("2d");t.fillStyle="rgb(247,247,247)",t.fillRect(0,0,e.width,e.height)}function b(e){var t=e.getContext("2d");t.fillStyle="rgb(255,255,255)",t.fillRect(0,0,e.width,e.height)}function v(e,t,n){var r=t!=null?t:n,o=e!=null?e:n;return r>o?r>n&&(o*=n/r,r=n):o>n&&(r*=n/o,o=n),{height:Math.round(Math.max(o,1)),width:Math.round(Math.max(r,1))}}function S(e){return p(e).then(function(e){return{height:e.naturalHeight,width:e.naturalWidth}})}function R(t,a,i,l){l===void 0&&(l=!1);var s=o("MAWAnimatedImageThumbnailStore").getThumbnailSpec(t);if(s)return(e||(e=n("Promise"))).resolve(s);var u=g(t,"image/gif",void 0,void 0,void 0,l);return u==null?null:u.then(function(e){var n=new File([e.blob],"gif",{type:"image/gif"});return o("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(n,Math.max(i!=null?i:e.width,a!=null?a:e.height)).then(function(e){return o("MAWAnimatedImageThumbnailStore").setThumbnailSpec(t,e),e})}).catch(function(e){throw r("FBLogger")("messenger_web_media").mustfixThrow("Failed while generating thumbnail for GIF. URL: ",t,e)})}function L(t){var r=t==null?void 0:t.file,a=t==null?void 0:t.width,i=t==null?void 0:t.height;if(r==null||a==null||i==null)return(e||(e=n("Promise"))).resolve(t);var l=o("MAWFrontendMediaUtils").getMediaTypeAndServerMediaTypeFromBlob(r.type,!0),s=l.mediaType;return s!==o("MAWDbMedia").MEDIA_TYPE.GIF?(e||(e=n("Promise"))).resolve(t):o("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(r,Math.max(a,i)).then(function(e){var t=new File([e.jpegThumbnail],"secure_threads_xma_preview_thumbnail",{type:"image/jpeg"});return{file:t,height:e.height,width:e.width}})}l.TYPE_JPEG=s,l.IMG_THUMB_MAX_EDGE=u,l.STICKER_THUMBNAIL_MAX_SIZE=m,l.canvasToBlob=f,l.urlToFile=g,l.urlToThumbnail=h,l.urlToThumbnailSpec=y,l.boundHeightWidth=v,l.urlToImageSpec=S,l.generateGIFThumbnail=R,l.generatePreviewBlobForShare=L}),98);
__d("MAWGetImageSpec",["MAWImageUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,n){var r=t.URL.createObjectURL(e);return o("MAWImageUtils").urlToFile(r,n!=null?n:e.type).then(function(e){var t=e.height,n=e.width;return{height:t,width:n}})}function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=t.URL.createObjectURL(e),r=yield o("MAWImageUtils").urlToImageSpec(n);return t.URL.revokeObjectURL(n),r}),u.apply(this,arguments)}l.getImageSpec_DEPRECATED=e,l.getImageSpec=s}),98);
__d("MAWMpsMigrationStatus",["ExecutionEnvironment","FBLogger","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(){return r("justknobx")._("5255")?!0:c==null?(r("FBLogger")("wmi").MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MAWMpsMigrationStatus is not initialised, main thread: ",""])),(u||(u=r("ExecutionEnvironment"))).isInMainThread),!1):c}function m(e){r("FBLogger")("wmi").DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["MAWMpsMigrationStatus is ",""])),e),c=e}l.isMigrated=d,l.setStatus=m}),98);
__d("MAWMpsGating",["MAWMpsMigrationStatus","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("10465")}function s(){return r("gkx")("19024")}function u(){return o("MAWMpsMigrationStatus").isMigrated()&&(e()||r("gkx")("17181"))}function c(){return e()||r("gkx")("17846")}function d(){return r("gkx")("17946")}l.isFullMpsEnabled=e,l.isMpsSpamReports=s,l.isMpsMessageRendering=u,l.isMpsSnippetsCacheServiceEnabled=c,l.isEBMessageProbeEnabled=d}),98);
__d("MsgrWebGating",["MAWMpsGating","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("15418")||o("MAWMpsGating").isMpsMessageRendering()}l.isQuotedMessagesInLsEnabled=e}),98);
__d("WAHashUtils",["WABase64"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("WABase64").encodeB64UrlSafe(e,t)}function s(e,t){return o("WABase64").encodeB64UrlSafe(e,t)}function u(e){return e}function c(e){return e}function d(e){return""+e.slice(0,3)}l.toPlaintextHash=e,l.toCiphertextHash=s,l.stringToPlaintextHash=u,l.toHashedPlaintextHash=c,l.sanitisePlaintextHash=d}),98);
__d("getReplyContentForNoteReply",["WAJids"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r,a=e.author,i=e.msgId,l=o("WAJids").authorToUserId(a,t),s=(n=e.quote)==null||(n=n.content.msgContent)==null?void 0:n.content,u=(r=e.quote)==null?void 0:r.content.expirationTs;return{isNoteReply:!0,replyMediaExpirationTimestampMs:u!=null?u*1e3:void 0,replyMessageText:s,replySourceId:i,replyToUserId:l}}l.default=e}),98);
__d("MAWBridgeMsg",["FBLogger","LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWImageUtils","MAWMsgType","MAWUserJidWrapper","MAWVault","MAWXMAUtils","MWPBumpEntityKey","MsgrWebGating","WAAssertUnreachable","WAHashUtils","WAJids","WALogger","WAMsgType","WATimeUtils","getReplyContentForNoteReply","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){var n;if(o("MsgrWebGating").isQuotedMessagesInLsEnabled()){if(e.isForwarded===!0&&e.type!==o("MAWMsgType").MSG_TYPE.STICKER)return{replyType:"FORWARD"};if(o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType))return{replyToMsgId:e.msgId,replyToUserId:o("WAJids").authorToUserId(e.author,t),replyType:"HIGHLIGHTS_TAB_POST_REPLY",timestampMs:e.sortOrderMs!=null?o("WATimeUtils").castToMillisTime(e.sortOrderMs):null};if(o("MAWXMAUtils").isXMAStoryMention(e.xmaMessageType)||o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)){var r=e.threadJid,a=o("WAJids").interpretAsUserJid(r),i;return a!=null&&(i=o("WAJids").userIdFromJid(a)),o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)?{mentionedUserId:i!=null?i:t,replyType:"FB_POST_MENTION",timestampMs:e.sortOrderMs!=null?o("WATimeUtils").castToMillisTime(e.sortOrderMs):null}:{mentionedUserId:i!=null?i:t,replyType:"FB_STORY_MENTION",timestampMs:e.sortOrderMs!=null?o("WATimeUtils").castToMillisTime(e.sortOrderMs):null}}if(!(o("MAWXMAUtils").isXMAStoryShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryReaction(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryHighlightShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType))){var l=(n=e.quote)==null?void 0:n.content;if(l!=null){var s=l.author,u=l.expirationTs,c=l.mediaId,d=l.msgContent,m=l.msgId,p=l.plaintextHash,_=l.sourceId,f=l.ts,g=l.type,h=l.xmaMessageType,y=o("WAJids").authorToUserId(s,t);if(g===o("WAMsgType").NOTE_REPLY)return{noteContent:d==null?void 0:d.content,replyMediaExpirationTimestampMs:u!=null?o("WATimeUtils").castToMillisTime(u*1e3):void 0,replyToMsgId:e.msgId,replyToUserId:y,replyType:"LIGHTWEIGHT_STATUS"};if(g===o("MAWMsgType").MSG_TYPE.XMA&&o("MAWXMAUtils").isXMAStoryReply(h)){if(_==null)return;var C=o("MAWXMAUtils").isXMAStoryProducerReply(h);return C?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:c!=null?c:void 0,storyMediaPlaintextHash:p,storyMsgType:c!=null?o("MAWMsgType").MSG_TYPE.IMAGE:void 0,storyOwnerId:y,storyUrl:_,timestampMs:f!=null?o("WATimeUtils").castUnixTimeToMillisTime(f):null}:{replyType:"STORY",storyMediaPlaintextHash:p,storyOwnerId:y,storyUrl:_,timestampMs:f!=null?o("WATimeUtils").castUnixTimeToMillisTime(f):null}}if(m!=null)return{isBumpMsg:e.type===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE,replyToMsgId:m,replyType:"MESSAGE"}}}}}function c(e,t,n){var a,i,l,s=((a=e.quote)==null?void 0:a.content.type)===o("WAMsgType").NOTE_REPLY;if(s)return r("getReplyContentForNoteReply")(e,n);var u=(i=e.quote)==null?void 0:i.content;if(o("MAWXMAUtils").isXMAStoryShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryReaction(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryMention(e.xmaMessageType)||o("MAWXMAUtils").isXMAStoryHighlightShare(e.xmaMessageType)||o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType)||o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)){var c,d=e.author,m=e.mediaId,p=e.msgId,_=o("WAJids").authorToUserId(d,n);if(o("MAWXMAUtils").isXMAStoryMention(e.xmaMessageType)||o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType)){var f=e.threadJid,g;f!=null&&(g=o("WAJids").interpretAsUserJid(f)),g!=null&&(_=o("WAJids").userIdFromJid(g))}return m!=null&&e.plaintextHash==null&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","bridge_msg_get_reply_content"),{isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(e.xmaMessageType),isFBStoryMention:o("MAWXMAUtils").isFBXMAStoryMention(e.xmaMessageType),isIGStoryMention:o("MAWXMAUtils").isIGXMAStoryMention(e.xmaMessageType),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(e.xmaMessageType),isMsgHighlightsTabFriendUpdatesReply:o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.xmaMessageType),isStoryHighlightShare:o("MAWXMAUtils").isXMAStoryHighlightShare(e.xmaMessageType),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(e.xmaMessageType),isStoryReply:o("MAWXMAUtils").isXMAStoryReply(e.xmaMessageType),replyMediaExpirationTimestampMs:u==null?void 0:u.expirationTs,replyMediaId:m,replyPlaintextHash:(c=e.plaintextHash)!=null?c:void 0,replySenderIsMe:d===o("WAJids").AUTHOR_ME||_===n,replySourceId:p,replySourceTimestampMs:e.sortOrderMs,replyStatusType:m!=null?o("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:_}}if(!(u==null||(u==null?void 0:u.msgId)==null&&(u==null?void 0:u.sourceId)==null)){var h=u||{},y=h.author,C=h.mediaId,b=h.msgId,v=h.plaintextHash,S=h.sourceId,R=h.specialTextSize,L=h.ts,E=h.type,k=h.xmaMessageType,I=L!=null?L*1e3:void 0,T=u.type===o("MAWMsgType").MSG_TYPE.TEXT||o("MAWXMAUtils").isXMAExternalLinkShare(k)?(l=u.msgContent)==null?void 0:l.content:void 0,D=o("WAJids").authorToUserId(y,n),x=u.type===o("MAWMsgType").MSG_TYPE.TEXT?u.msgContent.mentionedJids:void 0,$=y===o("WAJids").AUTHOR_ME||D===n,P=t||{},N=P.replyMediaId,M=P.replyMediaPreviewHeight,w=P.replyMediaPreviewWidth,A=P.replyMediaUrlFallback,F=P.replyPlaintextHash,O=P.replyXMAId;if(o("MAWXMAUtils").isXMAStoryReply(k)){var B;return{isStoryProducerReply:o("MAWXMAUtils").isXMAStoryProducerReply(k),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(k),isStoryReply:!0,replyMediaExpirationTimestampMs:u==null?void 0:u.expirationTs,replyMediaId:C,replyPlaintextHash:(B=F!=null?o("WAHashUtils").stringToPlaintextHash(F):v)!=null?B:void 0,replySenderIsMe:$,replySourceId:S,replySourceTimestampMs:I,replyStatusType:C!=null?o("MAWMsgType").MSG_TYPE.IMAGE:void 0,replyToUserId:D}}var W=o("MAWImageUtils").boundHeightWidth(M,w,96*.8),q=W.height,U=W.width;return{isIGXMAPostShare:o("MAWXMAUtils").isIGXMAPostShare(k),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(k),isStoryReply:!1,replyMediaId:N,replyMediaPreviewHeight:E===o("MAWMsgType").MSG_TYPE.STICKER?q:M,replyMediaPreviewWidth:E===o("MAWMsgType").MSG_TYPE.STICKER?U:w,replyMediaUrlFallback:A,replyMentionedJids:x,replyMessageText:T,replyPlaintextHash:F!=null?o("WAHashUtils").stringToPlaintextHash(F):void 0,replySenderIsMe:$,replySourceId:b,replySourceTimestampMs:I,replyStatusType:R===1||R===2||R===3?o("MAWMsgType").MSG_TYPE.STICKER:E,replyToUserId:D,replyXMAId:O}}}function d(e){var t=e.specialTextSize;switch(t){case 1:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL);case 2:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM);case 3:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE);default:return(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").NONE)}}function m(e){if(r("justknobx")._("3424")&&e==="media_restore")return"EncryptedBackupsMedia";switch(e){case"eb_restore":return"EncryptedBackups";case"media_restore":return"EncryptedBackupsMedia";case"whatsapp":return"WhatsApp";default:return}}function p(t,n,a){var i,l,s,d,p=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid()),_=((i=t.isForwarded)!=null?i:!1)&&t.type!==o("MAWMsgType").MSG_TYPE.STICKER,f=(l=t.forwardingScore)!=null?l:0,g=o("MAWDbMsg").getCanonicalTsFromMsg(t),h=c(t,n,p),y=u(t,p),C=o("MAWXMAUtils").isXMAStoryShare(t.xmaMessageType),b=o("MAWXMAUtils").isXMAStoryReaction(t.xmaMessageType),v=o("MAWXMAUtils").isXMAExternalLinkShare(t.xmaMessageType),S=o("MAWXMAUtils").isIGXMAStoryMention(t.xmaMessageType),R=o("MAWXMAUtils").isFBXMAStoryMention(t.xmaMessageType),L=o("MAWXMAUtils").isXMAStoryHighlightShare(t.xmaMessageType),E=o("MAWXMAUtils").isXMAPostPrivateReply(t.xmaMessageType),k=o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(t.xmaMessageType),I=t.messageExpirationTs!=null&&t.messageExpirationTs<=o("WATimeUtils").unixTime(),T=o("MAWDbMsg").getSortOrderWithFallback(t),D=t.externalId,x=m(t.source);(n==null?void 0:n.replyPlaintextHash)!==(h==null?void 0:h.replyPlaintextHash)&&r("FBLogger")("messenger_web").warn("replyPlaintextHash mismatch. From replyMeta is null: %s, from replyContent is null: %s. Message type: %s",(n==null?void 0:n.replyPlaintextHash)==null,(h==null?void 0:h.replyPlaintextHash)==null,t.type);var $=(n==null?void 0:n.replyPlaintextHash)!=null?o("WAHashUtils").stringToPlaintextHash(n==null?void 0:n.replyPlaintextHash):(s=h==null?void 0:h.replyPlaintextHash)!=null?s:void 0;switch(t.type){case o("MAWMsgType").MSG_TYPE.TEXT:{var P,N=o("MAWVault").isVaulted(t.msgContent.content)?t.msgContent.content:o("MAWVault").vault(t.msgContent.content);return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,applicationErrorCode:t.applicationErrorCode,chatJid:t.threadJid,commands:t.msgContent.commands,content:N,editCount:t.editCount,ephemeralDurationInSec:(P=t.ephemeralSetting)==null?void 0:P.ephemeralExpirationInSec,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,mentionedJids:t.msgContent.mentionedJids,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,specialTextSize:t.specialTextSize,transportKey:x,ts:g,type_:t.type})}case o("MAWMsgType").MSG_TYPE.IMAGE:case o("MAWMsgType").MSG_TYPE.VIDEO:case o("MAWMsgType").MSG_TYPE.PTT:case o("MAWMsgType").MSG_TYPE.GIF:case o("MAWMsgType").MSG_TYPE.STICKER:case o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case o("MAWMsgType").MSG_TYPE.RAVEN:case o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,applicationErrorCode:t.applicationErrorCode,chatJid:t.threadJid,ephemeralDurationInSec:(d=t.ephemeralSetting)==null?void 0:d.ephemeralExpirationInSec,externalId:D,forwardingScore:f,groupId:t.groupId,groupIndex:t.groupIndex,groupSize:t.groupSize,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type});case o("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type,unsupportedType:t.msgContent.subtype});case o("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type};case o("MAWMsgType").MSG_TYPE.UNAVAILABLE:case o("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type});case o("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{_META_loaded_as_quoted_msg:a,ack:t.ack,adminContent:[t.msgContent.authorName],adminType:t.msgContent.adminType,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!0,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type};case o("MAWMsgType").MSG_TYPE.ADMIN:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case o("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case o("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case o("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:{var M,w,A;return{_META_loaded_as_quoted_msg:a,ack:t.ack,adminContent:(M=t.msgContent)==null||(M=M.adminMsgContent)==null?void 0:M.map(function(e){return e==="Facebook User"?"0":e}),adminType:(w=t.msgContent)==null?void 0:w.adminType,adminVersion:(A=t.msgContent)==null?void 0:A.version,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!0,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type}}case o("MAWMsgType").MSG_TYPE.REVOKED:return{_META_loaded_as_quoted_msg:a,ack:t.ack,chatJid:t.threadJid,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isExpiredMsg:I,isForwarded:_,msgId:t.msgId,originalTs:t.originalTs,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type};case o("MAWMsgType").MSG_TYPE.XMA:{var F,O,B,W,q,U=(F=t.msgContent)==null?void 0:F.content,V=U!=null?o("MAWVault").isVaulted(U)?(O=t.msgContent)==null?void 0:O.content:o("MAWVault").vault(U):void 0;v&&V==null&&o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MAWBridgeMsg] Missing content for external link share XMA message"])));var H=V;return babelHelpers.extends({},h,{_META_loaded_as_quoted_msg:a,ack:t.ack,applicationErrorCode:t.applicationErrorCode,chatJid:t.threadJid,commands:(B=t.msgContent)==null?void 0:B.commands,content:H,ephemeralDurationInSec:(W=t.ephemeralSetting)==null?void 0:W.ephemeralExpirationInSec,externalId:D,forwardingScore:f,isAdminMessage:!1,isAuthorMe:t.author===o("WAJids").AUTHOR_ME,isCollapsed:t.isCollapsed,isExpiredMsg:I,isExpiredXmaMsg:t.isExpiredXmaMsg,isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(t.xmaMessageType),isFBStoryMention:R,isForwarded:_,isIGStoryMention:S,isMsgHighlightsTabFriendUpdatesReply:k,isPostPrivateReply:E,isStoryHighlightShare:L,isStoryReaction:b,isStoryShare:C,mentionedJids:(q=t.msgContent)==null?void 0:q.mentionedJids,msgId:t.msgId,replyContent:y,replyPlaintextHash:$,sender:o("WAJids").authorToUserId(t.author,p),sortOrderMs:T,transportKey:x,ts:g,type_:t.type,xmaMessageType:t.xmaMessageType})}default:return r("WAAssertUnreachable")(t.type)}}l.getSpecialTextSize=d,l.convertDbMsgSourceToLSTransportKey=m,l.createBridgeMsg=p}),98);
__d("MAWMessageRequestUtil",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWFBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){if(t==="pending"||t==="other")return o("MWFBLogger").MWLogger().debug("isMessagerRequestV2 returns true: folderName is "+t+", contactViewerRelationship is "+(e||(e=o("I64"))).to_string(a.contactViewerRelationship)),!0;var i=o("LSContactBitOffset").hasWithDefault(64,a,!0);return t==="inbox"&&(e||(e=o("I64"))).equal(a.contactViewerRelationship,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").NOT_CONTACT))&&!i?(n&&o("MWFBLogger").MWLogger().debug("isMessagerRequestV2 returns true: folderName is inbox, contactViewerRelationship is "+(e||(e=o("I64"))).to_string(a.contactViewerRelationship)+", isViewerUnconnected is false, hasActivity is true"),n):!1}function c(e){return e==="pending"||e==="other"}function d(e){return o("LSMessagingThreadTypeUtil").isOneToOne(e.threadType)?c(e.folderName):!1}function m(t,n){return n!=null?u(t.folderName,(e||(e=o("I64"))).gt(t.lastActivityTimestampMs,e.zero),n[1]):!1}function p(e,t){return o("LSMessagingThreadTypeUtil").isOneToOne(e.threadType)?m(e,t):!1}function _(e){return o("LSMessagingThreadTypeUtil").isGroup(e.threadType)?c(e.folderName):!1}var f=[8,18,19,34,24,25,122],g=[21,48];l.isMessageRequestV2=u,l.isOneOnOneMessageRequest=d,l.isOneOnOneMessageRequestV2=p,l.isGroupMessageRequest=_,l.disabledThreadCapabilitiesForIncomingRequest=f,l.enabledThreadCapabilitiesForIncomingRequest=g}),98);
__d("clearedMAWMnRestrictCapabilities",[],(function(t,n,r,o,a,i){"use strict";var e=[0,31,35,55,56,58,24,25,35,19],l=e;i.default=l}),66);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities","emptyFunction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=o("MAWCurrentUser").getID(),m=(c||(c=o("I64"))).of_string(d);function p(t,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange(a)).then(function(r){if(r==null)return(e||(e=n("Promise"))).resolve();var a=o("LSBitOffset").set((u||(u=o("LSIntEnum"))).ofNumber(27),r.capabilities),i=babelHelpers.extends({},r,{capabilities:a});return t.threads.put(i)}).then(r("emptyFunction"))}function _(t,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange(a)).then(function(r){if(r==null)return(e||(e=n("Promise"))).resolve();var a=o("LSBitOffset").clear((u||(u=o("LSIntEnum"))).ofNumber(27),r.capabilities),i=babelHelpers.extends({},r,{capabilities:a});return t.threads.put(i)}).then(r("emptyFunction"))}function f(t,a){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.threads).getKeyRange(a)).then(function(r){if(r==null)return(e||(e=n("Promise"))).resolve([void 0,void 0]);var i=o("ReQL").firstAsync(o("LSMessagingThreadTypeUtil").isOneToOne(r.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.participants).getKeyRange(a),o("ReQL").fromTableAscending(t.contacts)).filter(function(e){var t=e[1];return!(c||(c=o("I64"))).equal(t.id,m)}).map(function(e){var t=e[1];return t}):o("ReQL").empty());return(e||(e=n("Promise"))).all([e.resolve(r),i])}).then(function(a){var i=a[0];if(i==null)return(e||(e=n("Promise"))).resolve();var l=a[1];if(l==null)return(e||(e=n("Promise"))).resolve();var s=(c||(c=o("I64"))).equal(l.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),d=c.equal(l.blockedByViewerStatus,u.ofNumber(r("LSContactBlockedByViewerStatus").FULLY_BLOCKED)),m=o("LSContactBitOffset").has(66,l),p=d?o("LSThreadBitOffset").clear(o("MAWBlockUtils").clearedFbBlockCapabilities,i.capabilities,i.capabilities2,i.capabilities3,i.capabilities4,i.capabilities5):s?o("LSThreadBitOffset").clear(o("MAWBlockUtils").clearedMnBlockCapabilities,i.capabilities,i.capabilities2,i.capabilities3,i.capabilities4,i.capabilities5):m?o("LSThreadBitOffset").clear(r("clearedMAWMnRestrictCapabilities"),i.capabilities,i.capabilities2,i.capabilities3,i.capabilities4,i.capabilities5):[i.capabilities,i.capabilities2,i.capabilities3,i.capabilities4,i.capabilities5],_=p[0],f=p[1],g=p[2],h=p[3],y=p[4];return t.threads.put(babelHelpers.extends({},i,{capabilities:_,capabilities2:f,capabilities3:g,capabilities4:h,capabilities5:y})).then(r("emptyFunction"))})}function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=t.threads,i=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(a).getKeyRange(r));if(i==null)return(e||(e=n("Promise"))).resolve();var l=o("LSThreadBitOffset").set.apply(o("LSThreadBitOffset"),[o("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest].concat(o("LSThreadBitOffset").clear(o("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,i.capabilities,i.capabilities2,i.capabilities3,i.capabilities4,i.capabilities5))),s=l[0],u=l[1],c=l[2],d=l[3],m=l[4];yield a.put(babelHelpers.extends({},i,{additionalThreadContext:void 0,capabilities:s,capabilities2:u,capabilities3:c,capabilities4:d,capabilities5:m}))}),h.apply(this,arguments)}function y(e,t,n){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(t));if(r!=null){var a=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.contacts,["name"]).getKeyRange(n));if(a!=null){var i=s._(/*BTDS*/"\u062a\u0645\u062a \u062f\u0639\u0648\u062a\u0643 \u0644\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0628\u0648\u0627\u0633\u0637\u0629 {Inviter Name}",[s._param("Inviter Name",a.name)]).toString(),l=o("LSThreadBitOffset").set([105],r.capabilities,r.capabilities2,r.capabilities3,r.capabilities4,r.capabilities5),u=l[0],c=l[1],d=l[2],m=l[3],p=l[4];yield e.threads.put(babelHelpers.extends({},r,{capabilities:u,capabilities2:c,capabilities3:d,capabilities4:m,capabilities5:p,snippet:i}))}}}),C.apply(this,arguments)}function b(e,t){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.threads).getKeyRange(t));if(r!=null){var a=yield o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(e.group_invites).getKeyRange(t)),i=o("LSThreadBitOffset").clear([105],r.capabilities,r.capabilities2,r.capabilities3,r.capabilities4,r.capabilities5),l=i[0],s=i[1],u=i[2],c=i[3],d=i[4];yield e.threads.put(babelHelpers.extends({},r,{capabilities:l,capabilities2:s,capabilities3:u,capabilities4:c,capabilities5:d,snippet:void 0})),yield a.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield e.group_invites.delete(t.threadKey,t.inviterId,t.inviteeId)});return function(e){return t.apply(this,arguments)}})())}}),v.apply(this,arguments)}l.enableAddMembersTxn=p,l.disableAddMembersTxn=_,l.disableBlockerCapabilitiesTxn=f,l.updateNonMessageRequestThreadTxn=g,l.setGroupInviteTxn=y,l.clearGroupInviteTxn=b}),226);
__d("uniqueArray",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}function l(t,n){var r=n!=null?n:e,o=[],a=new Set;return t.forEach(function(e){var t=r(e);a.has(t)||(a.add(t),o.push(e))}),o}i.default=l}),66);
__d("MAWBridgeParticipantsUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWJids","MAWMiActMappingTableAPI","MAWUpdateLSThreadCapabilities","Promise","asyncToGeneratorRuntime","uniqueArray"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=o("MAWCurrentUser").getID(),m=(c||(c=o("I64"))).of_string(d);function p(e,t){var n=t.map(function(e){var t=e.chatJid,n=e.type,r=e.userJid;return babelHelpers.extends({chatJid:t},E(n),{userJid:r})});return f(e,n)}function _(e,t){var n=t.participants.map(function(e){return{chatJid:e.threadJid,isAdmin:e.isAdmin,isInvited:e.isInvited,isSuperAdmin:e.isSuperAdmin,userJid:o("MAWJids").toUserJid(e.fbid)}});return f(e,n)}function f(e,t){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=yield C(t,r);yield(e||(e=n("Promise"))).all(a.map(function(r){var a=r.mawParticipant,i=r.threadKey,l=o("MAWJids").convertChatJidToIntJid(a.userJid);return[t.participants.get(i,l).then(function(r){var o=R(r,a,i);return r!=null?t.participants.put(o):(e||(e=n("Promise"))).all([t.participants.add(o),h(t,l)])}),v(t,l,i,a.isAdmin)]}).flat(1/0))}),g.apply(this,arguments)}function h(e,t){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(e),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:u.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:u.ofNumber(r("LSContactIdType").FBID),contactType:u.ofNumber(r("LSContactType").USER),contactViewerRelationship:u.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:u.ofNumber(r("LSContactGender").UNKNOWN),id:t,isBlocked:!1,isMemorialized:!1,isSelf:d===(c||(c=o("I64"))).to_string(t),workForeignEntityType:u.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})}),y.apply(this,arguments)}function C(e,t){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var i=r("uniqueArray")(a.map(function(e){return e.chatJid})),l=new Map;return yield(e||(e=n("Promise"))).all(i.map(function(e){return o("MAWMiActMappingTableAPI").getThreadKeyForChatJid(t,e).then(function(t){return t!=null&&l.set(e,t)})})),a.map(function(e){var t=l.get(e.chatJid);return t==null?null:{mawParticipant:e,threadKey:t}}).filter(Boolean)}),b.apply(this,arguments)}function v(e,t,n,r){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){yield o("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(e,n),(c||(c=o("I64"))).equal(m,t)&&(r?yield o("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(e,n):yield o("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(e,n))}),S.apply(this,arguments)}function R(e,t,n){return e==null?babelHelpers.extends({},L(t),{authorityLevel:(c||(c=o("I64"))).zero,contactId:o("MAWJids").convertChatJidToIntJid(t.userJid),deliveredWatermarkTimestampMs:c.zero,isSuperAdmin:t.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:c.zero,readWatermarkTimestampMs:c.zero,threadKey:n,threadRoles:c.zero}):babelHelpers.extends({},e,L(t))}function L(e){return{groupParticipantJoinState:e.isInvited?(u||(u=o("LSIntEnum"))).ofNumber(r("LSGroupParticipantJoinState").INVITED):(u||(u=o("LSIntEnum"))).ofNumber(r("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,subscribeSource:e.isSuperAdmin?s._(/*BTDS*/"\u0645\u0646\u0634\u0626 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629").toString():void 0}}function E(e){return{isAdmin:e==="superadmin"||e==="admin",isInvited:e==="invitedParticipant",isSuperAdmin:e==="superadmin"}}l.callFromMainThread=p,l.call=_,l.mawToLsParticipantTypeConversion=E}),226);
__d("MAWBridgeSafeActionsWorkerAndUI",["ExecutionEnvironment","FBLogger","MAWBridge","Promise","ifRequireable"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,i){return(s||(s=r("ExecutionEnvironment"))).isInWorker?o("MAWBridge").getBridge().sendAndReceive("backend",t,a,i==null?void 0:i.isLoggingDisabled):new(e||(e=n("Promise")))(function(e,n){return r("ifRequireable")("MAWBridgeSendAndReceive",function(n){var r=n.sendAndReceive;return e(r("backend",t,a,i))},function(){return n("MAWBridgeSendAndReceive not available in UI ifRequired")})})}function c(e,t,n){return(s||(s=r("ExecutionEnvironment"))).isInWorker?o("MAWBridge").getBridge().fireAndForget("backend",e,t,n):r("ifRequireable")("MAWBridgeFireAndForget",function(r){var o=r.fireAndForget;return o("backend",e,t,n)},function(){throw r("FBLogger")("messenger_web").mustfixThrow("MAWBridgeFireAndForget not available in UI ifRequired")})}l.sendAndReceiveBackendWorkerAndUIShared=u,l.fireAndForgetBackendWorkerAndUIShared=c}),98);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]),l=e;i.default=l}),66);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){try{return(e||(e=o("I64"))).of_string(t)}catch(e){var n=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(n).mustfix("Cannot convert string to i64: %s",t)}}l.stringToI64Opt=s}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return r("LSXmaContentType").FB_FEED_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return r("LSXmaContentType").FB_STORY_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return r("LSXmaContentType").FB_STORY_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return r("LSXmaContentType").FB_STORY_MENTION;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return r("LSXmaContentType").FB_FEED_VIDEO_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return r("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return r("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return r("LSXmaContentType").FB_EVENT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return r("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:return r("LSXmaContentType").MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return r("LSXmaContentType").FB_SHORT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return r("LSXmaContentType").MSG_LOCATION_SHARING;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return r("LSXmaContentType").MSG_LOCATION_SHARING_V2;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return r("LSXmaContentType").FB_POST_MENTION;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_REACTION_REPLY:return r("LSXmaContentType").FB_FEED_POST_REACTION_REPLY;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return r("LSXmaContentType").MSG_CONTACT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return r("LSXmaContentType").MSG_AI_CONTACT;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return r("LSXmaContentType").MSG_MEMORIES_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:return r("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:return r("LSXmaContentType").RTC_AUDIO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return r("LSXmaContentType").RTC_VIDEO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:return r("LSXmaContentType").RTC_MISSED_AUDIO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:return r("LSXmaContentType").RTC_MISSED_VIDEO_CALL;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return r("LSXmaContentType").FB_PROFILE_DIRECTORY_ITEM;default:return null}}l.convertExtendedContentTypeToLSXmaContentType=e}),98);
__d("MAWBridgeXMAUtils",["I64","LSIntEnum","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWMpsGating","MAWXMAUtils","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWPBumpEntityKey","MessagingAttachmentType","Promise","Random","ReQL","WAArmadilloXMA.pb","WAJids","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n,r,o,a){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i,l,s){var c=r.ctas,d=r.defaultCTA,m=p(r.targetId,r.targetType),f=(u||(u=o("I64"))).of_int32(o("Random").uint32());if(d!=null){var C=g(d,f,i,a,l,m,r.targetType);yield y(t,C,f,s.defaultCta)}var b=o("MAWXMAUtils").isFBXMAPostMention(r.targetType)&&r.author===o("WAJids").AUTHOR_ME,v=[];return c!=null&&!b&&(v=yield(e||(e=n("Promise"))).all(c.map(function(e,n){var r=_(f,n),o=h(e,r,i,a,l,m),u=n===0?s.attachmentCta1:n===1?s.attachmentCta2:n===2?s.attachmentCta3:void 0;return y(t,o,r,u)}))),{attachmentCta1Id:v.length>0?v[0]:void 0,attachmentCta2Id:v.length>1?v[1]:void 0,attachmentCta3Id:v.length>2?v[2]:void 0,defaultCtaId:d==null?void 0:f}}),d.apply(this,arguments)}function m(e){var t="xma_web_url";switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:t="xma_rtc_audio";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:t="xma_rtc_video";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:t="xma_rtc_missed_audio";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:t="xma_rtc_missed_video";break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:t="igd_web_post_share";break}return t}function p(e,t){if(!o("MAWXMAUtils").isFBXMAPostMention(t))return e!=null?o("MAWBridgeUIEventDataValidation").stringToI64Opt(e):void 0}function _(e,t){return(u||(u=o("I64"))).add(e,u.of_int32(t+1))}function f(e,t,n,r,a,i,l){var s;l===void 0&&(l="xma_web_url");var c=e.actionUrl,d=e.nativeUrl;return{actionContentBlob:void 0,actionUrl:c!=null?c:d,attachmentFbid:a,attachmentIndex:(u||(u=o("I64"))).zero,ctaId:t,enableExtensions:!1,extensionHeightType:void 0,messageId:n,nativeUrl:d!=null?d:c,platformToken:void 0,targetId:i!=null?i:void 0,threadKey:r,title:(s=e.title)!=null?s:"Tap to view status update",type_:l!=null?l:"xma_web_url",urlWebviewType:void 0}}function g(e,t,n,r,o,a,i){var l=m(i);return f(e,t,n,r,o,a,l)}function h(e,t,n,r,o,a){var i;switch(e.ctaType){case"contact_sharing_profile":i="contact_sharing_profile";break;case"contact_sharing_message":i="contact_sharing_message";break}return f(e,t,n,r,o,a,i)}function y(e,t,n,r){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){return r!=null?yield e.attachment_ctas.upsert([r.ctaId],t):yield e.attachment_ctas.add(t),n}),C.apply(this,arguments)}function b(e,t,n){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=null,a={attachmentCta1:void 0,attachmentCta2:void 0,attachmentCta3:void 0,defaultCta:void 0};return r=yield o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(t,n)),r!=null&&(a.defaultCta=yield S(e,r.defaultCtaId),a.attachmentCta1=yield S(e,r.attachmentCta1Id),a.attachmentCta2=yield S(e,r.attachmentCta2Id),a.attachmentCta3=yield S(e,r.attachmentCta3Id)),[r,a]}),v.apply(this,arguments)}function S(t,r){var a;return r==null?(e||(e=n("Promise"))).resolve(void 0):(a=o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.attachment_ctas).getKeyRange(r)))!=null?a:void 0}function R(e,t,n,a,i,l,c,d,m){var p,_,f,g,h,y,C,b,v=(u||(u=o("I64"))).zero,S=L(e),R=o("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(e.targetType),D=R?(u||(u=o("I64"))).of_int32(R):void 0,x=(p=e==null||(_=e.defaultCTA)==null?void 0:_.actionUrl)!=null?p:e==null||(f=e.defaultCTA)==null?void 0:f.nativeUrl;e.defaultPreviewMediaId!=null&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_xma_handler","xma_preview_media_has_plaintext_hash."+m+"."+e.targetType+"."+(e.defaultPreviewMediaPlaintextHash!=null?"true":"false"));var $=o("MAWMpsGating").isMpsMessageRendering();return{accessibilitySummaryText:void 0,actionUrl:x!=null?x:void 0,attachmentCta1Id:i,attachmentCta2Id:l,attachmentCta3Id:c,attachmentFbid:n,attachmentIndex:u.zero,attachmentLoggingType:void 0,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:u.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:k(e.ctas,1),cta1Type:E(e.ctas,1),cta2Title:k(e.ctas,2),cta2Type:E(e.ctas,2),cta3Title:k(e.ctas,3),cta3Type:E(e.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:d,defaultCtaTitle:(g=e.defaultCTA)==null?void 0:g.title,defaultCtaType:S.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:e.filesize!=null?(u||(u=o("I64"))).of_int32(e.filesize):void 0,gatingTitle:e.overlayTitle,gatingType:e.overlayIconGlyph!=null?String(e.overlayIconGlyph):void 0,hasMedia:e.hasMedia!=null?e.hasMedia:!1,hasXma:!0,hasXmaFavicon:$?e.faviconPlaintextHash!=null:e.faviconMediaId!=null,hasXmaHeaderImage:$?e.headerMediaPlaintextHash!=null:e.headerMediaId!=null,hasXmaPreview:$?e.defaultPreviewMediaPlaintextHash!=null:e.defaultPreviewMediaId!=null,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:e.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:e.maxSubtitleNumOfLines!=null?(u||(u=o("I64"))).of_int32(e.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:e.maxTitleNumOfLines!=null?(u||(u=o("I64"))).of_int32(e.maxTitleNumOfLines):void 0,messageId:a,miniPreview:void 0,offlineAttachmentId:(h=e.offlineAttachmentId)!=null?h:n,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:S.height,previewHeightLarge:e.previewHeightLarge!=null?(u||(u=o("I64"))).of_int32(e.previewHeightLarge):void 0,previewImageDecorationType:T(e.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:S.width,previewWidthLarge:e.previewWidthLarge!=null?(u||(u=o("I64"))).of_int32(e.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:e.subtitleText,targetId:void 0,threadKey:t,timestampMs:v,titleText:e.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:D,xmaDataclass:e.xmaDataclass,xmaFaviconFbid:$?e.faviconPlaintextHash:(y=e.faviconMediaId)==null?void 0:y.toString(),xmaHeaderImageFbid:$?e.headerMediaPlaintextHash:(C=e.headerMediaId)==null?void 0:C.toString(),xmaLayoutType:e.xmaLayoutType!=null?I(e.xmaLayoutType):void 0,xmaPreviewFbid:$?e.defaultPreviewMediaPlaintextHash:(b=e.defaultPreviewMediaId)==null?void 0:b.toString(),xmasTemplateType:e.xmaLayoutType!=null?I(e.xmaLayoutType):void 0}}function L(e){var t;switch(e.targetType){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:t={height:(u||(u=o("I64"))).of_int32(108),width:(u||(u=o("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:t={xmaContentType:"xma_rtc_audio"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:t={xmaContentType:"xma_rtc_video"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:t={xmaContentType:"xma_rtc_missed_audio"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:t={xmaContentType:"xma_rtc_missed_video"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:t={xmaContentType:"xma_rtc_missed_group_audio"};break;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:t={xmaContentType:"xma_rtc_missed_group_video"};break;default:t={height:e.previewHeight!=null?(u||(u=o("I64"))).of_int32(e.previewHeight):void 0,width:e.previewWidth!=null?(u||(u=o("I64"))).of_int32(e.previewWidth):void 0,xmaContentType:"xma_web_url"};break}return t}function E(e,t){if(e!=null){var n=e[t-1];if(n!=null){var r=n.buttonType,a=n.ctaType;switch(a){case"contact_sharing_profile":return"contact_sharing_profile";case"contact_sharing_message":return"contact_sharing_message";default:return r===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}}}}function k(e,t){if(e!=null){var n=e[t-1];if(n!=null)return n.title}}function I(e){return e===0||e!==3?(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE):(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").PORTRAIT)}function T(e){switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").COLLAGE);case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").REEL);case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DEFAULT)}}l.addAttachmentCtas=c,l.maybeBridgeToLSTargetId=p,l.getCtaIdFromDefaultCtaId=_,l.composeDefaultAttachmentCta=g,l.composeAttachmentCta=h,l.getExistingAttachmentAndAttachmentCtas=b,l.composeAttachmentXMA=R}),98);
__d("MAWBridgeXMA",["MAWBridgeXMAUtils","MAWDbMedia","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){if(e!=null)switch(e){case"Image":case"Sticker":return"image/png";case"Gif":return"image/gif";case"Video":return"video/mp4";case"Ptt":return"audio/wav"}}function u(t,n,r){var a,i,l,u,c=n.author,d=n.contentRef,m=n.ctas,p=n.defaultCTA,_=n.defaultPreviewMediaId,f=n.defaultPreviewMediaPlaintextHash,g=n.faviconMediaId,h=n.faviconPlaintextHash,y=n.headerMediaId,C=n.headerMediaPlaintextHash,b=n.headerTitle,v=n.maxSubtitleNumOfLines,S=n.maxTitleNumOfLines,R=n.msgId,L=n.offlineAttachmentId,E=n.overlayIconGlyph,k=n.overlayTitle,I=n.subtitleText,T=n.targetId,D=n.targetType,x=n.targetUsername,$=n.threadJid,P=n.titleText,N=n.xmaDataclass,M=n.xmaId,w=n.xmaLayoutType;t!=null&&t.mediaType!==o("MAWDbMedia").MEDIA_TYPE.IMAGE&&o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MAWBridge - createBridgeXMA received unexpected media type - ",""])),t.mediaType),T!=null&&o("MAWBridgeXMAUtils").maybeBridgeToLSTargetId(T,D);var A=r.hasMedia,F=r.hasXmaFaviconMedia,O=r.hasXmaHeaderMedia;return{author:c,contentRef:d,ctas:m==null?void 0:m.filter(function(e){return e.ctaType!=null}),defaultCTA:p,defaultPreviewMediaId:_,defaultPreviewMediaPlaintextHash:f,duration:null,faviconMediaId:g,faviconPlaintextHash:h,filesize:t==null?void 0:t.size,hasMedia:A,hasXmaFaviconMedia:F,hasXmaHeaderMedia:O,headerMediaId:y,headerMediaPlaintextHash:C,headerTitle:b,maxSubtitleNumOfLines:v,maxTitleNumOfLines:S,mediaType:t==null?void 0:t.mediaType,msgId:R,offlineAttachmentId:L,overlayIconGlyph:E,overlayTitle:k,playableUrlMimeType:s(t==null?void 0:t.mediaType),previewHeight:t==null||(a=t.validatedImageInfo)==null?void 0:a.jpegThumbnailHeight,previewHeightLarge:t==null||(i=t.validatedImageInfo)==null?void 0:i.height,previewUrlMimeType:s(t==null?void 0:t.mediaType),previewWidth:t==null||(l=t.validatedImageInfo)==null?void 0:l.jpegThumbnailWidth,previewWidthLarge:t==null||(u=t.validatedImageInfo)==null?void 0:u.width,subtitleText:I,targetId:T,targetType:D,targetUsername:x,threadJid:$,titleText:P,ts:t==null?void 0:t.ts,xmaDataclass:N,xmaId:M,xmaLayoutType:w}}function c(e,t){var n=e.msgId,r=e.threadJid;return{msgId:n,threadJid:r,xmaId:t}}function d(e,t){var n=e.msgId,r=e.threadJid;return{msgId:n,threadJid:r,xmaId:t}}l.mediaTypeToMimeType=s,l.createBridgeXMA=u,l.createBridgeXMAShareExpired=c,l.createBridgeXMAShareTombstoned=d}),98);
__d("MAWCacheServiceDB",["FBLogger","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","Promise","WAHex","Worm","WormDump","WormEAR","WormIDbDriver","asyncToGeneratorRuntime","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s={autoIncrement:!0,indexes:{key:{fields:["key"],unique:!0}},primaryKey:"id",secure:!0},u={messageComposerDrafts:s,snippets:s},c=null,d=function(t,n,a){var e="maw_cache_service",i=new(o("WormEAR")).WormEAR(a,e,n),l=new(o("WormIDbDriver")).WormIDbDriver(t,e,a,i,o("MAWWormOdsLogger").wormOdsWorkerLogger,{onTransactionError:p});return new(o("Worm")).WormDatabase(l,r("qpl")._(1056840657,"2716"))};function m(){return c!==null||(c=new(e||(e=n("Promise")))((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n=d(o("MAWIndexedDbMetadata").MAWcacheServiceDbName(o("MAWCurrentUser").getID()),o("WAHex").parseHex(r("MessengerWebInitData").accountKeyV2),u);yield n.init(),e(n)}catch(e){r("FBLogger")("messenger_web").catching(e).mustfix("Failed to create cache service DB"),c=null,t(e)}});return function(t,n){return e.apply(this,arguments)}})())),c}function p(e){if(e instanceof o("WormEAR").DecryptionError){var t=e;r("FBLogger")("MAWCacheService").mustfix("EAR decryption error in store: %s. Attempting to delete the store:",t.store),r("promiseDone")(m().then(function(e){return e.runInTransaction([t.store],"readwrite",function(e){return e.stores[t.store].clear()},"delete-corrupted-entity")}).then(function(){r("FBLogger")("MAWCacheService").info("Successfully deleted corrupted store %s",t.store)}).catch(function(e){r("FBLogger")("MAWCacheService").catching(e).mustfix("Failed to delete corrupted store %s, err: %s",t.store,e.message)}))}}function _(e){return e.map(function(e){var t=e[0],n=e[1];return n})}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield m();return e.dump({snippets:{customFields:{id:o("WormDump").wormNonSensitiveField,key:o("WormDump").wormNonSensitiveField,timestamp:o("WormDump").wormNonSensitiveField,value:function(t){var e;return{snippet:(e=o("WormDump")).wormRedact(t.snippet),snippetMsgAckLevel:e.wormNonSensitiveField(t.snippetMsgAckLevel),snippetMsgId:e.wormNonSensitiveField(t.snippetMsgId),snippetNewestIncomingMsgs:e.wormNonSensitiveField(t.snippetNewestIncomingMsgs),snippetReactionId:e.wormRedact(t.snippetReactionId)}}}}})}),g.apply(this,arguments)}l.getOrSetupMAWCacheDB=m,l.convertCacheValueToDBRawValue=_,l.getDbDump=f}),98);
__d("MAWCacheServiceQPL",["ExecutionEnvironment","MAWCurrentUser","MAWQplProxy","QPLUserFlow","performanceAbsoluteNow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Set,c=new Set,d=3e3,m=r("qpl")._(1056836703,"2955");function p(t,n){var a=(e||(e=r("ExecutionEnvironment"))).isInWorker||(e||(e=r("ExecutionEnvironment"))).isInSharedWorker;if(a){if(c.has(t))return;f(t),o("MAWQplProxy").startQplUserFlow(m,{},{callBridgeWithTimestamp:!0,providedInstanceKey:t})}else{if(u.has(t))return;_(t),r("QPLUserFlow").start(m,{annotations:{string:{service:n}},instanceKey:t})}}function _(e){u.add(e)}function f(e){c.add(e)}function g(t,n,a){var i=b(a),l=(e||(e=r("ExecutionEnvironment"))).isInWorker||(e||(e=r("ExecutionEnvironment"))).isInSharedWorker;if(l){if(!c.has(t))return;o("MAWQplProxy").sendQplPointThroughBridge(m,"worker@"+i+n,{instanceKey:t},!0)}else{if(!u.has(t))return;var p=(s||(s=r("performanceAbsoluteNow")))();a==="realtime-update"?window.setTimeout(function(){r("QPLUserFlow").addPoint(m,"ui@"+n,{instanceKey:t,timestamp:p})},d):r("QPLUserFlow").addPoint(m,"ui@"+n,{instanceKey:t})}}function h(t,n){var a=(e||(e=r("ExecutionEnvironment"))).isInWorker||(e||(e=r("ExecutionEnvironment"))).isInSharedWorker;if(a){if(!c.has(t))return;o("MAWQplProxy").sendQPLAnnotationsThroughBridge(m,n,t)}else{if(!u.has(t))return;r("QPLUserFlow").addAnnotations(m,n,{instanceKey:t})}}function y(t){var n=(e||(e=r("ExecutionEnvironment"))).isInWorker||(e||(e=r("ExecutionEnvironment"))).isInSharedWorker;if(n){if(!c.has(t))return;c.delete(t),o("MAWQplProxy").sendQPLSuccessThroughBridge(m,{},t,!0)}else{if(!u.has(t))return;var a=(s||(s=r("performanceAbsoluteNow")))();window.setTimeout(function(){u.delete(t),r("QPLUserFlow").endSuccess(m,{instanceKey:t,timestamp:a})},d)}}function C(t,n,a){var i=b(a),l=(e||(e=r("ExecutionEnvironment"))).isInWorker||(e||(e=r("ExecutionEnvironment"))).isInSharedWorker;if(l){if(!c.has(t))return;o("MAWQplProxy").sendQPLFailThroughBridge(m,"worker@"+i+n,{},t,!0)}else{if(!u.has(t))return;var p=(s||(s=r("performanceAbsoluteNow")))();window.setTimeout(function(){u.delete(t),r("QPLUserFlow").endFailure(m,"ui@"+n,{instanceKey:t,timestamp:p})},d),u.delete(t)}}function b(e){return e?e.replace(/-/g,"_")+"_":""}function v(e){return o("MAWCurrentUser").isEmployee()||o("MAWCurrentUser").isTestUser()?e:void 0}var S={addAnnotationsQPL:h,addPointQPL:g,endFailureQPL:C,endSuccessQPL:y,redactKeysForNonEmployee:v,registerInstanceKeyInUI:_,registerInstanceKeyInWorker:f,startQPL:p};l.default=S}),98);
__d("MAWCacheServiceUtils",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e="maw_cache_service_broadcast",s=typeof window!="undefined"?window:self,u=function(){return s.BroadcastChannel?new s.BroadcastChannel(e):(r("FBLogger")("messenger_e2ee_web").warn("BroadcastChannel is not supported in this browser"),null)},c={concurrency:1,maxTaskLimit:1,maxThrottleMs:500};function d(e){return"maw-cache-service-"+e}function m(e,t){var n=new Set,r=[];return e.forEach(function(e){var o=t(e);if(n.has(o)){r.push(e);return}n.add(o)}),r}l.MAW_CACHE_SERVICE_BROADCAST_CHANNEL=e,l.globalScope=s,l.getMAWCacheServiceBroadcastChannel=u,l.SCHEDULER_CONFIG=c,l.getSchedulerName=d,l.findDuplicates=m}),98);
__d("MAWDbEditMsgHistory",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e}function u(t){return(e||(e=o("I64"))).of_float(t)}function c(t){return(e||(e=o("I64"))).to_float(t)}l.unsafeCoerceToEditMsgHistoryId=s,l.convertToEditMsgHistoryId64=u,l.convertToEditMsgHistoryId=c}),98);
__d("MAWDbPoll",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}function l(e){return e}function s(e,t){var n=(e+t).split("");return Math.abs(n.reduce(function(e,t){var n=t.charCodeAt(0),r=(e<<5)-e+n;return r&=r,r},0))}i.convertStringToOptionHash=e,i.convertOptionHashToString=l,i.generateStableIdFromOptionHash=s}),66);
__d("MAWDbXMA",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e}function u(e){return e}function c(t){return(e||(e=o("I64"))).to_float(t)}l.convertNumbersToXMAIds=s,l.convertNumberToXMAId=u,l.convertXMAId64ToXMAId=c}),98);
__d("MAWEBRestoreTrackingUtils",["LSIntEnum","LSMEBTaskCreationSource","MAWQplProxy","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={dyi:r("justknobx")._("467"),frontloaded:20,initial:20,paginated:r("justknobx")._("3177"),point:1,search:r("justknobx")._("2477")};function c(t,n,a,i){n!=null&&C({querySource:a,runningInWorker:i!=null?i:!1,taskSource:t,traceId:n,triggerType:"paginated"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.paginated")}function d(t){var n=t.querySource,a=t.runningInWorker,i=t.taskSource,l=t.traceId;l!=null&&C({querySource:n,runningInWorker:a!=null?a:!1,taskSource:i,traceId:l,triggerType:"initial"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.initial")}function m(t,n,a){n!=null&&C({querySource:"LS",runningInWorker:a!=null?a:!1,taskSource:t,traceId:n,triggerType:"dyi"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.dyi")}function p(t,n,a){n!=null&&C({querySource:"LS",runningInWorker:a!=null?a:!1,taskSource:t,traceId:n,triggerType:"frontloaded"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.frontloaded")}function _(t,n,a,i){n!=null&&C({querySource:a,runningInWorker:i!=null?i:!1,taskSource:t,traceId:n,triggerType:"point"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.point")}function f(t){var n=t.querySource,a=t.runningInWorker,i=t.traceId;i!=null&&C({querySource:n,runningInWorker:a!=null?a:!1,taskSource:r("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB,traceId:i,triggerType:"search"}),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.search")}function g(t,n){t!=null&&(n!=null&&n?o("MAWQplProxy").sendQPLSuccessThroughBridge(r("qpl")._(521476165,"2432"),void 0,o("WAHashStringToNumber").hashStringToNumber(t)):r("QPLUserFlow").endSuccess(r("qpl")._(521476165,"2432"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)})),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.success")}function h(t,n,a,i){a===void 0&&(a="restore_failure"),t!=null&&(n!=null&&n?o("MAWQplProxy").sendQPLFailThroughBridge(r("qpl")._(521476165,"2432"),a,i,o("WAHashStringToNumber").hashStringToNumber(t)):r("QPLUserFlow").endFailure(r("qpl")._(521476165,"2432"),a,{annotations:i,instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)})),(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.failure")}function y(e){L("protobuf",e)}function C(e){var t=e.querySource,n=e.runningInWorker,a=e.taskSource,i=e.traceId,l=e.triggerType;if(n!=null&&n){var s;o("MAWQplProxy").startQplUserFlow(r("qpl")._(521476165,"2432"),{bool:{runningInWorker:n===!0},int:{requestedMessagesCount:(s=u[l])!=null?s:10},string:{querySource:t,taskSource:E(a),traceId:i,triggerType:l}},{providedInstanceKey:o("WAHashStringToNumber").hashStringToNumber(i),providedTimeoutInMs:r("justknobx")._("2950")})}else{var c;r("QPLUserFlow").start(r("qpl")._(521476165,"2432"),{annotations:{bool:{runningInWorker:n===!0},int:{requestedMessagesCount:(c=u[l])!=null?c:10},string:{querySource:t,taskSource:E(a),traceId:i,triggerType:l}},instanceKey:o("WAHashStringToNumber").hashStringToNumber(i),timeoutInMs:r("justknobx")._("2950")})}}function b(e){var t=e.pointName,n=e.traceId;r("QPLUserFlow").addPoint(r("qpl")._(521476165,"2432"),t,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(n)})}function v(e){var t=e.annotations,n=e.pointName,a=e.traceId;r("QPLUserFlow").addAnnotations(r("qpl")._(521476165,"2432"),t,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(a)}),r("QPLUserFlow").addPoint(r("qpl")._(521476165,"2432"),n,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(a)})}function S(e){var t=e.annotations,n=e.pointName,a=e.traceId;a!=null&&o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(521476165,"2432"),n,{annotations:t,instanceKey:o("WAHashStringToNumber").hashStringToNumber(a)})}function R(e){var t=e.pointName,n=e.traceId;o("MAWQplProxy").sendQplPointThroughBridge(r("qpl")._(521476165,"2432"),t,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(n)})}function L(t,n){var a=n?(s||(s=o("LSIntEnum"))).unwrapIntEnum(n):null;(e||(e=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore."+t+"."+E(a))}function E(e){var t;return(t=e==null?void 0:e.toString())!=null?t:"unknown"}l.markEBRestorePaginated=c,l.markEBRestoreInitial=d,l.markEBRestoreDYI=m,l.markEBRestoreFrontloaded=p,l.markEBRestorePoint=_,l.markEBRestoreSearch=f,l.markEBRestoreSuccess=g,l.markEBRestoreFail=h,l.markEBRestoreProtobuf=y,l.addQPLRestorePoint=b,l.addQPLRestorePointWithAnnotations=v,l.addQPLRestorePointWithAnnotationsWorker=S,l.addQPLRestorePointWorker=R}),98);
__d("MWEBODSEntityKey.enum",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({START:"start",SUCCESS:"success",FAIL:"fail",INCORRECT_PIN_CODE:"incorrect_pin_code",INCORRECT_RECOVERY_CODE:"incorrect_recovery_code",TIMEOUT:"timeout",CANCEL:"cancel"}),l=e;i.default=l}),66);
__d("MWEBODSUtils",["CurrentMessengerUser","MWEBODSCategory","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("CurrentMessengerUser").getAppID(),l=i!=null?i.toString():"unknown",s=t+"."+l;(e||(e=o("ODS"))).bumpEntityKey(r("MWEBODSCategory"),s,n,a!=null?a:1),e.bumpEntityKey(r("MWEBODSCategory"),t,n,a!=null?a:1)}l.markODSForEB=s}),98);
__d("WACommsConnectionState",["WAGenericStateManager"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,!1)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.isConnected=function(){return this.get()},n.waitForConnection=function(){return this.waitForValue(!0)},t})(o("WAGenericStateManager").WAGenericStateManager),s=new e;l.WACommsConnectionState=s}),98);
__d("WAGetHashFromProtocolMsgId",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.externalId+"_"+e.author+"_"+e.chat}i.getHashFromProtocolMsgId=e}),66);
__d("MAWEBUploadTrackingUtils",["MAWAckLevel","MAWEBSwitch","MAWExternalId","MAWMsgType","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","MWEBODSUtils","ODS","QPLUserFlow","QuickPerformanceLogger","WACommsConnectionState","WAExceededStorageQuota","WAGetHashFromProtocolMsgId","WAGlobals","WAHashStringToNumber","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={ERROR_FETCHING_DB_MESSAGE:"error_fetching_db_message",FAILED_TO_ACK_MESSAGE:"failed_to_ack_message",FAILED_TO_CONSTRUCT_ECHO_MESSAGE:"failed_to_construct_echo_message",MESSAGE_UPLOAD_TIMEOUT:"message_upload_timeout",RUNTIME_ERROR:"runtime_error"};function c(e,t,n,a,i,l,u,c,d,m){if(l===void 0&&(l=!1),u===void 0&&(u=!1),d===void 0&&(d="unknown"),m===void 0&&(m=0),!!r("MAWEBSwitch").isEnabled()){r("QPLUserFlow").start(r("qpl")._(521481602,"829"),{annotations:{bool:{eb_switch:r("MAWEBSwitch").isEnabled(),eb_upload_queue:!0,fromUploadQueue:l,is_retroactive_upload:u,middleware_init:!1},int:{attachmentsSize:c!=null?c:0,instanceKey:i,retryCount:m},string:{comms_status:o("WACommsConnectionState").WACommsConnectionState.isConnected()===!0?"connected":"disconnected",externalId:e,msgType:n,payloadType:d,threadId:t,triggerType:a,userJid:o("WAGlobals").getMyUserJid()}},instanceKey:i,timeoutInMs:r("justknobx")._("1405")}),p(i,"upload_tracking_started"),(s||(s=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,r("MWEBODSEntityKey.enum").START),o("MWEBODSUtils").markODSForEB(r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+(n!=null?n:"unknown"));var _=o("MAWMsgType").isMAWSupportedMediaType(n!=null?n:"Text")?"media":"non-media";o("MWEBODSUtils").markODSForEB(r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_COUNTER,"upload."+_)}}function d(e){return e==null?{string:{comms_status_on_failure:o("WACommsConnectionState").WACommsConnectionState.isConnected()===!0?"connected":"disconnected"}}:babelHelpers.extends({},e,{string:babelHelpers.extends({},e.string,{comms_status_on_failure:o("WACommsConnectionState").WACommsConnectionState.isConnected()===!0?"connected":"disconnected"})})}function m(e,t,n,r){switch(e){case"success":g(t,n,r);break;case"fail":f(t,n,r);break;case"point":p(t,n,r);break}}function p(e,t,n){n&&r("QPLUserFlow").addAnnotations(r("qpl")._(521481602,"829"),n,{instanceKey:e}),r("QPLUserFlow").addPoint(r("qpl")._(521481602,"829"),t,{instanceKey:e})}function _(e,t){var n;r("QPLUserFlow").addAnnotations(r("qpl")._(521481602,"829"),d(t),{instanceKey:e}),r("QPLUserFlow").endCancel(r("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:t==null||(n=t.string)==null?void 0:n.jid}},instanceKey:e}),(s||(s=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,r("MWEBODSEntityKey.enum").CANCEL)}function f(e,t,n){var a;r("QPLUserFlow").addAnnotations(r("qpl")._(521481602,"829"),d(n),{instanceKey:e}),r("QPLUserFlow").endFailure(r("qpl")._(521481602,"829"),t,{annotations:{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:n==null||(a=n.string)==null?void 0:a.jid}},instanceKey:e}),(s||(s=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,r("MWEBODSEntityKey.enum").FAIL)}function g(e,t,n){p(e,t),h(e,n)}function h(e,t){t&&r("QPLUserFlow").addAnnotations(r("qpl")._(521481602,"829"),t,{instanceKey:e}),r("QPLUserFlow").endSuccess(r("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},instanceKey:e}),(s||(s=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,r("MWEBODSEntityKey.enum").SUCCESS)}function y(e,t,n){var a;p(e,t),n&&r("QPLUserFlow").addAnnotations(r("qpl")._(521481602,"829"),n,{instanceKey:e}),r("QPLUserFlow").endTimeout(r("qpl")._(521481602,"829"),{annotations:{bool:{exceededStorageQuota:o("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0},string:{threadID:n==null||(a=n.string)==null?void 0:a.jid}},instanceKey:e}),(s||(s=o("ODS"))).bumpEntityKey(7319,r("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,r("MWEBODSEntityKey.enum").TIMEOUT)}function C(t,n,o){var a=r("qpl")._(521481602,"829");p(t,n),o&&(e||(e=r("QuickPerformanceLogger"))).markerAnnotate(a,o,{instanceKey:t}),(e||(e=r("QuickPerformanceLogger"))).markerEnd(a,52,t,e.currentTimestamp())}function b(){return o("WAHashStringToNumber").hashStringToNumber(o("MAWExternalId").generateExternalId())}function v(e,t){return t===void 0&&(t=0),o("WAHashStringToNumber").hashStringToNumber(o("WAGetHashFromProtocolMsgId").getHashFromProtocolMsgId(e)+"_"+o("WAGlobals").getMyDeviceJid()+"_"+t)}function S(e){return r("MAWEBSwitch").isEnabled()&&o("MAWMsgType").isEBSupportedMsgType(e.type)&&e.ack>=o("MAWAckLevel").ACK.sent&&e.serverTs!=null&&!(e.ephemeralSetting!=null&&e.ephemeralSetting.ephemeralExpirationInSec>0)}function R(e){return{addAnnotations:function(n){L(e,n)},addPoint:function(n,r){p(e,n,r)},endCancel:function(n,r){_(e,r)},endFail:function(n,r){f(e,n,r)},endSuccess:function(n){h(e,n)},getQPLAttrs:function(){return{instanceKey:e}},isActive:function(){return!0}}}function L(e,t){r("QPLUserFlow").addAnnotations(r("qpl")._(521481602,"829"),t,{instanceKey:e})}function E(e,t){return e.get(t)}function k(e,t,n,r,o){var a=E(t,n);if(a!=null)switch(e){case"success":g(a,r,o);break;case"fail":f(a,r,o);break;case"point":p(a,r,o);break}}l.EBUploadTrackingWorkerFailurePoints=u,l.startUploadTracking=c,l.handleBridgeEbUploadTrackingQPL=m,l.addPointWorkerOnly=p,l.endCancelWorkerOnly=_,l.endFailWorkerOnly=f,l.endSuccessWorkerOnly=g,l.endTimeoutWorkerOnly=y,l.endRetryWorkerOnly=C,l.genInstanceKeyOnly=b,l.genInstanceKeyForUploadQueue=v,l.isUploadSupported=S,l.makeEBWorkerQplFlowFromInstanceKey=R,l.addAnnotationsForEBWorkerQplFlow=L,l.getUploadTrackingInstanceKey=E,l.addUploadTrackingByType=k}),98);
__d("WAMediaTransport.pb",["WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={NONE:0,LQ_4K:1,HQ_4K:2},u={NONE:0,GIPHY:1,TENOR:2},c={TALKING_A:0,IDLE_A:1,TALKING_B:2,IDLE_B:3,BACKGROUND:4},d={UNKNOWN:0,OPUS:1},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={};m.name="WAMediaTransport",m.internalSpec={integral:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,g],ancillary:[2,e.TYPES.MESSAGE,p]},p.name="WAMediaTransport$Ancillary",p.internalSpec={fileLength:[1,e.TYPES.UINT64],mimetype:[2,e.TYPES.STRING],thumbnail:[3,e.TYPES.MESSAGE,_],objectId:[4,e.TYPES.STRING]},_.name="WAMediaTransport$Ancillary$Thumbnail",_.internalSpec={jpegThumbnail:[1,e.TYPES.BYTES],downloadableThumbnail:[2,e.TYPES.MESSAGE,f],thumbnailWidth:[3,e.TYPES.UINT32],thumbnailHeight:[4,e.TYPES.UINT32]},f.name="WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnail",f.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING],thumbnailScansSidecar:[7,e.TYPES.BYTES],thumbnailScanLengths:[8,e.FLAGS.REPEATED|e.TYPES.UINT32]},g.name="WAMediaTransport$Integral",g.internalSpec={fileSha256:[1,e.TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64]},h.name="ImageTransport",h.internalSpec={integral:[1,e.TYPES.MESSAGE,C],ancillary:[2,e.TYPES.MESSAGE,y]},y.name="ImageTransport$Ancillary",y.internalSpec={height:[1,e.TYPES.UINT32],width:[2,e.TYPES.UINT32],scansSidecar:[3,e.TYPES.BYTES],scanLengths:[4,e.FLAGS.REPEATED|e.TYPES.UINT32],midQualityFileSha256:[5,e.TYPES.BYTES],hdType:[6,e.TYPES.ENUM,s],memoriesConceptScores:[7,e.FLAGS.REPEATED|e.FLAGS.PACKED|e.TYPES.FLOAT],memoriesConceptIds:[8,e.FLAGS.REPEATED|e.FLAGS.PACKED|e.TYPES.UINT32]},C.name="ImageTransport$Integral",C.internalSpec={transport:[1,e.TYPES.MESSAGE,m]},b.name="VideoTransport",b.internalSpec={integral:[1,e.TYPES.MESSAGE,S],ancillary:[2,e.TYPES.MESSAGE,v]},v.name="VideoTransport$Ancillary",v.internalSpec={seconds:[1,e.TYPES.UINT32],caption:[2,e.TYPES.MESSAGE,o("WACommon.pb").MessageTextSpec],gifPlayback:[3,e.TYPES.BOOL],height:[4,e.TYPES.UINT32],width:[5,e.TYPES.UINT32],sidecar:[6,e.TYPES.BYTES],gifAttribution:[7,e.TYPES.ENUM,u],accessibilityLabel:[8,e.TYPES.STRING],isHd:[9,e.TYPES.BOOL]},S.name="VideoTransport$Integral",S.internalSpec={transport:[1,e.TYPES.MESSAGE,m]},R.name="AudioTransport",R.internalSpec={integral:[1,e.TYPES.MESSAGE,I],ancillary:[2,e.TYPES.MESSAGE,L]},L.name="AudioTransport$Ancillary",L.internalSpec={seconds:[1,e.TYPES.UINT32],avatarAudio:[2,e.TYPES.MESSAGE,E]},E.name="AudioTransport$Ancillary$AvatarAudio",E.internalSpec={poseId:[1,e.TYPES.UINT32],avatarAnimations:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,k]},k.name="AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimations",k.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING],animationsType:[7,e.TYPES.ENUM,c]},I.name="AudioTransport$Integral",I.internalSpec={transport:[1,e.TYPES.MESSAGE,m],audioFormat:[2,e.TYPES.ENUM,d]},T.name="DocumentTransport",T.internalSpec={integral:[1,e.TYPES.MESSAGE,x],ancillary:[2,e.TYPES.MESSAGE,D]},D.name="DocumentTransport$Ancillary",D.internalSpec={pageCount:[1,e.TYPES.UINT32]},x.name="DocumentTransport$Integral",x.internalSpec={transport:[1,e.TYPES.MESSAGE,m]},$.name="StickerTransport",$.internalSpec={integral:[1,e.TYPES.MESSAGE,N],ancillary:[2,e.TYPES.MESSAGE,P]},P.name="StickerTransport$Ancillary",P.internalSpec={pageCount:[1,e.TYPES.UINT32],height:[2,e.TYPES.UINT32],width:[3,e.TYPES.UINT32],firstFrameLength:[4,e.TYPES.UINT32],firstFrameSidecar:[5,e.TYPES.BYTES],mustacheText:[6,e.TYPES.STRING],isThirdParty:[7,e.TYPES.BOOL],receiverFetchId:[8,e.TYPES.STRING],accessibilityLabel:[9,e.TYPES.STRING]},N.name="StickerTransport$Integral",N.internalSpec={transport:[1,e.TYPES.MESSAGE,m],isAnimated:[2,e.TYPES.BOOL],receiverFetchId:[3,e.TYPES.STRING]},M.name="ContactTransport",M.internalSpec={integral:[1,e.TYPES.MESSAGE,A],ancillary:[2,e.TYPES.MESSAGE,w]},w.name="ContactTransport$Ancillary",w.internalSpec={displayName:[1,e.TYPES.STRING]},A.name="ContactTransport$Integral",A.internalSpec={vcard:[1,e.TYPES.STRING],downloadableVcard:[2,e.TYPES.MESSAGE,m],__oneofs__:{contact:["vcard","downloadableVcard"]}},l.IMAGE_TRANSPORT_ANCILLARY_HD_TYPE=s,l.VIDEO_TRANSPORT_ANCILLARY_ATTRIBUTION=u,l.AUDIO_TRANSPORT_ANCILLARY_AVATAR_AUDIO_ANIMATIONS_TYPE=c,l.AUDIO_TRANSPORT_INTEGRAL_AUDIO_FORMAT=d,l.WAMediaTransportSpec=m,l.WAMediaTransport$AncillarySpec=p,l.WAMediaTransport$Ancillary$ThumbnailSpec=_,l.WAMediaTransport$Ancillary$Thumbnail$DownloadableThumbnailSpec=f,l.WAMediaTransport$IntegralSpec=g,l.ImageTransportSpec=h,l.ImageTransport$AncillarySpec=y,l.ImageTransport$IntegralSpec=C,l.VideoTransportSpec=b,l.VideoTransport$AncillarySpec=v,l.VideoTransport$IntegralSpec=S,l.AudioTransportSpec=R,l.AudioTransport$AncillarySpec=L,l.AudioTransport$Ancillary$AvatarAudioSpec=E,l.AudioTransport$Ancillary$AvatarAudio$DownloadableAvatarAnimationsSpec=k,l.AudioTransport$IntegralSpec=I,l.DocumentTransportSpec=T,l.DocumentTransport$AncillarySpec=D,l.DocumentTransport$IntegralSpec=x,l.StickerTransportSpec=$,l.StickerTransport$AncillarySpec=P,l.StickerTransport$IntegralSpec=N,l.ContactTransportSpec=M,l.ContactTransport$AncillarySpec=w,l.ContactTransport$IntegralSpec=A}),98);
__d("WAMediaHdType",[],(function(t,n,r,o,a,i,l){"use strict";var e=0,s=1,u=2,c={HD_TYPE_NONE:e,HD_TYPE_LQ_4K:s,HD_TYPE_HQ_4K:u};l.HD_TYPE_NONE=e,l.HD_TYPE_LQ_4K=s,l.HD_TYPE_HQ_4K=u,l.HD_TYPE=c}),98);
__d("MAWEncodeMediaTransportProtocol",["MAWDbMedia","WAMediaHdType","WAMediaTransport.pb","encodeProtobuf","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e="image/jpeg",s="image/webp",u="video/mp4",c="audio/wav",d="audio/ogg",m="image/gif",p="application/octet-stream";function _(e){switch(e){case o("WAMediaHdType").HD_TYPE_NONE:return o("WAMediaTransport.pb").IMAGE_TRANSPORT_ANCILLARY_HD_TYPE.NONE;case o("WAMediaHdType").HD_TYPE_LQ_4K:return o("WAMediaTransport.pb").IMAGE_TRANSPORT_ANCILLARY_HD_TYPE.LQ_4K;case o("WAMediaHdType").HD_TYPE_HQ_4K:return o("WAMediaTransport.pb").IMAGE_TRANSPORT_ANCILLARY_HD_TYPE.HQ_4K;default:return}}function f(t,n,r){var a,i,l,s,u,c,d,m,p={ancillary:{hdType:_((a=r==null?void 0:r.hdType)!=null?a:(i=t.validatedImageInfo)==null?void 0:i.hdType),height:(l=t.validatedImageInfo)==null?void 0:l.height,scanLengths:((s=n.progressiveJpegDetails)==null?void 0:s.scanLengths)||[],scansSidecar:(u=n.progressiveJpegDetails)==null?void 0:u.sidecar,width:(c=t.validatedImageInfo)==null?void 0:c.width},integral:{transport:{ancillary:{fileLength:t.size,mimetype:e,objectId:n.objectId,thumbnail:{downloadableThumbnail:n.downloadableThumbnail,jpegThumbnail:void 0,thumbnailHeight:(d=t.validatedImageInfo)==null?void 0:d.jpegThumbnailHeight,thumbnailWidth:(m=t.validatedImageInfo)==null?void 0:m.jpegThumbnailWidth}},integral:{directPath:n.directPath,fileEncSha256:n.fileEncSha256,fileSha256:n.fileSha256,mediaKey:n.mediaKey,mediaKeyTimestamp:n.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,p).readBuffer()}function g(e,t,n){var r=f(e,t,n);return{payload:{content:{imageMessage:{caption:{mentionedJid:[]},image:{payload:r,version:1}}}}}}function h(e,t){var n,r,a,i,l={ancillary:{accessibilityLabel:e.accessibilitySummaryText,height:(n=e.validatedImageInfo)==null?void 0:n.height,width:(r=e.validatedImageInfo)==null?void 0:r.width},integral:{transport:{ancillary:{fileLength:e.size,mimetype:s,objectId:t.objectId,thumbnail:{thumbnailHeight:(a=e.validatedImageInfo)==null?void 0:a.jpegThumbnailHeight,thumbnailWidth:(i=e.validatedImageInfo)==null?void 0:i.jpegThumbnailWidth}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,l).readBuffer()}function y(e,t){var n=h(e,t);return{payload:{content:{stickerMessage:{sticker:{payload:n,version:1}}}}}}function C(e,t){var n,r=e.mediaType===o("MAWDbMedia").MEDIA_TYPE.GIF,a=e.isVideoGif===!0,i=r?e.validatedImageInfo:e.validatedVideoInfo,l={ancillary:{accessibilityLabel:e.accessibilitySummaryText,gifPlayback:r||a,height:i==null?void 0:i.height,seconds:r||(n=e.validatedVideoInfo)==null?void 0:n.duration,sidecar:t.sidecar,width:i==null?void 0:i.width},integral:{transport:{ancillary:{fileLength:e.size,mimetype:r?m:u,objectId:t.objectId,thumbnail:r?{thumbnailHeight:i==null?void 0:i.jpegThumbnailHeight,thumbnailWidth:i==null?void 0:i.jpegThumbnailWidth}:{downloadableThumbnail:t.downloadableThumbnail,jpegThumbnail:void 0,thumbnailHeight:i==null?void 0:i.jpegThumbnailHeight,thumbnailWidth:i==null?void 0:i.jpegThumbnailWidth}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,l).readBuffer()}function b(e,t){var n=C(e,t);return{payload:{content:{videoMessage:{caption:{mentionedJid:[]},video:{payload:n,version:1}}}}}}var v=new ArrayBuffer(0);function S(e,t){var n,a={ancillary:{seconds:(n=e.validatedAudioInfo)==null?void 0:n.duration},integral:{audioFormat:r("gkx")("3053")?o("WAMediaTransport.pb").AUDIO_TRANSPORT_INTEGRAL_AUDIO_FORMAT.OPUS:void 0,transport:{ancillary:{fileLength:e.size,mimetype:r("gkx")("3053")?d:c,objectId:t.objectId,thumbnail:{jpegThumbnail:v}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").AudioTransportSpec,a).readBuffer()}function R(e,t){var n=S(e,t);return{payload:{content:{audioMessage:{audio:{payload:n,version:1},ptt:!0}}}}}function L(e,t){var n={ancillary:{},integral:{transport:{ancillary:{fileLength:e.size,mimetype:p,objectId:t.objectId,thumbnail:{jpegThumbnail:new ArrayBuffer(1),thumbnailHeight:1,thumbnailWidth:1}},integral:{directPath:t.directPath,fileEncSha256:t.fileEncSha256,fileSha256:t.fileSha256,mediaKey:t.mediaKey,mediaKeyTimestamp:t.mediaKeyTimestamp}}}};return o("encodeProtobuf").encodeProtobuf(o("WAMediaTransport.pb").DocumentTransportSpec,n).readBuffer()}function E(e,t){var n,r=L(e,t);return{payload:{content:{documentMessage:{document:{payload:r,version:1},fileName:(n=e.validatedDocumentFileInfo)==null?void 0:n.filename}}}}}l.IMAGE_MIME_TYPE=e,l.STICKER_MIME_TYPE=s,l.VIDEO_MIME_TYPE=u,l.AUDIO_WAV_MIME_TYPE=c,l.AUDIO_OGG_MIME_TYPE=d,l.GIF_MIME_TYPE=m,l.FILE_MIME_TYPE=p,l.encodeMediaHdType=_,l.encodeValidatedMediaToImageTransport=f,l.encodeValidatedImageMessage=g,l.encodeValidatedMediaToStickerTransport=h,l.encodeValidatedStickerMessage=y,l.encodeValidatedMediaToVideoTransport=C,l.encodeValidatedVideoMessage=b,l.emptyAudioFileArrayBuffer=v,l.encodeValidatedMediaToAudioTransport=S,l.encodeValidatedAudioMessage=R,l.encodeValidatedMediaToDocumentTransport=L,l.encodeValidatedFileMessage=E}),98);
__d("MAWEphemeralConsts",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=300,u=600,c=900,d=1800,m=Math.imul((e=o("WATimeUtils")).HOUR_SECONDS,6),p=Math.imul(e.HOUR_SECONDS,12),_=Math.imul(e.DAY_SECONDS,14),f=1e3,g=5,h=10,y=30,C=60,b=m;l.fiveMinutesInSeconds=s,l.tenMinutesInSeconds=u,l.fifteenMinutesInSeconds=c,l.thirtyMinutesInSeconds=d,l.oneHourInSeconds=e.HOUR_SECONDS,l.sixHoursInSeconds=m,l.twelveHoursInSeconds=p,l.oneDayInSeconds=e.DAY_SECONDS,l.ephemeralMaxDelectionWindowForUnseenMessage=_,l.msPerSec=f,l.fiveSeconds=g,l.tenSeconds=h,l.thirtySeconds=y,l.oneMinuteInSeconds=C,l.ephemeralReportingWindowInSeconds=b}),98);
__d("WAArmadilloApplication.pb",["WAArmadilloXMA.pb","WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u={ES_OPEN:1,ES_CLOSE:2},c={PAYMENT_UNKNOWN:-1,REQUEST_INITED:4,REQUEST_DECLINED:5,REQUEST_TRANSFER_INITED:6,REQUEST_TRANSFER_COMPLETED:7,REQUEST_TRANSFER_FAILED:8,REQUEST_CANCELED:9,REQUEST_EXPIRED:10,TRANSFER_INITED:11,TRANSFER_PENDING:12,TRANSFER_PENDING_RECIPIENT_VERIFICATION:13,TRANSFER_CANCELED:14,TRANSFER_COMPLETED:15,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_CANCELED:16,TRANSFER_NO_RECEIVER_CREDENTIAL_NO_RTS_PENDING_OTHER:17,TRANSFER_REFUNDED:18,TRANSFER_PARTIAL_REFUND:19,TRANSFER_CHARGED_BACK:20,TRANSFER_EXPIRED:21,TRANSFER_DECLINED:22,TRANSFER_UNAVAILABLE:23},d={SCREENSHOT_IMAGE:1,SCREEN_RECORDING:2},m={PLAYED:0,SCREENSHOT:1,FORCE_DISABLE:2},p={VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2},_={SMALL_LIKE:1,MEDIUM_LIKE:2,LARGE_LIKE:3},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={},G={};f.name="Armadillo",f.internalSpec={payload:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,h],metadata:[2,e.TYPES.MESSAGE,g]},g.name="Armadillo$Metadata",g.internalSpec={},h.name="Armadillo$Payload",h.internalSpec={content:[1,e.TYPES.MESSAGE,w],applicationData:[2,e.TYPES.MESSAGE,S],signal:[3,e.TYPES.MESSAGE,C],subProtocol:[4,e.TYPES.MESSAGE,y],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}},y.name="Armadillo$SubProtocolPayload",y.internalSpec={futureProof:[1,e.TYPES.ENUM,(s=o("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]},C.name="Armadillo$Signal",C.internalSpec={encryptedBackupsSecrets:[1,e.TYPES.MESSAGE,b],__oneofs__:{signal:["encryptedBackupsSecrets"]}},b.name="Armadillo$Signal$EncryptedBackupsSecrets",b.internalSpec={backupId:[1,e.TYPES.UINT64],serverDataId:[2,e.TYPES.UINT64],epoch:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,v],tempOcmfClientState:[4,e.TYPES.BYTES],mailboxRootKey:[5,e.TYPES.BYTES],obliviousValidationToken:[6,e.TYPES.BYTES]},v.name="Armadillo$Signal$EncryptedBackupsSecrets$Epoch",v.internalSpec={id:[1,e.TYPES.UINT64],anonId:[2,e.TYPES.BYTES],rootKey:[3,e.TYPES.BYTES],status:[4,e.TYPES.ENUM,u]},S.name="Armadillo$ApplicationData",S.internalSpec={metadataSync:[1,e.TYPES.MESSAGE,M],aiBotResponse:[2,e.TYPES.MESSAGE,L],messageHistoryDocumentMessage:[3,e.TYPES.MESSAGE,R],__oneofs__:{applicationData:["metadataSync","aiBotResponse","messageHistoryDocumentMessage"]}},R.name="Armadillo$ApplicationData$MessageHistoryDocumentMessage",R.internalSpec={document:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},L.name="Armadillo$ApplicationData$AIBotResponseMessage",L.internalSpec={summonToken:[1,e.TYPES.STRING],messageText:[2,e.TYPES.STRING],serializedExtras:[3,e.TYPES.STRING]},E.name="Armadillo$ApplicationData$MetadataSyncAction",E.internalSpec={actionTimestamp:[1,e.TYPES.INT64],chatAction:[101,e.TYPES.MESSAGE,T],messageAction:[102,e.TYPES.MESSAGE,k],__oneofs__:{actionType:["chatAction","messageAction"]}},k.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction",k.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],messageDelete:[101,e.TYPES.MESSAGE,I],__oneofs__:{action:["messageDelete"]}},I.name="Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDelete",I.internalSpec={},T.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction",T.internalSpec={chatId:[1,e.TYPES.STRING],chatArchive:[101,e.TYPES.MESSAGE,$],chatDelete:[102,e.TYPES.MESSAGE,x],chatRead:[103,e.TYPES.MESSAGE,D],__oneofs__:{action:["chatArchive","chatDelete","chatRead"]}},D.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatRead",D.internalSpec={messageRange:[1,e.TYPES.MESSAGE,N],read:[2,e.TYPES.BOOL]},x.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDelete",x.internalSpec={messageRange:[1,e.TYPES.MESSAGE,N]},$.name="Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchive",$.internalSpec={messageRange:[1,e.TYPES.MESSAGE,N],archived:[2,e.TYPES.BOOL]},P.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessage",P.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],timestamp:[2,e.TYPES.INT64]},N.name="Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRange",N.internalSpec={lastMessageTimestamp:[1,e.TYPES.INT64],lastSystemMessageTimestamp:[2,e.TYPES.INT64],messages:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,P]},M.name="Armadillo$ApplicationData$MetadataSyncNotification",M.internalSpec={actions:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,E]},w.name="Armadillo$Content",w.internalSpec={commonSticker:[1,e.TYPES.MESSAGE,G],screenshotAction:[3,e.TYPES.MESSAGE,q],extendedContentMessage:[4,e.TYPES.MESSAGE,o("WAArmadilloXMA.pb").ExtendedContentMessageSpec],ravenMessage:[5,e.TYPES.MESSAGE,H],ravenActionNotifMessage:[6,e.TYPES.MESSAGE,V],extendedMessageContentWithSear:[7,e.TYPES.MESSAGE,U],imageGalleryMessage:[8,e.TYPES.MESSAGE,W],paymentsTransactionMessage:[10,e.TYPES.MESSAGE,A],bumpExistingMessage:[11,e.TYPES.MESSAGE,B],noteReplyMessage:[13,e.TYPES.MESSAGE,O],ravenMessageMsgr:[14,e.TYPES.MESSAGE,H],networkVerificationMessage:[15,e.TYPES.MESSAGE,F],__oneofs__:{content:["commonSticker","screenshotAction","extendedContentMessage","ravenMessage","ravenActionNotifMessage","extendedMessageContentWithSear","imageGalleryMessage","paymentsTransactionMessage","bumpExistingMessage","noteReplyMessage","ravenMessageMsgr","networkVerificationMessage"]}},A.name="Armadillo$Content$PaymentsTransactionMessage",A.internalSpec={transactionId:[1,e.TYPES.UINT64],amount:[2,e.TYPES.STRING],currency:[3,e.TYPES.STRING],paymentStatus:[4,e.TYPES.ENUM,c],extendedContentMessage:[5,e.TYPES.MESSAGE,o("WAArmadilloXMA.pb").ExtendedContentMessageSpec]},F.name="Armadillo$Content$NetworkVerificationMessage",F.internalSpec={codeText:[1,e.TYPES.STRING]},O.name="Armadillo$Content$NoteReplyMessage",O.internalSpec={noteId:[1,e.TYPES.STRING],noteText:[2,e.TYPES.MESSAGE,s.MessageTextSpec],noteTimestampMs:[3,e.TYPES.INT64],textContent:[4,e.TYPES.MESSAGE,s.MessageTextSpec],stickerContent:[5,e.TYPES.MESSAGE,s.SubProtocolSpec],videoContent:[6,e.TYPES.MESSAGE,s.SubProtocolSpec],__oneofs__:{noteReplyContent:["textContent","stickerContent","videoContent"]}},B.name="Armadillo$Content$BumpExistingMessage",B.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec]},W.name="Armadillo$Content$ImageGalleryMessage",W.internalSpec={images:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,s.SubProtocolSpec]},q.name="Armadillo$Content$ScreenshotAction",q.internalSpec={screenshotType:[1,e.TYPES.ENUM,d]},U.name="Armadillo$Content$ExtendedContentMessageWithSear",U.internalSpec={searId:[1,e.TYPES.STRING],payload:[2,e.TYPES.BYTES],nativeUrl:[3,e.TYPES.STRING],searAssociatedMessage:[4,e.TYPES.MESSAGE,s.SubProtocolSpec],searSentWithMessageId:[5,e.TYPES.STRING]},V.name="Armadillo$Content$RavenActionNotifMessage",V.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],actionTimestamp:[2,e.TYPES.INT64],actionType:[3,e.TYPES.ENUM,m]},H.name="Armadillo$Content$RavenMessage",H.internalSpec={ephemeralType:[1,e.TYPES.ENUM,p],imageMessage:[2,e.TYPES.MESSAGE,s.SubProtocolSpec],videoMessage:[3,e.TYPES.MESSAGE,s.SubProtocolSpec],__oneofs__:{mediaContent:["imageMessage","videoMessage"]}},G.name="Armadillo$Content$CommonSticker",G.internalSpec={stickerType:[1,e.TYPES.ENUM,_]},l.ARMADILLO_SIGNAL_ENCRYPTED_BACKUPS_SECRETS_EPOCH_EPOCH_STATUS=u,l.ARMADILLO_CONTENT_PAYMENTS_TRANSACTION_MESSAGE_PAYMENT_STATUS=c,l.ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE=d,l.ARMADILLO_CONTENT_RAVEN_ACTION_NOTIF_MESSAGE_ACTION_TYPE=m,l.ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE=p,l.ARMADILLO_CONTENT_COMMON_STICKER_STICKER_TYPE=_,l.ArmadilloSpec=f,l.Armadillo$MetadataSpec=g,l.Armadillo$PayloadSpec=h,l.Armadillo$SubProtocolPayloadSpec=y,l.Armadillo$SignalSpec=C,l.Armadillo$Signal$EncryptedBackupsSecretsSpec=b,l.Armadillo$Signal$EncryptedBackupsSecrets$EpochSpec=v,l.Armadillo$ApplicationDataSpec=S,l.Armadillo$ApplicationData$MessageHistoryDocumentMessageSpec=R,l.Armadillo$ApplicationData$AIBotResponseMessageSpec=L,l.Armadillo$ApplicationData$MetadataSyncActionSpec=E,l.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageActionSpec=k,l.Armadillo$ApplicationData$MetadataSyncAction$SyncMessageAction$ActionMessageDeleteSpec=I,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatActionSpec=T,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatReadSpec=D,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatDeleteSpec=x,l.Armadillo$ApplicationData$MetadataSyncAction$SyncChatAction$ActionChatArchiveSpec=$,l.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageSpec=P,l.Armadillo$ApplicationData$MetadataSyncAction$SyncActionMessageRangeSpec=N,l.Armadillo$ApplicationData$MetadataSyncNotificationSpec=M,l.Armadillo$ContentSpec=w,l.Armadillo$Content$PaymentsTransactionMessageSpec=A,l.Armadillo$Content$NetworkVerificationMessageSpec=F,l.Armadillo$Content$NoteReplyMessageSpec=O,l.Armadillo$Content$BumpExistingMessageSpec=B,l.Armadillo$Content$ImageGalleryMessageSpec=W,l.Armadillo$Content$ScreenshotActionSpec=q,l.Armadillo$Content$ExtendedContentMessageWithSearSpec=U,l.Armadillo$Content$RavenActionNotifMessageSpec=V,l.Armadillo$Content$RavenMessageSpec=H,l.Armadillo$Content$CommonStickerSpec=G}),98);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(t,n,r,o,a,i,l){"use strict";var e=60,s=60*e,u=24*s;function c(t,n,r,a){var i,l=[],c=n===u,d=t===o("MAWUserJidWrapper").getMyUserJid();if(a)i=o("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(t==null)n===0?i=o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:n<e?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,l.push(n.toString())):n<s?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,l.push((n/e).toString())):n<u||c?(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,l.push((n/s).toString())):(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,l.push((n/u).toString()));else{var m=o("WAJids").extractUserId(t).toString();n===0?d?i=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(i=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,l.push(m)):n<e?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,l.push(m)),l.push(n.toString())):n<s?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,l.push(m)),l.push((n/e).toString())):n<u||c?(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,l.push(m)),l.push((n/s).toString())):(d?i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(i=r?o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,l.push(m)),l.push((n/u).toString()))}return{adminMsgContent:l,adminType:i,version:1}}function d(e,t,n){var a,i=[],l=o("WAJids").extractUserId(t).toString();switch(e){case o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:n?a=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(a=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,i.push(l));break;case o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:n?a=o("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(a=o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,i.push(l));break;default:throw r("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:i,ephemeralScreenshotActionType:a}}l.getEphemeralSettingChangeData=c,l.getEphemeralScreenshotActionData=d}),98);
__d("MAWFetchXMABlob",["FBLogger","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var o=t.descriptionForLogging,a=t.url,i=t.xmaContentType;return a==null||a===""?(e||(e=n("Promise"))).resolve():window.fetch(a).then(function(e){return e.blob()}).catch(function(t){return r("FBLogger")("messenger_web_sharing").mustfix("Error fetching url in xma share from %s, with XMA content type %s and error %s",o,i,t),(e||(e=n("Promise"))).resolve()})}l.fetchBlob=s}),98);
__d("MAWFolderTypes",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1,s=2,u=3,c=10,d=15,m={ARCHIVED:c,INBOX:e,OTHER:s,PENDING:l,RESTRICTED:d,SPAM:u};i.INBOX=e,i.PENDING=l,i.OTHER=s,i.SPAM=u,i.ARCHIVED=c,i.RESTRICTED=d,i.FOLDER_ID=m}),66);
__d("MAWGetUserDeviceChangeAdminType",["MAWLocalizationType"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e){case"add":return t?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE;case"remove":return t?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE;case"update":return t?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE}}l.getUserDeviceAdminType=e}),98);
__d("MAWIsFbProfileDirectoryItemXmaEnabled",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("15740")}l.isFbProfileDirectoryItemXmaEnabled=e}),98);
__d("MAWJidUtils",["FBLogger","I64","LSIntEnum","MAWDbMsg","MAWJids","WAGlobals","WAJids"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){if(o("WAJids").isAuthorSystem(e)||t==null||n==null){r("FBLogger")("messenger_web").warn("Failed to create protocolMsgId with externalId %s for a msg to edit",n);return}return{author:e,chat:t,externalId:n}}function c(e){var t;return u(e.author,e.threadJid,(t=e.externalId)!=null?t:e.editExternalId)}function d(e){return o("WAJids").isAuthorMe(e)?o("WAGlobals").getMyUserJid():e}function m(t,n){var r=(e||(e=o("I64"))).to_string(t),a=(s||(s=o("LSIntEnum"))).unwrapIntEnum(n);switch(a){case 15:return o("MAWJids").jidUtils.toUserJid(r);case 16:return o("WAJids").toGroupJid(r);default:return null}}function p(e){return g(e.threadJid,e.externalId)}function _(e){return f(e.threadJid,e.externalId)}function f(e,t){var n=o("MAWDbMsg").toMsgId(g(e,t));if(n==null)throw r("FBLogger")("messenger_e2ee_web").mustfixThrow("formatProtocolMsgIdFromExternalId: Failed to create protocolMsgId with externalId %s for a msg",t);return n}function g(e,t){return e+"."+t}l.maybeToProtocolMsgId=u,l.toProtocolMsgId=c,l.getAuthorJid=d,l.LSJidtoChatJid=m,l.toProtocolMsgIdStringForMAWStorage=p,l.formatProtocolMsgIdFromMsg=_,l.formatProtocolMsgIdFromExternalId=f}),98);
__d("MAWJobDefinitions",["MAWExternalId"],(function(t,n,r,o,a,i,l){"use strict";var e=["s2sInstanceKey","s2sUserFlowQPLEvent"],s=["scheduleConfig"];function u(e){return e}function c(e){return e}var d={acceptGroupInvite:function(t,n,r,o,a,i){var e=_(i);return{args:{chatJid:t,inviteCode:o,invitedParticipantUserId:r,inviteExpirationTs:a,inviterUserId:n},scheduleConfig:e!=null?e:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(t,n,r,o){var e=_(o);return{args:{group:t,s2sInstanceKey:r,users:n},scheduleConfig:e!=null?e:void 0,type:"addGroupParticipants"}},deleteMsgsForMe:function(t,n){var e=_(n);return{args:{msgIds:t},scheduleConfig:e!=null?e:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(t,n,r){var e=_(r);return{args:{group:t,users:n},scheduleConfig:e!=null?e:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(t,n,r,o,a,i,l,s){var e=_(s);return{args:{downloadType:a,hash:n,metricInstanceKeys:l,msgType:o,protocolMsgId:t,qplEntryPoint:r},scheduleConfig:e!=null?e:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(n,r,a,i,l,s,u){var t=_(u),c=a!=null?a:{},d=c.s2sInstanceKey,m=c.s2sUserFlowQPLEvent,p=babelHelpers.objectWithoutPropertiesLoose(c,e);return{args:{args:p,chatJid:n,ephemeralSetting:i,externalId:l!=null?l:o("MAWExternalId").generateExternalId(),isFirstMsg:s,protocolMsgId:r,s2sInstanceKey:d},scheduleConfig:t!=null?t:void 0,type:"forwardMsg"}},getSpams:function(t){var e=_(t);return{args:void 0,scheduleConfig:e!=null?e:void 0,type:"getSpams"}},handleFutureproofMsg:function(t){var e=_(t);return{args:{},scheduleConfig:e!=null?e:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(t){var e=_(t);return{args:void 0,scheduleConfig:e!=null?e:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(t,n){var e=t.chatJid,r=t.context,o=t.frxParams,a=t.frxTags,i=t.msgs,l=t.reportedMessageId,s=t.spamFlow,u=t.userJid,c=_(n);return{args:{chatJid:e,context:r,frxParams:o,frxTags:a,msgs:i,reportedMessageId:l,spamFlow:s,userJid:u},scheduleConfig:c!=null?c:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(t,n){var e=t.actorID,r=t.taskID,o=_(n);return{args:{actorID:e,taskID:r},scheduleConfig:o!=null?o:void 0,type:"igdSendMsg"}},leaveGroups:function(t,n){var e=_(n);return{args:{groups:t},scheduleConfig:e!=null?e:void 0,type:"leaveGroups"}},markThreadAsRead:function(t,n,r,o,a,i){var e=_(i);return{args:{chatJid:t,isBlocked:r,isReadReceiptsDisabled:a,isRestricted:o,relationship:n},scheduleConfig:e!=null?e:void 0,type:"markThreadAsRead"}},promoteGroupParticipants:function(t,n,r){var e=_(r);return{args:{group:t,users:n},scheduleConfig:e!=null?e:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(t,n,r){var e=_(r);return{args:{group:t,users:n},scheduleConfig:e!=null?e:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(t,n,r,o,a,i,l,s,u,c){var e=_(u);return{args:{chatJid:r,context:i,frxParams:l,frxTags:a,isIgd:o,openMsgs:c,reportedMessageId:s,spamFlow:n,userJid:t},scheduleConfig:e!=null?e:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(t,n){var e=_(n);return{args:{appDataExternalId:t},scheduleConfig:e!=null?e:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(t,n,r,o,a,i,l,s,u,c,d,m,p,f,g){var e=_(p);return{args:{deanonApiPayload:f,hasMoreAfter:a,hasMoreBefore:o,instanceKey:c,isMediaGalleryRestore:g,isPointQuery:i,messages:r,minMsgId:l,optimisticMsgs:d,startSortKey:u,taskSource:m,threadId:n,traceId:s,transportKey:t},scheduleConfig:e!=null?e:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(t,n,r,o,a,i,l,s,u,c,d,m,p,f,g,h){var e=_(m);return{args:{chatJid:h,deanonApiPayload:f,echoMessages:t,hasMoreAfter:i,hasMoreBefore:a,instanceKey:d,isMediaGalleryRestore:g,isPointQuery:l,messages:o,minMsgId:s,referenceTimestamp:c,requestId:u,taskSource:p,threadId:r,transportKey:n},scheduleConfig:e!=null?e:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(t,n){var e=_(n);return{args:t,scheduleConfig:e!=null?e:void 0,type:"revokeMsgs"}},sendAppData:function(t,n,r){var e=_(r);return{args:{args:t,externalId:n!=null?n:o("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendAppData"}},sendBumpMsg:function(t,n,r,a){var e=_(a);return{args:{args:n,chatJid:t,externalId:r!=null?r:o("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendBumpMsg"}},sendGroupInviteMsg:function(t,n,r){var e=_(r);return{args:{args:t,externalId:n!=null?n:o("MAWExternalId").generateExternalId()},scheduleConfig:e!=null?e:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(t,n,r,a,i,l,s,u,c,d,m,p,f,g,h,y,C,b,v,S,R,L){var e=_(C);return{args:{args:{duration:c,ephemeralSetting:m,filename:v,height:l,isFirstMsg:h,isForwarded:g,isPtt:d,jpegThumbnail:a,jpegThumbnailHeight:u,jpegThumbnailWidth:s,mediaGroupMetadata:L,offlineAttachmentId:S,openMessageOtid:f,quote:p,s2sInstanceKey:r,source:b,width:i},attachmentType:R,chatJid:t,externalId:y!=null?y:o("MAWExternalId").generateExternalId(),file:n},scheduleConfig:e!=null?e:void 0,type:"sendMediaMsg"}},sendMediaMsgV2:function(t,n,r,a,i,l,s,u,c,d,m,p,f,g,h,y,C,b,v,S,R,L,E){var e=_(C);return{args:{args:{duration:c,ephemeralSetting:m,filename:v,height:l,isFirstMsg:h,isForwarded:g,isPtt:d,jpegThumbnail:a,jpegThumbnailHeight:u,jpegThumbnailWidth:s,mediaGroupMetadata:E,offlineAttachmentId:S,openMessageOtid:f,quote:p,s2sInstanceKey:R,source:b,width:i},attachmentType:L,chatJid:t,externalId:y!=null?y:o("MAWExternalId").generateExternalId(),mimeType:n,plaintext:r},scheduleConfig:e!=null?e:void 0,type:"sendMediaMsgV2"}},sendWrittenAppData:function(t,n){var e=_(n);return{args:{appDataExternalId:t},scheduleConfig:e!=null?e:void 0,type:"sendWrittenAppData"}},setGroupMemberAddMode:function(t,n,r){var e=_(r);return{args:{groupJid:t,memberAddMode:n},scheduleConfig:e!=null?e:void 0,type:"setGroupMemberAddMode"}},setGroupSubject:function(t,n,r){var e=_(r);return{args:{group:t,subject:n},scheduleConfig:e!=null?e:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(t,n){var e=_(n);return{args:{qplInstanceKey:t},scheduleConfig:e!=null?e:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(t,n,r,o){var e=_(o);return{args:{backupEntFbid:n,deliveryObjectId:t,traceId:r},scheduleConfig:e!=null?e:void 0,type:"updateBackupEntFbidForMedia"}}};function m(e,t){return p(e,t)}function p(e,t){var n=t.scheduleConfig,r=babelHelpers.objectWithoutPropertiesLoose(t,s),a={args:{},scheduleConfig:n,type:e};return t.externalIdJob&&(a.args.externalId=o("MAWExternalId").generateExternalId()),a.args=babelHelpers.extends({},a.args,r),t.uniqueJob&&(a.uniqKey=e),a}function _(e){if(e!=null)return{jobId:e.jobId,maxTimeoutMs:e.maxTimeoutMs,priority:e.priority}}function f(e){return{otid:e.toplevelProtobuf.messageId,supplementalProtobufs:new Map(e.supplementalProtobufs.entries().map(function(e){var t=e[0],n=e[1];return[t,{decryptedProtobuf:n.payload,protobufTimestampMS:n.timestampMs}]})),tags:e.tags,toplevelProtobuf:{decryptedProtobuf:e.toplevelProtobuf.payload,protobufTimestampMS:e.toplevelProtobuf.timestampMs}}}l.toThreadJidPrimaryId=u,l.toEncodedEchoMessage=c,l.jobSerializers=d,l.createStartJobInfo=m,l.createStartJobInfoGeneric=p,l.serializeJobScheduledConfig=_,l.mpsMessageToEncryptedBackupsMessage=f}),98);
__d("MWLocalStorageErrorHandler",["cr:3449"],(function(t,n,r,o,a,i,l){"use strict";function e(){n("cr:3449")&&n("cr:3449").clearLocalStorageBigValues()}l.onQuotaExceeded=e}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){o("WALogger").LOG([e])}function u(e){o("WALogger").ERROR([e])}function c(){return o("LocalStorageWrapper").getStorage(s)}function d(){return o("LocalStorageWrapper").isLocalStorageAvailable(s)}function m(e,t,n){return o("LocalStorageWrapper").setItemGuarded(e,t,n,u,o("MWLocalStorageErrorHandler").onQuotaExceeded)}function p(t,n){t==null?o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]))):t.removeItem(n)}l.getStorage=c,l.isLocalStorageAvailable=d,l.setItemGuarded=m,l.removeItemGuarded=p}),98);
__d("MAWMediaDownloadStatus",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["DOWNLOADING","SUCCESS","NOT_MANUAL_RETRYABLE_FAILURE","MANUAL_RETRYABLE_FAILURE","MISSING_FILE","RETRYING","AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE"]),l=e;i.default=l}),66);
__d("MAWMediaGalleryEBTaggingUtils",["LSThreadMediaGalleryGroup","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("13725")}function s(e){return u(e)!=null}function u(e){return e===r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS?r("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS:e===r("LSThreadMediaGalleryGroup").FILES_ONLY&&r("gkx")("19368")?r("LSThreadMediaGalleryGroup").FILES_ONLY:void 0}l.isMediaGalleryEBTaggingRestoreEnabled=e,l.isMediaGalleryGroupSupportedForTaggedRestore=s,l.toMediaGalleryGroupForTaggedRestore=u}),98);
__d("MAWMsg",["$InternalEnum","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","LSReplyMessageAttachmentType","MAWMsgType","MsgrWebGating","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e,t,n,r,a,i){return e===o("MAWMsgType").MSG_TYPE.TEXT?t?(u||(u=o("LSIntEnum"))).ofNumber(8192):(u||(u=o("LSIntEnum"))).ofNumber(1):e===o("MAWMsgType").MSG_TYPE.IMAGE||e===o("MAWMsgType").MSG_TYPE.VIDEO||e===o("MAWMsgType").MSG_TYPE.RAVEN?(u||(u=o("LSIntEnum"))).ofNumber(2):e===o("MAWMsgType").MSG_TYPE.PTT?(u||(u=o("LSIntEnum"))).ofNumber(4):e===o("MAWMsgType").MSG_TYPE.FUTUREPROOF?m(a):e===o("MAWMsgType").MSG_TYPE.CIPHERTEXT?(u||(u=o("LSIntEnum"))).ofNumber(65536):e===o("MAWMsgType").MSG_TYPE.UNAVAILABLE?(u||(u=o("LSIntEnum"))).ofNumber(262144):e===o("MAWMsgType").MSG_TYPE.GIF?(u||(u=o("LSIntEnum"))).ofNumber(16384):e===o("MAWMsgType").MSG_TYPE.STICKER?(u||(u=o("LSIntEnum"))).ofNumber(4096):e===o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE?(u||(u=o("LSIntEnum"))).ofNumber(64):e===o("MAWMsgType").MSG_TYPE.XMA?n!=null&&n?(u||(u=o("LSIntEnum"))).ofNumber(256):i===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH?(u||(u=o("LSIntEnum"))).ofNumber(536870912):(u||(u=o("LSIntEnum"))).ofNumber(1024):e===o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE?r?(u||(u=o("LSIntEnum"))).ofNumber(1):(u||(u=o("LSIntEnum"))).ofNumber(33554432):e===o("MAWMsgType").MSG_TYPE.RECEIVER_FETCH?(u||(u=o("LSIntEnum"))).ofNumber(134217728):(u||(u=o("LSIntEnum"))).ofNumber(1)}function m(e){switch(e){case"liveLocationMessage":return(u||(u=o("LSIntEnum"))).ofNumber(4294967296);case"locationMessage":return(u||(u=o("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(u||(u=o("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(u||(u=o("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(u||(u=o("LSIntEnum"))).ofNumber(4194304);case"postMentionMessage":return(u||(u=o("LSIntEnum"))).ofNumber(2147483648);case"metaAiMessage":return(u||(u=o("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(u||(u=o("LSIntEnum"))).ofNumber(16777216);case"stickerReceiverFetchMessage":return(u||(u=o("LSIntEnum"))).ofNumber(67108864);case"noteMention":return(u||(u=o("LSIntEnum"))).ofNumber(1073741824);case"messengerMemory":return(u||(u=o("LSIntEnum"))).ofNumber(8589934592);case"rtcMessage":return(u||(u=o("LSIntEnum"))).ofNumber(17179869184);default:return(u||(u=o("LSIntEnum"))).ofNumber(131072)}}function p(e){var t=e.displayedContentTypes;return(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(2))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(16384))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(16))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(64))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4096))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(134217728))}function _(e,t){var n=e.replyAttachmentType;if(n==null)return!1;var a=o("LSMessagingThreadTypeUtil").isArmadilloSecure(t);return a&&e.replyAttachmentId==null&&(!o("MsgrWebGating").isQuotedMessagesInLsEnabled()||e.replyAttachmentPlaintextHash==null)?!1:(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").AUDIO))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))||(c||(c=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO))}function f(e){return(c||(c=o("I64"))).equal(e.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(134217728))}function g(e){return o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes)}function h(e){var t=e.displayedContentTypes;return!!(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(32))}function y(e){return(c||(c=o("I64"))).lt(e.sendStatusV2,(u||(u=o("LSIntEnum"))).ofNumber(2))}function C(e){var t=e.displayedContentTypes;return o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),t)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),t)}function b(e){var t=e.displayedContentTypes;return(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(65536))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(131072))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(524288))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4294967296))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(1048576))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(2097152))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(4194304))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(2147483648))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(8388608))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(16777216))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(1073741824))||(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(8589934592))?!0:(c||(c=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(262144))}var v=(s=n("$InternalEnum"))({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),S=s({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4}),R=s({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2}),L=s({IMAGE:0,VIDEO:1});l.text=(e=o("MAWMsgType")).MSG_TYPE.TEXT,l.image=e.MSG_TYPE.IMAGE,l.video=e.MSG_TYPE.VIDEO,l.ptt=e.MSG_TYPE.PTT,l.unsent=e.MSG_TYPE.REVOKED,l.gif=e.MSG_TYPE.GIF,l.bumpExistingMessage=e.MSG_TYPE.BUMP_EXISTING_MESSAGE,l.getDisplayedContentTypes=d,l.isMediaMsg=p,l.isMediaReplyAttachmentType=_,l.isReceiverFetchMsg=f,l.isReceiverFetchXMAMsg=g,l.isAdminMsg=h,l.isOptimistic=y,l.isXMAMsg=C,l.isPlaceholder=b,l.MAWRavenActionNotifType=v,l.MAWRavenMsgEphemeralMediaState=S,l.MAWRavenMsgEphemeralType=R,l.MAWRavenMsgMediaType=L}),98);
__d("MAWSharedProtocolQueueConst",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});i.OfflineConsumerStatus=e}),66);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=!1;function u(t,n){e.set(t,n),e.size>5e3&&r("FBLogger")("wmi_eb").warn("Offline queue status map size (%s) is too large",e.size)}function c(t){return e.get(t)}function d(){e=new Map,s=!1}function m(){return s}function p(){s=!0}function _(e,t){var n=Object.keys(e);n.map(function(e){u(e,t)})}function f(e){return c(e)===o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function g(){return Array.from(e.entries()).filter(function(e){var t=e[0],n=e[1];return n!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&n!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(e){var t=e[0];return t})}l.setOfflineQueueStatus=u,l.getOfflineQueueStatus=c,l.resetOfflineQueueState=d,l.isOfflineQueueComplete=m,l.markOfflineQueueComplete=p,l.markThreadWithOfflineQueueStatus=_,l.isOfflineQueueDoneForThread=f,l.getAllThreadsWithOfflineQueueIncomplete=g}),98);
__d("MWXMAV2IsDataclassLiveLocationXMA",["MSGDataclassTypes.flow","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s(e)!=null}function s(e){if(e!=null){var t=e.content;if(!(t==null||(t==null?void 0:t.__typename)!=="XMSGXmaSingleContent")){var n=t.custom_template_data;if(!(n==null||(n==null?void 0:n.__typename)!=="XMSGXmaLocationTemplateData")){var r=n.location_metadata;if(!(r==null||(r==null?void 0:r.__typename)!=="XMSGXmaLiveLocationMetadata"))return r}}}}var u=1e3;function c(e,t){var n,a=r("justknobx")._("4207"),i=Math.floor(Date.now()/u)-a;return t!=null&&t<i&&((n=s(e))==null?void 0:n.session_state)===o("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Started}l.isDataclassLiveLocationXMA=e,l.getLiveLocationMetadata=s,l.isExpiredLiveLocationStarted=c}),98);
__d("MAWParseCollapsibleIdFromXMADataClass",["FBLogger","MWXMAV2IsDataclassLiveLocationXMA"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("xmaDataclass is missing or invalid");var t=o("MWXMAV2IsDataclassLiveLocationXMA").getLiveLocationMetadata(e);if(t!=null)return parseInt(t.session_id,10);if((e==null?void 0:e.layout_config)==null||typeof(e==null?void 0:e.layout_config.collapsible_id)!="number")throw r("FBLogger")("messenger_web").mustfixThrow("Layout config or collapsible_id is missing or invalid");return e.layout_config.collapsible_id}l.parseCollapsibleIdFromXMADataClass=e}),98);
__d("MAWParseXMAFBConfig",["FBLogger","MAWIsFbProfileDirectoryItemXmaEnabled","WAArmadilloXMA.pb","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set([(e=o("WAArmadilloXMA.pb")).EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_REACTION_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY,e.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH]);function u(e){var t=e.fbTargetType,n=e.silentExposure;if(t!=null&&s.has(t))return!0;var a=n!=null?n:!1;switch(t){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return!0;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return a?r("gkx")("9338"):r("gkx")("9339");case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return!0;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return!0;case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PROFILE_DIRECTORY_ITEM:return o("MAWIsFbProfileDirectoryItemXmaEnabled").isFbProfileDirectoryItemXmaEnabled();default:return r("FBLogger")("maw_db").mustfix("MAWParseXMAFBConfig encountered an unknown unsupported XMA type: %s",String(t)),!1}}l.FB_FULLY_SUPPORTED_TARGET_TYPES=s,l.isFBSupportedTargetType=u}),98);
__d("MWXMAV2XmaDataClass",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!=null)try{return JSON.parse(e)}catch(e){r("FBLogger")("messenger_web_sharing").mustfix("Error parsing xma dataclass")}}l.parseXmaDataClass=e}),98);
__d("MAWParseXMAUnsupportedMessageType",["MWXMAV2IsDataclassLiveLocationXMA","MWXMAV2XmaDataClass","WAArmadilloXMA.pb"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(n===void 0&&(n=!1),e==null)return null;if(n)return"paymentsTransactionMessage";switch(e){case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return o("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(o("MWXMAV2XmaDataClass").parseXmaDataClass(t))?"liveLocationMessage":"locationMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_AI_CONTACT:return"contactShareMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return"storyMentionMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return"postMentionMessage";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_MEMORIES_SHARE:return"messengerMemory";case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:return"rtcMessage";default:return null}}l.getXMAUnsupportedMessageType=e}),98);
__d("WAArmadilloBackupCommon.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e={};e.name="Subprotocol",e.internalSpec={payload:[1,o("WAProtoConst").TYPES.BYTES],version:[2,o("WAProtoConst").TYPES.INT32]},l.SubprotocolSpec=e}),98);
__d("WAArmadilloBackupMessage.pb",["WAArmadilloBackupCommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={};s.name="BackupMessage",s.internalSpec={metadata:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,u],encryptedTransportMessage:[2,e.TYPES.BYTES],encryptedTransportEvent:[5,e.TYPES.MESSAGE,o("WAArmadilloBackupCommon.pb").SubprotocolSpec],encryptedTransportLocallyTransformedMessage:[6,e.TYPES.MESSAGE,o("WAArmadilloBackupCommon.pb").SubprotocolSpec],miTransportAdminMessage:[7,e.TYPES.MESSAGE,o("WAArmadilloBackupCommon.pb").SubprotocolSpec],__oneofs__:{payload:["encryptedTransportMessage","encryptedTransportEvent","encryptedTransportLocallyTransformedMessage","miTransportAdminMessage"]}},u.name="BackupMessage$Metadata",u.internalSpec={senderId:[1,e.TYPES.STRING],messageId:[2,e.TYPES.STRING],timestampMs:[3,e.TYPES.INT64],frankingMetadata:[4,e.TYPES.MESSAGE,c],payloadVersion:[5,e.TYPES.INT32],futureProofBehavior:[6,e.TYPES.INT32],threadTypeTag:[7,e.TYPES.INT32],clientTimestampMs:[8,e.TYPES.INT64]},c.name="BackupMessage$Metadata$FrankingMetadata",c.internalSpec={frankingTag:[3,e.TYPES.BYTES],reportingTag:[4,e.TYPES.BYTES]},l.BackupMessageSpec=s,l.BackupMessage$MetadataSpec=u,l.BackupMessage$Metadata$FrankingMetadataSpec=c}),98);
__d("WAArmadilloLocallyTransformedMessage.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e={},s={};e.name="LocallyTransformedMessage",e.internalSpec={pollUpdateMessage:[1,o("WAProtoConst").TYPES.MESSAGE,s],__oneofs__:{content:["pollUpdateMessage"]}},s.name="LocallyTransformedMessage$PollUpdateAdminMessage",s.internalSpec={pollCreationMessageId:[1,o("WAProtoConst").TYPES.STRING],pollUpdateMessageId:[2,o("WAProtoConst").TYPES.STRING]},l.LocallyTransformedMessageSpec=e,l.LocallyTransformedMessage$PollUpdateAdminMessageSpec=s}),98);
__d("WAArmadilloMiTransportAdminMessage.pb",["$InternalEnum","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u=(s=n("$InternalEnum"))({UNSET:0,DISABLED:1,ENABLED:2}),c=s({UNSET:0,CHANGED:1,REMOVED:2}),d=s({UNSET:0,PINNED:1,UNPINNED:2}),m=s({UNSET:0,ALL_MEMBERS:1,ADMINS_ONLY:2}),p=s({UNSET:0,ADDED:1,REMOVED:2}),_=s({UNSET:0,ADDED:1,REMOVED:2}),f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={},G={},z={},j={},K={},Q={},X={};f.name="MiTransportAdminMessage",f.internalSpec={skipBumpThread:[34,(e=o("WAProtoConst")).TYPES.BOOL],skipSnippetUpdate:[35,e.TYPES.BOOL],chatThemeChanged:[1,e.TYPES.MESSAGE,X],nicknameChanged:[2,e.TYPES.MESSAGE,Q],groupParticipantChanged:[3,e.TYPES.MESSAGE,K],groupAdminChanged:[4,e.TYPES.MESSAGE,j],groupNameChanged:[5,e.TYPES.MESSAGE,z],groupMembershipAddModeChanged:[6,e.TYPES.MESSAGE,G],messagePinned:[7,e.TYPES.MESSAGE,H],groupImageChanged:[8,e.TYPES.MESSAGE,V],quickReactionChanged:[9,e.TYPES.MESSAGE,U],linkCta:[10,e.TYPES.MESSAGE,W],iconChanged:[11,e.TYPES.MESSAGE,B],disappearingSettingChanged:[12,e.TYPES.MESSAGE,O],limitSharingChanged:[13,e.TYPES.MESSAGE,F],xmatDisappearingSetting:[14,e.TYPES.MESSAGE,A],xmatFriendRequestConfirmedEncrypted:[15,e.TYPES.MESSAGE,w],xmatInstantGameEncryptedDynamicCustomUpdate:[16,e.TYPES.MESSAGE,M],xmatLinkCta:[17,e.TYPES.MESSAGE,N],xmatMagicWords:[18,e.TYPES.MESSAGE,P],xmatMessagingLimitSharing:[19,e.TYPES.MESSAGE,$],xmatMessengerQrCodeScanned:[20,e.TYPES.MESSAGE,x],xmatMessengerSharedAlbumAddition:[21,e.TYPES.MESSAGE,D],xmatMessengerSharedAlbumContentRemoval:[22,e.TYPES.MESSAGE,I],xmatMessengerSharedAlbumDeletion:[23,e.TYPES.MESSAGE,k],xmatMessengerSharedAlbumRename:[24,e.TYPES.MESSAGE,E],xmatMessengerSharedAlbum:[25,e.TYPES.MESSAGE,L],xmatThemeColor:[26,e.TYPES.MESSAGE,R],xmatThreadIcon:[27,e.TYPES.MESSAGE,S],xmatThreadNickname:[28,e.TYPES.MESSAGE,v],xmatThreadQuickReaction:[29,e.TYPES.MESSAGE,b],xmatUpdatePayments:[30,e.TYPES.MESSAGE,C],xmatPinMessageV2:[31,e.TYPES.MESSAGE,y],xmatUnpinMessageV2:[32,e.TYPES.MESSAGE,h],xmatGenaiTaskAdd:[33,e.TYPES.MESSAGE,g],__oneofs__:{content:["chatThemeChanged","nicknameChanged","groupParticipantChanged","groupAdminChanged","groupNameChanged","groupMembershipAddModeChanged","messagePinned","groupImageChanged","quickReactionChanged","linkCta","iconChanged","disappearingSettingChanged","limitSharingChanged","xmatDisappearingSetting","xmatFriendRequestConfirmedEncrypted","xmatInstantGameEncryptedDynamicCustomUpdate","xmatLinkCta","xmatMagicWords","xmatMessagingLimitSharing","xmatMessengerQrCodeScanned","xmatMessengerSharedAlbumAddition","xmatMessengerSharedAlbumContentRemoval","xmatMessengerSharedAlbumDeletion","xmatMessengerSharedAlbumRename","xmatMessengerSharedAlbum","xmatThemeColor","xmatThreadIcon","xmatThreadNickname","xmatThreadQuickReaction","xmatUpdatePayments","xmatPinMessageV2","xmatUnpinMessageV2","xmatGenaiTaskAdd"]}},g.name="MiTransportAdminMessage$XmatGenAITaskAdd",g.internalSpec={taskId:[1,e.TYPES.INT64]},h.name="MiTransportAdminMessage$XmatUnpinMessageV2",h.internalSpec={pinnedMessageId:[1,e.TYPES.STRING]},y.name="MiTransportAdminMessage$XmatPinMessageV2",y.internalSpec={pinnedMessageId:[1,e.TYPES.STRING]},C.name="MiTransportAdminMessage$XmatUpdatePayments",C.internalSpec={receiverName:[1,e.TYPES.STRING],senderName:[2,e.TYPES.STRING],amount:[3,e.TYPES.FLOAT],transactionId:[4,e.TYPES.INT64],transactionStatus:[5,e.TYPES.INT32]},b.name="MiTransportAdminMessage$XmatThreadQuickReaction",b.internalSpec={threadQuickReactionEmoji:[1,e.TYPES.STRING],threadQuickReactionInstructionKeyId:[2,e.TYPES.STRING]},v.name="MiTransportAdminMessage$XmatThreadNickname",v.internalSpec={participantId:[1,e.TYPES.INT64],nickname:[2,e.TYPES.STRING]},S.name="MiTransportAdminMessage$XmatThreadIcon",S.internalSpec={threadIcon:[1,e.TYPES.STRING]},R.name="MiTransportAdminMessage$XmatThemeColor",R.internalSpec={themeId:[1,e.TYPES.STRING],themeColor:[2,e.TYPES.STRING],gradient:[3,e.FLAGS.REPEATED|e.TYPES.STRING],shouldShowIcon:[4,e.TYPES.BOOL],themeType:[5,e.TYPES.INT32],accessibilityLabel:[6,e.TYPES.STRING],themeNameWithSubtitle:[7,e.TYPES.STRING],themeEmoji:[8,e.TYPES.STRING]},L.name="MiTransportAdminMessage$XmatMessengerSharedAlbum",L.internalSpec={xmaDataclass:[1,e.TYPES.STRING]},E.name="MiTransportAdminMessage$XmatMessengerSharedAlbumRename",E.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],oldAlbumTitle:[2,e.TYPES.STRING],newAlbumTitle:[3,e.TYPES.STRING]},k.name="MiTransportAdminMessage$XmatMessengerSharedAlbumDeletion",k.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],albumTitle:[2,e.TYPES.STRING]},I.name="MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval",I.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],removedContentMap:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,T],removedContentCount:[3,e.TYPES.INT64],albumTitle:[4,e.TYPES.STRING]},T.name="MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval$RemovedContentTuple",T.internalSpec={key:[1,e.TYPES.INT64],value:[2,e.TYPES.STRING]},D.name="MiTransportAdminMessage$XmatMessengerSharedAlbumAddition",D.internalSpec={sharedAlbumId:[1,e.TYPES.INT64],albumTitle:[2,e.TYPES.STRING],numOfAttachments:[3,e.TYPES.INT64],isAlbumCreation:[4,e.TYPES.BOOL]},x.name="MiTransportAdminMessage$XmatMessengerQRCodeScanned",x.internalSpec={receiverName:[1,e.TYPES.STRING],senderName:[2,e.TYPES.STRING]},$.name="MiTransportAdminMessage$XmatMessagingLimitSharing",$.internalSpec={senderName:[1,e.TYPES.STRING],senderId:[2,e.TYPES.STRING],limitSharingType:[3,e.TYPES.STRING]},P.name="MiTransportAdminMessage$XmatMagicWords",P.internalSpec={newMagicWordCount:[1,e.TYPES.INT64],removedMagicWordCount:[2,e.TYPES.INT64],magicWord:[3,e.TYPES.STRING],emojiEffect:[4,e.TYPES.STRING],isAllEdited:[5,e.TYPES.BOOL],themeName:[6,e.TYPES.STRING]},N.name="MiTransportAdminMessage$XmatLinkCTA",N.internalSpec={linkCtaXmatPrimaryText:[1,e.TYPES.STRING],linkCtaXmatCtaText:[2,e.TYPES.STRING],linkCtaXmatCtaUrl:[3,e.TYPES.STRING],linkCtaXmatCtaIosUrl:[4,e.TYPES.STRING],androidUri:[5,e.TYPES.STRING],asyncUrl:[6,e.TYPES.STRING],wwwIsAsyncUrl:[7,e.TYPES.BOOL],msiteEnabled:[8,e.TYPES.BOOL],hideUriInFallback:[9,e.TYPES.BOOL],showConfirmationDialog:[10,e.TYPES.BOOL],graphPayload:[11,e.TYPES.STRING],identifierName:[12,e.TYPES.STRING],threadId:[13,e.TYPES.STRING],hideCtaInFallback:[14,e.TYPES.BOOL],ctxAdConversationStarterInfo:[15,e.TYPES.STRING],fbmUri:[16,e.TYPES.STRING],initiatorUserId:[17,e.TYPES.STRING]},M.name="MiTransportAdminMessage$XmatInstantGameEncryptedDynamicCustomUpdate",M.internalSpec={senderName:[1,e.TYPES.STRING],muteManagementAdminTextType:[2,e.TYPES.STRING],gameName:[3,e.TYPES.STRING]},w.name="MiTransportAdminMessage$XmatFriendRequestConfirmedEncrypted",w.internalSpec={otherUserName:[1,e.TYPES.STRING],isTurnOnCohort:[2,e.TYPES.STRING]},A.name="MiTransportAdminMessage$XmatDisappearingSetting",A.internalSpec={disappearingSettingTime:[1,e.TYPES.INT64],oldDisappearingSettingTime:[2,e.TYPES.INT64],disappearingSettingActorFbid:[3,e.TYPES.INT64],newEphemeralityType:[4,e.TYPES.INT64],oldEphemeralityType:[5,e.TYPES.INT64]},F.name="MiTransportAdminMessage$LimitSharingChanged",F.internalSpec={sharingType:[1,e.TYPES.ENUM,u]},O.name="MiTransportAdminMessage$DisappearingSettingChanged",O.internalSpec={disappearingSettingDurationSeconds:[1,e.TYPES.INT32],oldDisappearingSettingDurationSeconds:[2,e.TYPES.INT32]},B.name="MiTransportAdminMessage$IconChanged",B.internalSpec={threadIcon:[1,e.TYPES.STRING]},W.name="MiTransportAdminMessage$LinkCta",W.internalSpec={ukOsaAdminText:[1,e.TYPES.MESSAGE,q],__oneofs__:{content:["ukOsaAdminText"]}},q.name="MiTransportAdminMessage$LinkCta$UkOsaAdminText",q.internalSpec={initiatorUserId:[2,e.TYPES.STRING]},U.name="MiTransportAdminMessage$QuickReactionChanged",U.internalSpec={emojiName:[1,e.TYPES.STRING]},V.name="MiTransportAdminMessage$GroupImageChanged",V.internalSpec={action:[1,e.TYPES.ENUM,c]},H.name="MiTransportAdminMessage$MessagePinned",H.internalSpec={action:[1,e.TYPES.ENUM,d]},G.name="MiTransportAdminMessage$GroupMembershipAddModeChanged",G.internalSpec={mode:[1,e.TYPES.ENUM,m]},z.name="MiTransportAdminMessage$GroupNameChanged",z.internalSpec={groupName:[1,e.TYPES.STRING]},j.name="MiTransportAdminMessage$GroupAdminChanged",j.internalSpec={targetUserId:[1,e.FLAGS.REPEATED|e.TYPES.STRING],action:[2,e.TYPES.ENUM,p]},K.name="MiTransportAdminMessage$GroupParticipantChanged",K.internalSpec={targetUserId:[1,e.FLAGS.REPEATED|e.TYPES.STRING],action:[2,e.TYPES.ENUM,_]},Q.name="MiTransportAdminMessage$NicknameChanged",Q.internalSpec={targetUserId:[1,e.TYPES.STRING],nickname:[2,e.TYPES.STRING]},X.name="MiTransportAdminMessage$ChatThemeChanged",X.internalSpec={themeName:[1,e.TYPES.STRING],themeEmoji:[2,e.TYPES.STRING],themeType:[3,e.TYPES.INT32]},l.MiTransportAdminMessage$LimitSharingChanged$SharingType=u,l.MiTransportAdminMessage$GroupImageChanged$Action=c,l.MiTransportAdminMessage$MessagePinned$Action=d,l.MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode=m,l.MiTransportAdminMessage$GroupAdminChanged$Action=p,l.MiTransportAdminMessage$GroupParticipantChanged$Action=_,l.MiTransportAdminMessageSpec=f,l.MiTransportAdminMessage$XmatGenAITaskAddSpec=g,l.MiTransportAdminMessage$XmatUnpinMessageV2Spec=h,l.MiTransportAdminMessage$XmatPinMessageV2Spec=y,l.MiTransportAdminMessage$XmatUpdatePaymentsSpec=C,l.MiTransportAdminMessage$XmatThreadQuickReactionSpec=b,l.MiTransportAdminMessage$XmatThreadNicknameSpec=v,l.MiTransportAdminMessage$XmatThreadIconSpec=S,l.MiTransportAdminMessage$XmatThemeColorSpec=R,l.MiTransportAdminMessage$XmatMessengerSharedAlbumSpec=L,l.MiTransportAdminMessage$XmatMessengerSharedAlbumRenameSpec=E,l.MiTransportAdminMessage$XmatMessengerSharedAlbumDeletionSpec=k,l.MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemovalSpec=I,l.MiTransportAdminMessage$XmatMessengerSharedAlbumContentRemoval$RemovedContentTupleSpec=T,l.MiTransportAdminMessage$XmatMessengerSharedAlbumAdditionSpec=D,l.MiTransportAdminMessage$XmatMessengerQRCodeScannedSpec=x,l.MiTransportAdminMessage$XmatMessagingLimitSharingSpec=$,l.MiTransportAdminMessage$XmatMagicWordsSpec=P,l.MiTransportAdminMessage$XmatLinkCTASpec=N,l.MiTransportAdminMessage$XmatInstantGameEncryptedDynamicCustomUpdateSpec=M,l.MiTransportAdminMessage$XmatFriendRequestConfirmedEncryptedSpec=w,l.MiTransportAdminMessage$XmatDisappearingSettingSpec=A,l.MiTransportAdminMessage$LimitSharingChangedSpec=F,l.MiTransportAdminMessage$DisappearingSettingChangedSpec=O,l.MiTransportAdminMessage$IconChangedSpec=B,l.MiTransportAdminMessage$LinkCtaSpec=W,l.MiTransportAdminMessage$LinkCta$UkOsaAdminTextSpec=q,l.MiTransportAdminMessage$QuickReactionChangedSpec=U,l.MiTransportAdminMessage$GroupImageChangedSpec=V,l.MiTransportAdminMessage$MessagePinnedSpec=H,l.MiTransportAdminMessage$GroupMembershipAddModeChangedSpec=G,l.MiTransportAdminMessage$GroupNameChangedSpec=z,l.MiTransportAdminMessage$GroupAdminChangedSpec=j,l.MiTransportAdminMessage$GroupParticipantChangedSpec=K,l.MiTransportAdminMessage$NicknameChangedSpec=Q,l.MiTransportAdminMessage$ChatThemeChangedSpec=X}),98);
__d("WAArmadilloTransportEvent.pb",["$InternalEnum","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s=n("$InternalEnum")({NONE:0,DETECTED:1,CLEARED:2}),u=n("$InternalEnum")({NONE:0,ADDED:1,REMOVED:2,REPLACED:3}),c=n("$InternalEnum")({DECRYPTION_FAILURE:1,UNAVAILABLE_MESSAGE:2}),d={},m={},p={},_={},f={};d.name="TransportEvent",d.internalSpec={placeholder:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,f],event:[2,e.TYPES.MESSAGE,m],__oneofs__:{content:["placeholder","event"]}},m.name="TransportEvent$Event",m.internalSpec={deviceChange:[1,e.TYPES.MESSAGE,_],icdcAlert:[2,e.TYPES.MESSAGE,p],__oneofs__:{event:["deviceChange","icdcAlert"]}},p.name="TransportEvent$Event$IcdcAlert",p.internalSpec={type:[1,e.TYPES.ENUM,s]},_.name="TransportEvent$Event$DeviceChange",_.internalSpec={type:[1,e.TYPES.ENUM,u],deviceName:[2,e.TYPES.STRING],devicePlatform:[3,e.TYPES.STRING],deviceModel:[4,e.TYPES.STRING]},f.name="TransportEvent$Placeholder",f.internalSpec={type:[1,e.TYPES.ENUM,c]},l.TransportEvent$Event$IcdcAlert$Type=s,l.TransportEvent$Event$DeviceChange$Type=u,l.TransportEvent$Placeholder$Type=c,l.TransportEventSpec=d,l.TransportEvent$EventSpec=m,l.TransportEvent$Event$IcdcAlertSpec=p,l.TransportEvent$Event$DeviceChangeSpec=_,l.TransportEvent$PlaceholderSpec=f}),98);
__d("WAConsumerApplication.pb",["WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u={SMALL:1,MEDIUM:2,LARGE:3},c={SANS_SERIF:0,SERIF:1,NORICAN_REGULAR:2,BRYNDAN_WRITE:3,BEBASNEUE_REGULAR:4,OSWALD_HEAVY:5},d={NONE:0,VIDEO:1},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={};m.name="ConsumerApplication",m.internalSpec={payload:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,p],metadata:[2,e.TYPES.MESSAGE,f]},p.name="ConsumerApplication$Payload",p.internalSpec={content:[1,e.TYPES.MESSAGE,y],applicationData:[2,e.TYPES.MESSAGE,h],signal:[3,e.TYPES.MESSAGE,g],subProtocol:[4,e.TYPES.MESSAGE,_],__oneofs__:{payload:["content","applicationData","signal","subProtocol"]}},_.name="ConsumerApplication$SubProtocolPayload",_.internalSpec={futureProof:[1,e.TYPES.ENUM,(s=o("WACommon.pb")).FUTURE_PROOF_BEHAVIOR]},f.name="ConsumerApplication$Metadata",f.internalSpec={specialTextSize:[1,e.TYPES.ENUM,u]},g.name="ConsumerApplication$Signal",g.internalSpec={},h.name="ConsumerApplication$ApplicationData",h.internalSpec={revoke:[1,e.TYPES.MESSAGE,I],__oneofs__:{applicationContent:["revoke"]}},y.name="ConsumerApplication$Content",y.internalSpec={messageText:[1,e.TYPES.MESSAGE,s.MessageTextSpec],imageMessage:[2,e.TYPES.MESSAGE,W],contactMessage:[3,e.TYPES.MESSAGE,P],locationMessage:[4,e.TYPES.MESSAGE,w],extendedTextMessage:[5,e.TYPES.MESSAGE,M],statusTextMessage:[6,e.TYPES.MESSAGE,N],documentMessage:[7,e.TYPES.MESSAGE,F],audioMessage:[8,e.TYPES.MESSAGE,B],videoMessage:[9,e.TYPES.MESSAGE,O],contactsArrayMessage:[10,e.TYPES.MESSAGE,$],liveLocationMessage:[11,e.TYPES.MESSAGE,x],stickerMessage:[12,e.TYPES.MESSAGE,A],groupInviteMessage:[13,e.TYPES.MESSAGE,D],viewOnceMessage:[14,e.TYPES.MESSAGE,T],reactionMessage:[16,e.TYPES.MESSAGE,k],pollCreationMessage:[17,e.TYPES.MESSAGE,L],pollUpdateMessage:[18,e.TYPES.MESSAGE,R],editMessage:[19,e.TYPES.MESSAGE,C],__oneofs__:{content:["messageText","imageMessage","contactMessage","locationMessage","extendedTextMessage","statusTextMessage","documentMessage","audioMessage","videoMessage","contactsArrayMessage","liveLocationMessage","stickerMessage","groupInviteMessage","viewOnceMessage","reactionMessage","pollCreationMessage","pollUpdateMessage","editMessage"]}},C.name="ConsumerApplication$EditMessage",C.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],message:[2,e.TYPES.MESSAGE,s.MessageTextSpec],timestampMs:[3,e.TYPES.INT64]},b.name="ConsumerApplication$PollAddOptionMessage",b.internalSpec={pollOption:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,E]},v.name="ConsumerApplication$PollVoteMessage",v.internalSpec={selectedOptions:[1,e.FLAGS.REPEATED|e.TYPES.BYTES],senderTimestampMs:[2,e.TYPES.INT64]},S.name="ConsumerApplication$PollEncValue",S.internalSpec={encPayload:[1,e.TYPES.BYTES],encIv:[2,e.TYPES.BYTES]},R.name="ConsumerApplication$PollUpdateMessage",R.internalSpec={pollCreationMessageKey:[1,e.TYPES.MESSAGE,s.MessageKeySpec],vote:[2,e.TYPES.MESSAGE,S],addOption:[3,e.TYPES.MESSAGE,S]},L.name="ConsumerApplication$PollCreationMessage",L.internalSpec={encKey:[1,e.TYPES.BYTES],name:[2,e.TYPES.STRING],options:[3,e.FLAGS.REPEATED|e.TYPES.MESSAGE,E],selectableOptionsCount:[4,e.TYPES.UINT32]},E.name="ConsumerApplication$Option",E.internalSpec={optionName:[1,e.TYPES.STRING]},k.name="ConsumerApplication$ReactionMessage",k.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec],text:[2,e.TYPES.STRING],groupingKey:[3,e.TYPES.STRING],senderTimestampMs:[4,e.TYPES.INT64],reactionMetadataDataclassData:[5,e.TYPES.STRING],style:[6,e.TYPES.INT32]},I.name="ConsumerApplication$RevokeMessage",I.internalSpec={key:[1,e.TYPES.MESSAGE,s.MessageKeySpec]},T.name="ConsumerApplication$ViewOnceMessage",T.internalSpec={imageMessage:[1,e.TYPES.MESSAGE,W],videoMessage:[2,e.TYPES.MESSAGE,O],__oneofs__:{viewOnceContent:["imageMessage","videoMessage"]}},D.name="ConsumerApplication$GroupInviteMessage",D.internalSpec={groupJid:[1,e.TYPES.STRING],inviteCode:[2,e.TYPES.STRING],inviteExpiration:[3,e.TYPES.INT64],groupName:[4,e.TYPES.STRING],jpegThumbnail:[5,e.TYPES.BYTES],caption:[6,e.TYPES.MESSAGE,s.MessageTextSpec]},x.name="ConsumerApplication$LiveLocationMessage",x.internalSpec={location:[1,e.TYPES.MESSAGE,V],accuracyInMeters:[2,e.TYPES.UINT32],speedInMps:[3,e.TYPES.FLOAT],degreesClockwiseFromMagneticNorth:[4,e.TYPES.UINT32],caption:[5,e.TYPES.MESSAGE,s.MessageTextSpec],sequenceNumber:[6,e.TYPES.INT64],timeOffset:[7,e.TYPES.UINT32]},$.name="ConsumerApplication$ContactsArrayMessage",$.internalSpec={displayName:[1,e.TYPES.STRING],contacts:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,P]},P.name="ConsumerApplication$ContactMessage",P.internalSpec={contact:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},N.name="ConsumerApplication$StatusTextMesage",N.internalSpec={text:[1,e.TYPES.MESSAGE,M],textArgb:[6,e.TYPES.FIXED32],backgroundArgb:[7,e.TYPES.FIXED32],font:[8,e.TYPES.ENUM,c]},M.name="ConsumerApplication$ExtendedTextMessage",M.internalSpec={text:[1,e.TYPES.MESSAGE,s.MessageTextSpec],matchedText:[2,e.TYPES.STRING],canonicalUrl:[3,e.TYPES.STRING],description:[4,e.TYPES.STRING],title:[5,e.TYPES.STRING],thumbnail:[6,e.TYPES.MESSAGE,s.SubProtocolSpec],previewType:[7,e.TYPES.ENUM,d]},w.name="ConsumerApplication$LocationMessage",w.internalSpec={location:[1,e.TYPES.MESSAGE,V],address:[2,e.TYPES.STRING]},A.name="ConsumerApplication$StickerMessage",A.internalSpec={sticker:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},F.name="ConsumerApplication$DocumentMessage",F.internalSpec={document:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],fileName:[2,e.TYPES.STRING]},O.name="ConsumerApplication$VideoMessage",O.internalSpec={video:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],caption:[2,e.TYPES.MESSAGE,s.MessageTextSpec]},B.name="ConsumerApplication$AudioMessage",B.internalSpec={audio:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],ptt:[2,e.TYPES.BOOL]},W.name="ConsumerApplication$ImageMessage",W.internalSpec={image:[1,e.TYPES.MESSAGE,s.SubProtocolSpec],caption:[2,e.TYPES.MESSAGE,s.MessageTextSpec]},q.name="ConsumerApplication$InteractiveAnnotation",q.internalSpec={polygonVertices:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,U],location:[2,e.TYPES.MESSAGE,V],__oneofs__:{action:["location"]}},U.name="ConsumerApplication$Point",U.internalSpec={x:[1,e.TYPES.DOUBLE],y:[2,e.TYPES.DOUBLE]},V.name="ConsumerApplication$Location",V.internalSpec={degreesLatitude:[1,e.TYPES.DOUBLE],degreesLongitude:[2,e.TYPES.DOUBLE],name:[3,e.TYPES.STRING]},H.name="ConsumerApplication$MediaPayload",H.internalSpec={protocol:[1,e.TYPES.MESSAGE,s.SubProtocolSpec]},l.CONSUMER_APPLICATION_METADATA_SPECIAL_TEXT_SIZE=u,l.CONSUMER_APPLICATION_STATUS_TEXT_MESAGE_FONT_TYPE=c,l.CONSUMER_APPLICATION_EXTENDED_TEXT_MESSAGE_PREVIEW_TYPE=d,l.ConsumerApplicationSpec=m,l.ConsumerApplication$PayloadSpec=p,l.ConsumerApplication$SubProtocolPayloadSpec=_,l.ConsumerApplication$MetadataSpec=f,l.ConsumerApplication$SignalSpec=g,l.ConsumerApplication$ApplicationDataSpec=h,l.ConsumerApplication$ContentSpec=y,l.ConsumerApplication$EditMessageSpec=C,l.ConsumerApplication$PollAddOptionMessageSpec=b,l.ConsumerApplication$PollVoteMessageSpec=v,l.ConsumerApplication$PollEncValueSpec=S,l.ConsumerApplication$PollUpdateMessageSpec=R,l.ConsumerApplication$PollCreationMessageSpec=L,l.ConsumerApplication$OptionSpec=E,l.ConsumerApplication$ReactionMessageSpec=k,l.ConsumerApplication$RevokeMessageSpec=I,l.ConsumerApplication$ViewOnceMessageSpec=T,l.ConsumerApplication$GroupInviteMessageSpec=D,l.ConsumerApplication$LiveLocationMessageSpec=x,l.ConsumerApplication$ContactsArrayMessageSpec=$,l.ConsumerApplication$ContactMessageSpec=P,l.ConsumerApplication$StatusTextMesageSpec=N,l.ConsumerApplication$ExtendedTextMessageSpec=M,l.ConsumerApplication$LocationMessageSpec=w,l.ConsumerApplication$StickerMessageSpec=A,l.ConsumerApplication$DocumentMessageSpec=F,l.ConsumerApplication$VideoMessageSpec=O,l.ConsumerApplication$AudioMessageSpec=B,l.ConsumerApplication$ImageMessageSpec=W,l.ConsumerApplication$InteractiveAnnotationSpec=q,l.ConsumerApplication$PointSpec=U,l.ConsumerApplication$LocationSpec=V,l.ConsumerApplication$MediaPayloadSpec=H}),98);
__d("WAMsgApplication.pb",["WACommon.pb","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u={DEFAULT:0,VANISH_MODE:1,DISAPPEARING_MESSAGES:2},c={UNKNOWN:0,SEEN_ONCE:1,SEEN_BASED_WITH_TIMER:2,SEND_BASED_WITH_TIMER:3},d={},m={},p={},_={},f={},g={},h={},y={},C={},b={};d.name="MessageApplication",d.internalSpec={payload:[1,(e=o("WAProtoConst")).TYPES.MESSAGE,f],metadata:[2,e.TYPES.MESSAGE,m]},m.name="MessageApplication$Metadata",m.internalSpec={forwardingScore:[5,e.TYPES.UINT32],isForwarded:[6,e.TYPES.BOOL],businessMetadata:[7,e.TYPES.MESSAGE,(s=o("WACommon.pb")).SubProtocolSpec],frankingKey:[8,e.TYPES.BYTES],frankingVersion:[9,e.TYPES.INT32],quotedMessage:[10,e.TYPES.MESSAGE,p],threadType:[11,e.TYPES.ENUM,u],readonlyMetadataDataclass:[12,e.TYPES.STRING],groupId:[13,e.TYPES.STRING],groupSize:[14,e.TYPES.UINT32],groupIndex:[15,e.TYPES.UINT32],botResponseId:[16,e.TYPES.STRING],collapsibleId:[17,e.TYPES.STRING],secondaryOtid:[18,e.TYPES.STRING],chatEphemeralSetting:[1,e.TYPES.MESSAGE,b],ephemeralSettingList:[2,e.TYPES.MESSAGE,_],ephemeralSharedSecret:[3,e.TYPES.BYTES],__oneofs__:{ephemeral:["chatEphemeralSetting","ephemeralSettingList","ephemeralSharedSecret"]}},p.name="MessageApplication$Metadata$QuotedMessage",p.internalSpec={stanzaId:[1,e.TYPES.STRING],remoteJid:[2,e.TYPES.STRING],participant:[3,e.TYPES.STRING],payload:[4,e.TYPES.MESSAGE,f]},_.name="MessageApplication$Metadata$EphemeralSettingMap",_.internalSpec={chatJid:[1,e.TYPES.STRING],ephemeralSetting:[2,e.TYPES.MESSAGE,b]},f.name="MessageApplication$Payload",f.internalSpec={coreContent:[1,e.TYPES.MESSAGE,C],signal:[2,e.TYPES.MESSAGE,y],applicationData:[3,e.TYPES.MESSAGE,h],subProtocol:[4,e.TYPES.MESSAGE,g],__oneofs__:{content:["coreContent","signal","applicationData","subProtocol"]}},g.name="MessageApplication$SubProtocolPayload",g.internalSpec={futureProof:[1,e.TYPES.ENUM,s.FUTURE_PROOF_BEHAVIOR],consumerMessage:[2,e.TYPES.MESSAGE,s.SubProtocolSpec],businessMessage:[3,e.TYPES.MESSAGE,s.SubProtocolSpec],paymentMessage:[4,e.TYPES.MESSAGE,s.SubProtocolSpec],multiDevice:[5,e.TYPES.MESSAGE,s.SubProtocolSpec],voip:[6,e.TYPES.MESSAGE,s.SubProtocolSpec],armadillo:[7,e.TYPES.MESSAGE,s.SubProtocolSpec],__oneofs__:{subProtocol:["consumerMessage","businessMessage","paymentMessage","multiDevice","voip","armadillo"]}},h.name="MessageApplication$ApplicationData",h.internalSpec={},y.name="MessageApplication$Signal",y.internalSpec={},C.name="MessageApplication$Content",C.internalSpec={},b.name="MessageApplication$EphemeralSetting",b.internalSpec={ephemeralExpiration:[2,e.TYPES.UINT32],ephemeralSettingTimestamp:[3,e.TYPES.INT64],ephemeralityType:[5,e.TYPES.ENUM,c],isEphemeralSettingReset:[4,e.TYPES.BOOL]},l.MESSAGE_APPLICATION_METADATA_THREAD_TYPE=u,l.MESSAGE_APPLICATION_EPHEMERAL_SETTING_EPHEMERALITY_TYPE=c,l.MessageApplicationSpec=d,l.MessageApplication$MetadataSpec=m,l.MessageApplication$Metadata$QuotedMessageSpec=p,l.MessageApplication$Metadata$EphemeralSettingMapSpec=_,l.MessageApplication$PayloadSpec=f,l.MessageApplication$SubProtocolPayloadSpec=g,l.MessageApplication$ApplicationDataSpec=h,l.MessageApplication$SignalSpec=y,l.MessageApplication$ContentSpec=C,l.MessageApplication$EphemeralSettingSpec=b}),98);
__d("WAParseMessageApplication",["decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.payload;if(a==null)return{version:"v3",type:"error",error:"The messageApplication has no payload"};if(o("decodeProtobuf").getUnknownFields(e.payload)!=null)return{version:"v3",type:"error",error:"There are unknown fields in the message application payload"};var i=a.subProtocol;if(i==null)return{version:"v3",type:"error",error:"The messageApplication payload has no subProtocol"};if(o("decodeProtobuf").getUnknownFields(i)!=null)return{version:"v3",type:"error",error:"messageApplication subProtocol has unknown fields",futureProof:i.futureProof};var l=[],s=(t=e.payload)==null||(t=t.subProtocol)==null?void 0:t.consumerMessage,u=(n=e.payload)==null||(n=n.subProtocol)==null?void 0:n.armadillo,c=(r=e.payload)==null||(r=r.subProtocol)==null?void 0:r.multiDevice;if(s!=null){if(s.payload==null)return{version:"v3",type:"error",error:"subprotocol of type consumerMessage has no payload"};l.push({payload:new Uint8Array(s.payload),type:"success",subprotocolType:"consumerMessage"})}if(u!=null){if(u.payload==null)return{version:"v3",type:"error",error:"subprotocol of type armadillo has no payload"};l.push({payload:new Uint8Array(u.payload),type:"success",subprotocolType:"armadillo"})}if(c!=null){if(c.payload==null)return{version:"v3",type:"error",error:"subprotocol of type multiDevice has no payload"};l.push({payload:new Uint8Array(c.payload),type:"success",subprotocolType:"multiDevice"})}return l.length!==1?{version:"v3",type:"error",error:"Wrong number of subprotocols: "+l.length}:l[0]}l.parseMessageApplication=e}),98);
__d("lastx",["invariant"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=null;if(Array.isArray(e))e.length&&(t={value:e[e.length-1]});else for(var n of e)t=t||{},t.value=n;if(t)return t.value;s(0,1145)}l.default=e}),98);
__d("MultiKeyMap",["invariant","lastx"],(function(t,n,r,o,a,i,l,s){"use strict";var e=typeof WeakMap=="function",u=(function(){function t(){this.$1=this.$2(),this.$3=null}var n=t.prototype;return n.set=function(t,n){this.$4(t);for(var e=this.$1,r=0;r<t.length-1;r++){var o=t[r],a=this.$5(e,o).get(o);a==null&&(a=this.$2(),this.$5(e,o).set(o,a)),a.type==="map"||s(0,1732),e=a}var i=t[t.length-1];this.$5(e,i).set(i,{type:"value",value:n})},n.get=function(t){this.$4(t);var e=this.$6(t),n=e&&e.get(r("lastx")(t));return n==null||n.type!=="value"?void 0:n.value},n.delete=function(t){this.$4(t);var e=this.$6(t);return e?e.delete(r("lastx")(t)):!1},n.$5=function(t,n){return c(n)?t.cache:t.weakCache},n.$6=function(t){for(var e=this.$1,n=0;n<t.length-1;n++){var o,a=t[n];if(((o=e)==null?void 0:o.type)==="map")e=this.$5(e,a).get(a);else return}var i=r("lastx")(t),l=e&&this.$5(e,i);return l},n.$2=function(){return{type:"map",cache:new Map,weakCache:e?new WeakMap:new Map}},n.$4=function(t){if(this.$3==null&&(this.$3=t.length),this.$3!==t.length)throw new Error("MultiKeyMap called with different number of keys");if(t.length<1)throw new Error("MultiKeyMap called with empty array of keys")},t})();function c(e){var t=typeof e;return t==="number"||t==="string"||t==="boolean"||e==null}l.default=u}),98);
__d("memoizeWithArgsWeak",["MultiKeyMap"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){t===void 0&&(t="");var n=new(r("MultiKeyMap"));return function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=n.get(r);if(a!==void 0)return a;var i=e.apply(void 0,r);return n.set(r,i),i}}l.default=e}),98);
__d("MAWProtobufDeserializers",["FBLogger","WAArmadilloApplication.pb","WAArmadilloBackupMessage.pb","WAArmadilloLocallyTransformedMessage.pb","WAArmadilloMiTransportAdminMessage.pb","WAArmadilloTransportEvent.pb","WAByteArray","WAConsumerApplication.pb","WAMediaTransport.pb","WAMsgApplication.pb","WAParseMessageApplication","decodeProtobuf","memoize","memoizeWithArgsWeak","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw new TypeError('"'+e+'" is read-only')}function s(e){return e instanceof ArrayBuffer?e:o("WAByteArray").uint8ArrayToBuffer(e)}var u=function(t){var e;this.kind="imageTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(e=t.image)==null?void 0:e.payload)},c=function(t){var e;this.kind="audioTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").AudioTransportSpec,(e=t.audio)==null?void 0:e.payload),this.ptt=t.ptt},d=function(t){var e;this.kind="videoTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,(e=t.video)==null?void 0:e.payload),this.caption=t.caption},m=function(t){var e;this.kind="documentTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").DocumentTransportSpec,(e=t.document)==null?void 0:e.payload),this.fileName=t.fileName},p=function(t){var e;this.kind="stickerTransport",this.payload=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,(e=t.sticker)==null?void 0:e.payload)},_=function(t){var e=this,n;this.kind="extendedContentMessage",this.favicon=(n=r("memoize"))(function(){var t,n;return((t=e.payload)==null||(t=t.favicon)==null?void 0:t.payload)==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(n=e.payload)==null||(n=n.favicon)==null?void 0:n.payload)}),this.headerImage=n(function(){var t,n;return((t=e.payload)==null||(t=t.headerImage)==null?void 0:t.payload)==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,(n=e.payload)==null||(n=n.headerImage)==null?void 0:n.payload)}),this.previews=n(function(){var t,n;return(t=(n=e.payload)==null||(n=n.previews)==null?void 0:n.map(function(e){return o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").ImageTransportSpec,e.payload)}))!=null?t:[]}),this.associatedMessage=n(function(){var t=e.payload.associatedMessage;return(t==null?void 0:t.payload)==null?null:new y(t.payload)}),this.payload=t},f=function(t){var e=this;this.stickerContent=r("memoize")(function(){var t,n=(t=e.payload)==null?void 0:t.stickerContent;return n==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").StickerTransportSpec,n.payload)}),this.videoContent=r("memoize")(function(){var t,n=(t=e.payload)==null?void 0:t.videoContent;return n==null?null:o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,n.payload)}),this.payload=t},g=(function(){function e(e){this.kind="armadillo",this.bytes=s(e),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloApplication.pb").ArmadilloSpec,e),this.payload=this.proto.payload,this.metadata=this.proto.metadata}var t=e.prototype;return t.extendedContentMessage=function(){var e,t=(e=this.payload)==null||(e=e.content)==null?void 0:e.extendedContentMessage;return t==null?null:new _(t)},t.noteReply=function(){var e,t=(e=this.payload)==null||(e=e.content)==null?void 0:e.noteReplyMessage;return t==null?null:new f(t)},t.paymentsTransactionMessage=function(){var e,t=(e=this.payload)==null||(e=e.content)==null||(e=e.paymentsTransactionMessage)==null?void 0:e.extendedContentMessage;return t==null?null:new _(t)},e})(),h=(function(){function e(e){var t=this,n;this.kind="consumerApplication",this.imageMessage=(n=r("memoize"))(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.imageMessage;if(n!=null)return new u(n)}),this.audioMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.audioMessage;if(n!=null)return new c(n)}),this.videoMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.videoMessage;if(n!=null)return new d(n)}),this.documentMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.documentMessage;if(n!=null)return new m(n)}),this.stickerMessage=n(function(){var e,n=(e=t.payload)==null||(e=e.content)==null?void 0:e.stickerMessage;if(n!=null)return new p(n)}),this.bytes=s(e),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAConsumerApplication.pb").ConsumerApplicationSpec,e),this.payload=this.proto.payload,this.metadata=this.proto.metadata}var t=e.prototype;return t.attachmentMessage=function(){var e,t,n,r;return(e=(t=(n=(r=this.imageMessage())!=null?r:this.audioMessage())!=null?n:this.videoMessage())!=null?t:this.documentMessage())!=null?e:this.stickerMessage()},e})(),y=(function(){function e(e){var t=this;this.kind="messageApplication",this.subProtocol=r("memoize")(function(){var e=o("WAParseMessageApplication").parseMessageApplication(t.proto);if(e.payload!=null){var n=e.payload;switch(e.subprotocolType){case"consumerMessage":return new h(n);case"armadillo":return new g(n);case"businessMessage":case"paymentMessage":case"multiDevice":case"voip":break;default:e.subprotocolType}}}),this.bytes=s(e),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAMsgApplication.pb").MessageApplicationSpec,e)}var t=e.prototype;return t.consumerMessage=function(){var e=this.subProtocol();return(e==null?void 0:e.kind)!=="consumerApplication"?null:e},t.armadillo=function(){var e=this.subProtocol();return(e==null?void 0:e.kind)!=="armadillo"?null:e},e})(),C=function(t){this.kind="transportEvent",this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloTransportEvent.pb").TransportEventSpec,t)},b=function(t){this.kind="locallyTransformedMessage",this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloLocallyTransformedMessage.pb").LocallyTransformedMessageSpec,t)},v=function(t){this.kind="adminMessage",this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessageSpec,t)},S="SKIP_CACHE",R=(function(){function e(e,t){var n=this;this.payload=r("memoize")(function(){if(n.proto.encryptedTransportEvent!=null)return new C(r("nullthrows")(n.proto.encryptedTransportEvent.payload));if(n.proto.encryptedTransportLocallyTransformedMessage!=null)return new b(r("nullthrows")(n.proto.encryptedTransportLocallyTransformedMessage.payload));if(n.proto.encryptedTransportMessage!=null)return new y(r("nullthrows")(n.proto.encryptedTransportMessage));if(n.proto.miTransportAdminMessage!=null)return new v(r("nullthrows")(n.proto.miTransportAdminMessage.payload));throw r("FBLogger")("messenger_web").mustfixThrow("BackupMessage proto has no payload")}),this.proto=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloBackupMessage.pb").BackupMessageSpec,e)}var t=e.prototype;return t.encryptedTransportMessage=function(){var e=this.payload();if(e.kind==="messageApplication")return e},t.encryptedTransportEvent=function(){var e=this.payload();if(e.kind==="transportEvent")return e},t.locallyTransformedMessage=function(){var e=this.payload();if(e.kind==="locallyTransformedMessage")return e},t.adminMessage=function(){var e=this.payload();if(e.kind==="adminMessage")return e},e})();R.create=r("memoizeWithArgsWeak")(function(e){return new R(e,S)}),l.DeserializedImageMessage=u,l.DeserializedAudioMessage=c,l.DeserializedVideoMessage=d,l.DeserializedDocumentMessage=m,l.DeserializedStickerMessage=p,l.DeserializedExtendedContentMessage=_,l.DeserializedNoteReply=f,l.DeserializedArmadilloApplication=g,l.DeserializedConsumerApplication=h,l.DeserializedMessageApplication=y,l.DeserializedTransportEvent=C,l.DeserializedLocallyTransformedMessage=b,l.DeserializedAdminMessage=v,l.DeserializedBackupMessage=R}),98);
__d("RavenMessagingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});i.default=e}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){switch(t){case o("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return r("RavenMessagingState").PERMANENT;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return r("RavenMessagingState").UNSEEN;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return r("RavenMessagingState").SEEN;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return r("RavenMessagingState").REPLAYED;case o("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return r("RavenMessagingState").EXPIRED}},s=function(t){switch(t){case o("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return r("EphemeralMediaViewMode").PERMANENT;case o("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return r("EphemeralMediaViewMode").REPLAYABLE;case o("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return r("EphemeralMediaViewMode").READ_ONCE}},u=function(t,n){return{ephemeralMediaState:n,ephemeralMediaViewMode:s(t)}};function c(t,n){switch(n){case o("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return t===o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?r("RavenMessagingState").SEEN:e(t);case o("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return t===o("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?r("RavenMessagingState").SEEN:t===o("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN?r("RavenMessagingState").REPLAYED:e(t);case o("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return e(t)}}l.getEphemeralMediaState=e,l.getEphemeralMediaViewMode=s,l.deriveRavenSettings=u,l.getNextRavenMessageEphemeralState=c}),98);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","Env","MAWLocalizationType","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=n("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]),c=[o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG,o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP],d=(e||(e=r("Env"))).isMessengerDotComOnComet?"Messenger":r("gkx")("22979")?"Instagram":"Facebook";function m(){return s._(/*BTDS*/"\u0645\u0633\u062a\u062e\u062f\u0645 {Platform Name}",[s._param("Platform Name",d)]).toString()}function p(e,t){var n;return(n=e.get(t))!=null?n:m()}function _(e){return c.includes(e)?u.FULL_NAME:u.FIRST_NAME}l.ContactNameMode=u,l.getUnknownUser=m,l.getContactNameFromLookup=p,l.getContactNameModeFromLocalizationType=_}),226);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=o("I64"))).of_float(t*1e3)}function u(e){var t=Number(e);return t<=o("WATimeUtils").MAX_INT&&t!==-1e3&&t!==0}function c(t){return u(t)?(Number(t)!==-1&&r("FBLogger")("messenger_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(t)),s(t)):(e||(e=o("I64"))).of_float(t)}function d(e,t){var n=Date.now(),r=n-t*24*60*60*1e3,a=o("WATimeUtils").castMilliSecondsToUnixTime(r);return e>=a}function m(e){if(e!=null)return u(e)?(Number(e)!==-1&&r("FBLogger")("messenger_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(e)),o("WATimeUtils").castToMillisTime(e*1e3)):e}var p=(e||(e=o("I64"))).of_string("9999999999999"),_=Number.MAX_VALUE;l.toTimestamp=s,l.millisTimeToTimestamp=c,l.isTimestampNewerThanXDays=d,l.ensureValidMillisTime=m,l.MAX_TIMESTAMP_MS=p,l.MAX_TIMESTAMP=_,l.MIN_TIMESTAMP_MS=e.zero}),98);
__d("MAWUICacheServicesBase",["FBLogger","MAWCacheServiceDB","MAWCacheServiceQPL","MAWMpsGating","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=["id"],s;function u(e){return o("MAWMpsGating").isMpsSnippetsCacheServiceEnabled()?e+"_mps_reactive":e}var c=(function(){function t(e){this.$1=new Map,this.QPLMetadata=new Map,this.$2=e}var a=t.prototype;return a.resetInMemoryCache=function(t,n){var e=this.$1.get(t);e!=null&&(r("FBLogger")("MAWUICacheServices").info("Reset in memory cache. Namespace: %s",t),n.forEach(function(t){e.delete(t)}))},a.updateInMemoryCacheAndTriggerCallback=function(t,n,o,a,i){this.$3(t,n);var e=this.$2[t];e!=null&&(a!=null&&(r("MAWCacheServiceQPL").addPointQPL(a,"triggering_callback",o),(o==="cache-invalidation"||o==="realtime-update"||o==="from-scratch"&&this.QPLMetadata.get(a)==="all-from-scratch"||o==="in-memory"&&i===!0)&&(r("MAWCacheServiceQPL").endSuccessQPL(a),this.QPLMetadata.delete(a))),e.onCacheChange(n,o))},a.checkInMemoryCacheAndTriggerCallback=function(t,n,o){var e=this,a=[],i=[];n.forEach(function(n){var r=e.$4(t,n);r==null?a.push(n):i.push([n,r])});var l=a.length===0;return l&&o!=null&&r("MAWCacheServiceQPL").addPointQPL(o,"all_in_memory"),i.length>0&&this.updateInMemoryCacheAndTriggerCallback(t,i,"in-memory",o,l),a},a.checkPersistedCacheAndTriggerCallback=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){var l=yield o("MAWCacheServiceDB").getOrSetupMAWCacheDB(),c=yield l.runInTransaction([t],"readonly",function(e){return(s||(s=n("Promise"))).all(a.map(function(n){return e.stores[t].getByIndex("key",[u(n)])}))},"read_from_persisted_"+t),d=[],m=[];return c.forEach(function(t,n){if(t==null)d.push(a[n]);else{var r=t.id,o=babelHelpers.objectWithoutPropertiesLoose(t,e);m.push([a[n],o])}}),d.length===0&&i!=null&&r("MAWCacheServiceQPL").addPointQPL(i,"all_in_persisted"),m.length>0&&this.updateInMemoryCacheAndTriggerCallback(t,m,"persisted",i),d});function a(e,n,r){return t.apply(this,arguments)}return a})(),a.$3=function(t,n){var e,r=(e=this.$1.get(t))!=null?e:new Map;n.forEach(function(e){var t=e[0],n=e[1];r.set(t,n)}),this.$1.set(t,r)},a.$4=function(t,n){var e=this.$1.get(t);if(e==null)return null;var r;return(r=e.get(n))!=null?r:null},t})();l.adjustCacheKey=u,l.MAWUICacheServicesBase=c}),98);
__d("MAWVaultMaterialsStorage",["MAWVaultMaterials","MWFBLogger","Promise","WebAsyncStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_exchange_vm";function u(){var t=o("MAWVaultMaterials").generateNewVaultMaterials(),a="newly-generated";return new(e||(e=n("Promise")))(function(e){r("WebAsyncStorage").getOrSetItem(s,t,function(n,r){if(n!=null){var i=o("MWFBLogger").MWLogger();if(n instanceof Error)throw i.catching(n).mustfixThrow("Failed to store Vaulting Materials. %s",n.toString());i.mustfix("Failed to store Vaulting Materials.")}r!==null&&(t=r,a="storage"),e(o("MAWVaultMaterials").initializeVaultMaterials(t,a))})})}function c(){return o("MAWVaultMaterials").hasVaultBeenSetup()?(e||(e=n("Promise"))).resolve(o("MAWVaultMaterials").getVaultMaterials()):u()}l.setupVaultMaterials=c}),98);
__d("MAWWriteLimitSharingAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r;return t?(n=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,r=n===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED?[e]:[]):(n=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED,r=n===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED?[e]:[]),{adminMsgContent:r,adminType:n,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e===o("MAWCurrentUser").getID(),r=n?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE,a=[];return r===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?a.push(t):a.push(e,t),{adminMsgContent:a,adminType:r,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=o("MAWCurrentUser").getID(),a=e===r&&e!==t,i=t===r&&t!==e,l=t===e&&r===t,s=t===e&&r!==t,u;l&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:l&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:s&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:s&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:a&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:a&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:i&&n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:i&&n.length===0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:n.length>0?u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:u=o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;var c=[];switch(u){case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:c.push(t,n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:c.push(e,n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:c.push(n);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:c.push(t);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.push(e);break;case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:c.push(e,t,n);break;default:break}return{adminMsgContent:c,adminType:u,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MessengerThreadThemeType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8,AI_INTERACTIVE_THEME:9,AI_INTERACTIVE_THEME_GENERATED:10,MSGR_CUSTOM_THEME:11,AI_SCROLLABLE_THEME:12}),l=e;i.default=l}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){var a=e===o("MAWCurrentUser").getID(),i=u(a,r),l=[];return i===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||i===o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?l.push(n):l.push(e,n),t!=null&&l.push(t),{adminMsgContent:l,adminType:i,version:1}}function u(t,n){if(n!=null)try{var a=r("MessengerThreadThemeType").cast(parseInt(n,10))===7;if(a)return t?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""])),t)}return t?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}l.getAdminMsgContent=s}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE,n=[e];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===o("MAWCurrentUser").getID()?o("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE,n=t===o("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[e]:[];return{adminMsgContent:n,adminType:t,version:1}}l.getAdminMsgContent=e}),98);
__d("MWChatEncryptedBackupsQPLEvents",["qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=r("qpl"))._(521476140,"378"),u=e._(521472542,"295"),c=e._(521484256,"3212"),d=e._(521473384,"31"),m=e._(521482085,"409"),p=e._(521485406,"272"),_=e._(521482763,"296"),f=e._(521484295,"1460"),g=e._(521482969,"1519"),h=e._(521479124,"1939"),y=e._(521474385,"263"),C=e._(521476098,"504"),b=e._(521482858,"1290"),v=e._(521473194,"1331"),S=e._(521471024,"2275");l.pinCodeChangeQplEvent=s,l.optOutQplEvent=u,l.resetBackupQplEvent=c,l.ebResetObserverQplEvent=d,l.backupSetupQplEvent=m,l.mobileOnboardingQplEvent=p,l.restoreQplEvent=_,l.restoreDeviceAuthQplEvent=f,l.messageRestoreQplEvent=g,l.restoreWithAutoRestoreConsentQplEvent=h,l.hsmFleetMigrationQplEvent=y,l.virtualDeviceRevocationQplEvent=C,l.onboardingAuthQplEvent=b,l.processBackupIdsQPLEvent=v,l.fetchBackupIdsQPLEvent=S}),98);
__d("MWXMAV2IsCollapsibleXMA",["MWXMAV2IsDataclassLiveLocationXMA"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t;return!(e==null||((t=e.layout_config)==null?void 0:t.collapsible_id)==null&&!o("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(e))}l.isCollapsibleXMA=e}),98);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWAdminAddParticipantMsg","MAWAdminMsgHelpers","MAWAdminRemoveParticipantMsg","MAWAdminWriteGroupNameChangeAdminMsgContent","MAWEphemeralUtils","MAWJids","MAWWriteLimitSharingAdminMsgContent","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","err","getErrorSafe","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["$$unknownFieldCount","skipBumpThread","skipSnippetUpdate"],s=["type"],u=["type"],c=["type"],d=["type"],m=["type"],p=["type"],_=["type"],f=["type"],g=["type"],h=["type"],y=["type"],C=["type"],b=["type"],v=["type"],S=["type"],R=["type"],L=["type"],E=["type"],k=["type"],I=["type"];function T(e,t){return o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.emojiName,"emojiName is null"))}function D(e,t){return o("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.threadIcon,"threadIcon is null"))}function x(e,t){var n;return o("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(e,t.themeEmoji,r("nullthrows")(t.themeName,"themeName is null"),""+((n=t.themeType)!=null?n:""))}function $(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?o("MAWWritePinMessageAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED?o("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNSET||t.action===null||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function P(e,t){return o("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(e,r("nullthrows")(t.targetUserId,"targetUserId is null"),r("nullthrows")(t.nickname,"nickname is null"))}function N(e){var t;return o("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(r("nullthrows")((t=e.ukOsaAdminText)==null?void 0:t.initiatorUserId,"initiatorUserId is null"))}function M(e,t){var n,r;return o("MAWEphemeralUtils").getEphemeralSettingChangeData(o("MAWJids").toUserJid(e),(n=t.disappearingSettingDurationSeconds)!=null?n:0,((r=t.oldDisappearingSettingDurationSeconds)!=null?r:0)===0,!1)}function w(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.CHANGED||t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.REMOVED?o("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(e):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function A(e,t){return t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED?o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(e,!0):t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED?o("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(e,!1):t.sharingType===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET||t.sharingType===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.sharingType)})()}function F(e,t){return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.ADDED?o("MAWAdminAddParticipantMsg").createAddParticipantsAdminMessage(o("MAWJids").toUserJid(e),(t.targetUserId||[]).map(function(e){return o("MAWJids").toUserJid(e)})):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.REMOVED?o("MAWAdminRemoveParticipantMsg").createRemoveParticipantsAdminMessage(o("MAWJids").toUserJid(e),(t.targetUserId||[]).map(function(e){return o("MAWJids").toUserJid(e)})):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function O(e,t){return o("MAWAdminWriteGroupNameChangeAdminMsgContent").getAdminMsgContent(o("MAWJids").toUserJid(e),r("nullthrows")(t.groupName))}function B(e,t){var n,a;return t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.ADDED?o("MAWAdminMsgHelpers").createParticipantPromoteAdminMessage(o("MAWJids").toUserJid(r("nullthrows")((n=t.targetUserId)==null?void 0:n[0])),o("MAWJids").toUserJid(e)):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.REMOVED?o("MAWAdminMsgHelpers").createParticipantDemoteAdminMessage(o("MAWJids").toUserJid(r("nullthrows")((a=t.targetUserId)==null?void 0:a[0])),o("MAWJids").toUserJid(e)):t.action===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.UNSET||t.action===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.action)})()}function W(e,t){return t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ADMINS_ONLY?o("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(o("MAWJids").toUserJid(e),"admin_add"):t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ALL_MEMBERS?o("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(o("MAWJids").toUserJid(e),"all_member_add"):t.mode===o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.UNSET||t.mode===void 0?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t.mode)})()}function q(e,t){return M(e,{disappearingSettingDurationSeconds:t.disappearingSettingTime!=null?Number(t.disappearingSettingTime):0,oldDisappearingSettingDurationSeconds:t.oldDisappearingSettingTime!=null?Number(t.oldDisappearingSettingTime):0})}function U(e){return e.initiatorUserId!=null?N({ukOsaAdminText:{initiatorUserId:e.initiatorUserId}}):null}function V(e,t){return A(e,{sharingType:t.limitSharingType==="disabled"?o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED:t.limitSharingType==="enabled"?o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET})}function H(e){return $(e,{action:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED})}function G(e){return $(e,{action:o("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED})}function z(e,t){return x(e,{themeEmoji:t.themeEmoji,themeName:t.themeNameWithSubtitle,themeType:t.themeType})}function j(e,t){return t.threadIcon!=null?D(e,{threadIcon:t.threadIcon}):null}function K(e,t){return t.participantId!=null&&t.nickname!=null?P(e,{nickname:t.nickname,targetUserId:""+t.participantId}):null}function Q(e,t){return t.threadQuickReactionEmoji!=null?T(e,{emojiName:t.threadQuickReactionEmoji}):null}function X(e){var t=Object.keys(e);if(t.length!==1)throw r("err")("Expected exactly one key");var n=t[0];return babelHelpers.extends({type:n},e[n])}function Y(t,n){var r=n.$$unknownFieldCount,o=n.skipBumpThread,a=n.skipSnippetUpdate,i=babelHelpers.objectWithoutPropertiesLoose(n,e),l=X(i);return(function(e){if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="quickReactionChanged"){var n=e.type,r=babelHelpers.objectWithoutPropertiesLoose(e,s);return T(t,r)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="iconChanged"){var o=e.type,a=babelHelpers.objectWithoutPropertiesLoose(e,u);return D(t,a)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="chatThemeChanged"){var i=e.type,l=babelHelpers.objectWithoutPropertiesLoose(e,c);return x(t,l)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="messagePinned"){var X=e.type,Y=babelHelpers.objectWithoutPropertiesLoose(e,d);return $(t,Y)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="nicknameChanged"){var J=e.type,Z=babelHelpers.objectWithoutPropertiesLoose(e,m);return P(t,Z)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="linkCta"){var ee=e.type,te=babelHelpers.objectWithoutPropertiesLoose(e,p);return N(te)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="disappearingSettingChanged"){var ne=e.type,re=babelHelpers.objectWithoutPropertiesLoose(e,_);return M(t,re)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupImageChanged"){var oe=e.type,ae=babelHelpers.objectWithoutPropertiesLoose(e,f);return w(t,ae)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="limitSharingChanged"){var ie=e.type,le=babelHelpers.objectWithoutPropertiesLoose(e,g);return A(t,le)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupParticipantChanged"){var se=e.type,ue=babelHelpers.objectWithoutPropertiesLoose(e,h);return F(t,ue)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupNameChanged"){var ce=e.type,de=babelHelpers.objectWithoutPropertiesLoose(e,y);return O(t,de)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupAdminChanged"){var me=e.type,pe=babelHelpers.objectWithoutPropertiesLoose(e,C);return B(t,pe)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="groupMembershipAddModeChanged"){var _e=e.type,fe=babelHelpers.objectWithoutPropertiesLoose(e,b);return W(t,fe)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatDisappearingSetting"){var ge=e.type,he=babelHelpers.objectWithoutPropertiesLoose(e,v);return q(t,he)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatLinkCta"){var ye=e.type,Ce=babelHelpers.objectWithoutPropertiesLoose(e,S);return U(Ce)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessagingLimitSharing"){var be=e.type,ve=babelHelpers.objectWithoutPropertiesLoose(e,R);return V(t,ve)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatPinMessageV2")return H(t);if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatUnpinMessageV2")return G(t);if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThemeColor"){var Se=e.type,Re=babelHelpers.objectWithoutPropertiesLoose(e,L);return z(t,Re)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadIcon"){var Le=e.type,Ee=babelHelpers.objectWithoutPropertiesLoose(e,E);return j(t,Ee)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadNickname"){var ke=e.type,Ie=babelHelpers.objectWithoutPropertiesLoose(e,k);return K(t,Ie)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatThreadQuickReaction"){var Te=e.type,De=babelHelpers.objectWithoutPropertiesLoose(e,I);return Q(t,De)}if((typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatFriendRequestConfirmedEncrypted"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatInstantGameEncryptedDynamicCustomUpdate"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMagicWords"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerQrCodeScanned"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumAddition"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumContentRemoval"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumDeletion"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbumRename"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatMessengerSharedAlbum"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatGenaiTaskAdd"||(typeof e=="object"&&e!==null||typeof e=="function")&&e.type==="xmatUpdatePayments")return null;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(l)}function J(e){var t,n,a,i,l=(t=e.deserialize().adminMessage())==null?void 0:t.proto;if(l!=null){var s;try{s=Y(e.message.senderId,l)}catch(e){r("FBLogger")("mps").catching(r("getErrorSafe")(e)).warn("Failed to get admin message content")}var u={ack:o("MAWAckLevel").ACK.received,adminContent:(n=s)==null?void 0:n.adminMsgContent,adminType:(a=s)==null?void 0:a.adminType,adminVersion:(i=s)==null?void 0:i.version,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:u}}}l.getMessageContent=Y,l.adminMsgToBridgeMsg=J}),98);
__d("MpsToBridgeMessageId",["MAWJidUtils","MpsTypes","WAJids","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("MAWJidUtils").formatProtocolMsgIdFromExternalId(o("WAJids").unsafeCoerceToChatJid(e),o("WAStanzaUtils").toStanzaId(t))}function s(e){var t=e.lastIndexOf("."),n=e.substring(0,t),r=e.substring(t+1);return{messageId:o("MpsTypes").toMessageId(r),threadId:o("MpsTypes").toThreadId(n)}}l.mpsToBridgeMsgId=e,l.bridgeMsgIdToMps=s}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType","MpsToBridgeMessageId","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.deserialize().encryptedTransportMessage(),i=a==null||(t=a.armadillo())==null||(t=t.proto.payload)==null||(t=t.content)==null?void 0:t.bumpExistingMessage;if(i==null||((n=i.key)==null?void 0:n.id)==null||a==null)return null;var l=o("MpsTypes").toMessageId(i.key.id),s={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),replyContent:{isBumpMsg:!0,replyToMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(e.message.threadId,l),replyType:"MESSAGE"},replySourceId:(r=i.key)==null?void 0:r.id,sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:s}}l.bumpMessageToBridgeMsg=e}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","MAWMpsGating","WAJids","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(o("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(e.getExternalId()))),a=e.topLevelMetadata(),i={author:e.getAuthor(),editExternalId:o("WAStanzaUtils").toStanzaId(e.getExternalId()),editMsgHistoryId:n,editTs:e.getUnixTs(),msgContent:t,originalMsgExternalId:o("WAStanzaUtils").toStanzaId(a.getExternalId()),originalMsgId:a.getMsgId(),sendStatus:r("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:e.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:i}}function s(t){var n,r,a=(n=t.deserialize().encryptedTransportMessage())==null||(n=n.consumerMessage())==null||(n=n.payload)==null||(n=n.content)==null||(n=n.editMessage)==null?void 0:n.message;if(a!=null)return e(t,{commands:a==null?void 0:a.commands,content:((r=a==null?void 0:a.text)!=null?r:"")+(o("MAWMpsGating").isFullMpsEnabled()?" *":""),mentionedJids:a==null?void 0:a.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean)})}function u(t){var n,r,o,a,i=t.supplementals,l=t.topLevel;if(l.kind!=="bridgeMsg")return t;var s=i.map(function(e){return e.kind==="bridgeEditHistoryMsg"?e.value:null}).filter(Boolean).sort(function(e,t){return t.editTs-e.editTs});if(s.length===0)return t;i.push(e(t.message,{commands:l.value.commands&&[].concat(l.value.commands),content:(n=l.value.content)!=null?n:"",mentionedJids:l.value.mentionedJids&&[].concat(l.value.mentionedJids)}));var u=s[0].msgContent;return l.value=babelHelpers.extends({},l.value,{commands:(r=u.commands)!=null?r:l.value.commands,content:(o=u.content)!=null?o:l.value.content,editCount:s.length,mentionedJids:(a=u.mentionedJids)!=null?a:l.value.mentionedJids}),babelHelpers.extends({},t,{supplementals:i,topLevel:l})}l.editMessageToBridgeMsg=s,l.processEditedMessage=u}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.supplementals,r=e.topLevel,a=(t=e.message.deserialize().encryptedTransportMessage())==null||(t=t.proto.metadata)==null||(t=t.chatEphemeralSetting)==null?void 0:t.ephemeralExpiration;if(a==null||a===0)return e;var i=o("WATimeUtils").castToUnixTime(e.message.getUnixTs()+a),l=o("WATimeUtils").cappedMillisecondsUntil(i);return l<=0?e:(r.kind==="bridgeMsg"&&(r.value=babelHelpers.extends({},r.value,{ephemeralDurationInSec:a})),e.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:i,millisecondsUntilCountdownTs:l,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),babelHelpers.extends({},e,{supplementals:n,topLevel:r}))}l.processEphemeralMessage=e}),98);
__d("MpsForwardToBridge",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t,n,r,o,a,i=e.message,l=e.topLevel,s=i.deserialize().encryptedTransportMessage();return s==null||l.kind!=="bridgeMsg"||((t=s.proto.metadata)==null?void 0:t.isForwarded)!==!0||(l.value=babelHelpers.extends({},l.value,{forwardingScore:(n=(r=s.proto.metadata)==null?void 0:r.forwardingScore)!=null?n:0,isForwarded:(o=(a=s.proto.metadata)==null?void 0:a.isForwarded)!=null?o:!1,replyContent:{replyType:"FORWARD"}})),e}i.processForwarding=e}),66);
__d("MpsFutureproofToBridge",["MAWAckLevel","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.FUTUREPROOF};return{kind:"bridgeMsg",value:t}}l.futureproofBridgeMsg=e}),98);
__d("MpsLogger",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return r("FBLogger")("mps",t)};l.MpsLogger=e}),98);
__d("getMediaTypeFromConsumerMessage",["MAWEncodeMediaTransportProtocol","WAMediaTransport.pb","decodeProtobuf","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a=((t=e.ancillary)==null?void 0:t.gifPlayback)===!0||((n=e.ancillary)==null?void 0:n.gifAttribution)!=null;if(r("gkx")("5398")){var i,l=(i=e.integral)==null||(i=i.transport)==null||(i=i.ancillary)==null?void 0:i.mimetype;if(a&&l===o("MAWEncodeMediaTransportProtocol").GIF_MIME_TYPE)return"gif"}else if(a)return"gif";return"video"}function s(t){var n,r=t==null||(n=t.payload)==null?void 0:n.content;if((r==null?void 0:r.audioMessage)!=null)return"ptt";if((r==null?void 0:r.videoMessage)!=null){var a,i=r==null||(a=r.videoMessage)==null||(a=a.video)==null?void 0:a.payload,l=o("decodeProtobuf").decodeProtobuf(o("WAMediaTransport.pb").VideoTransportSpec,i);return e(l)}if((r==null?void 0:r.documentMessage)!=null)return"document";if((r==null?void 0:r.stickerMessage)!=null)return"sticker";if((r==null?void 0:r.imageMessage)!=null)return"image";if((r==null?void 0:r.extendedContentMessage)!=null)return"xma-image"}l.getMediaTypeForVideo=e,l.getMediaTypeFromConsumerMessage=s}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWDbMedia","MAWImageUtils","MAWMsgType","WAHashUtils","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(e.proto);if(t!=null)return s(t)}function s(e){return e==="ptt"?o("MAWMsgType").MSG_TYPE.PTT:e==="image"?o("MAWMsgType").MSG_TYPE.IMAGE:e==="video"?o("MAWMsgType").MSG_TYPE.VIDEO:e==="gif"?o("MAWMsgType").MSG_TYPE.GIF:e==="sticker"?o("MAWMsgType").MSG_TYPE.STICKER:e==="document"?o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:e==="xma-image"?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}function u(t){var n,r,a,i=t.deserialize().encryptedTransportMessage(),l=i==null?void 0:i.consumerMessage();if(!(i==null||l==null)){var s=e(l);if(s!=null){var u={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),externalId:t.getExternalId(),forwardingScore:0,groupId:(n=i.proto.metadata)==null?void 0:n.groupId,groupIndex:(r=i.proto.metadata)==null?void 0:r.groupIndex,groupSize:(a=i.proto.metadata)==null?void 0:a.groupSize,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,msgId:t.getMsgId(),sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:s};return{kind:"bridgeMsg",value:u}}}}function c(e,t,n){var r,a,i={height:n==null||(r=n.transport)==null||(r=r.ancillary)==null||(r=r.thumbnail)==null?void 0:r.thumbnailHeight,width:n==null||(a=n.transport)==null||(a=a.ancillary)==null||(a=a.thumbnail)==null?void 0:a.thumbnailWidth},l={height:t==null?void 0:t.height,width:t==null?void 0:t.width};if(e==="Sticker"){var s;i=(s=o("MAWImageUtils")).boundHeightWidth(i.height,i.width,s.STICKER_THUMBNAIL_MAX_SIZE),l=s.boundHeightWidth(l.height,l.width,s.STICKER_THUMBNAIL_MAX_SIZE)}return{previewHeight:i.height,previewHeightLarge:l.height,previewWidth:i.width,previewWidthLarge:l.width}}function d(e,t,n,r){var a,i,l,s,u,d,m,p,_,f=e.ancillary,g=e.integral;if(!(f==null||g==null)&&!(f.receiverFetchId!=null||(g==null?void 0:g.receiverFetchId)!=null)){var h=n.getMsgId(),y=g==null||(a=g.transport)==null||(a=a.integral)==null?void 0:a.mediaKeyTimestamp,C=g==null||(i=g.transport)==null||(i=i.integral)==null?void 0:i.fileSha256,b=C!=null?o("WAHashUtils").toPlaintextHash(C):void 0;return babelHelpers.extends({accessibilitySummaryText:f.accessibilityLabel,defaultFilename:r,duration:((l=f.seconds)!=null?l:0)*1e3,filenames:r!=null?(s={},s[h]=r,s):void 0,filesize:o("WALongInt").numberOrThrowIfTooLarge((u=g==null||(d=g.transport)==null||(d=d.ancillary)==null?void 0:d.fileLength)!=null?u:0),gifPlayback:f.gifPlayback,hasMedia:!0,hasPreviewMedia:(g==null||(m=g.transport)==null||(m=m.ancillary)==null?void 0:m.thumbnail)!=null},f.hdType!=null?{hdTypes:(p={},p[h]=f.hdType,p)}:{},{mediaId:o("MAWDbMedia").convertNumberToMediaId(0),mediaType:t,messagesSortOrderMs:(_={},_[h]=n.topLevel.timestampMs,_),msgIds:[h],offlineAttachmentId:b,plaintextHash:b},c(t,f,g),{sortOrderMs:y!=null?o("WATimeUtils").castLongIntToMillisTime(y):void 0,threadJid:n.getChatJid(),transportKey:"WhatsApp",ts:n.getUnixTs()})}}function m(t,n){var o,a,i=(o=t.documentMessage())==null?void 0:o.fileName,l=(a=t.attachmentMessage())==null?void 0:a.payload;if(l!=null){var s=e(t);if(s==null){r("FBLogger")("mps").mustfix("media type is null for attachment message");return}return d(l,s,n,i)}}function p(e){var t,n=(t=e.message.deserialize().encryptedTransportMessage())==null?void 0:t.consumerMessage();if(n==null)return e;var r=m(n,e.message);return r==null||e.supplementals.push({kind:"bridgeMedia",value:r}),e}l.getMediaTypeForMessage=e,l.getMediaTypeForServerMediaType=s,l.mediaToBridge=u,l.getBridgeFromAttachmentTransport=d,l.getBridgeMediaFromConsumerMessage=m,l.processAttachment=p}),98);
__d("maybeConvertMessageTextMentionsV2ToV1",["WACommon.pb"],(function(t,n,r,o,a,i,l){function e(e){if(e==null||e.text==null||e.mentions==null||e.mentions.length===0)return e;var t=e.text,n=[],r=[],a=0;for(var i of e.mentions){var l=i.offset,s=i.length,u=i.mentionedJid,c=i.mentionType;c!==o("WACommon.pb").MENTION_MENTION_TYPE.PROFILE||l==null||s==null||u==null||(r.push(u+"@msgr"),n.push(t.substring(a,l)),n.push("@"+u+"@msgr"),a=l+s)}return r.length===0?e:(n.push(t.substring(a)),babelHelpers.extends({},e,{text:n.join(""),mentionedJid:r,mentions:[]}))}l.default=e}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e=/^[ \r\n\s]*$/;function s(t,n){if(t==null)return!1;var r=o("ReStoreVaulting").maybeUnvault(t),a=o("EmojiRenderer").parse(r).map(function(e){return{length:e.length,offset:e.offset}}),i=n?o("EmoticonRenderer").parse(r).map(function(e){return{length:e.chars.length,offset:e.offset}}):[],l=a.concat(i);if(l.length===0)return!1;var s=l.sort(function(e,t){return e.offset-t.offset|0}),u={contents:0},c={contents:0},d=s.some(function(t){u.contents===t.offset?(u.contents=u.contents+t.length|0,c.contents=u.contents):c.contents=t.offset;var n=r.substring(u.contents,c.contents);return u.contents=t.offset+t.length|0,e.test(n)===!1}),m=u.contents!==r.length&&!e.test(r.substring(c.contents));return d?!1:!m}l.default=s}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWMpsGating","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l,s=e.deserialize().encryptedTransportMessage(),u=s==null?void 0:s.consumerMessage(),c=(u==null||(t=u.payload)==null||(t=t.content)==null?void 0:t.messageText)&&r("maybeConvertMessageTextMentionsV2ToV1")(u==null||(n=u.payload)==null||(n=n.content)==null?void 0:n.messageText);if(!(u==null||c==null||s==null)){var d=(a=c.text)!=null?a:"";o("MAWMpsGating").isFullMpsEnabled()&&!r("mwv2MessageIsEmojiOnly")(d,!0)&&(d+="*"),d=o("MAWVault").vault(d);var m={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),commands:c.commands,content:d,externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,mentionedJids:c.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,specialTextSize:(i=(l=u.metadata)==null?void 0:l.specialTextSize)!=null?i:void 0,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:m}}}l.messageTextToBridgeMsg=e}),98);
__d("MpsMessageToBridgeWrapper",["MAWProtobufDeserializers","MAWUserJidWrapper","MpsToBridgeMessageId","WAJids","WATimeUtils","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=o("WAJids").createJidUtils({platform:"msgr"}),s=(function(){function t(e,t){this.message=e,this.topLevel=t}t.fromTopLevel=function(n){return new t(n,n)},t.fromSupplemental=function(n,a){var e,i=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(n.payload),l={messageId:n.messageId,payload:n.payload,senderId:r("nullthrows")((e=i.proto.metadata)==null?void 0:e.senderId),threadId:a.threadId,timestampMs:n.timestampMs};return new t(l,a)};var n=t.prototype;return n.getChatJid=function(){return o("WAJids").unsafeCoerceToChatJid(this.message.threadId)},n.getExternalId=function(){return this.message.messageId},n.getMsgId=function(){return o("MpsToBridgeMessageId").mpsToBridgeMsgId(this.message.threadId,this.message.messageId)},n.getSenderJid=function(){return e.toUserJid(this.message.senderId)},n.topLevelMetadata=function(){return t.fromTopLevel(this.topLevel)},n.isAuthorMe=function(){return o("WAJids").userIdFromJid(o("MAWUserJidWrapper").getMyUserJid())===this.message.senderId},n.getAuthor=function(){return this.isAuthorMe()?o("WAJids").AUTHOR_ME:this.getSenderJid()},n.getUnixTs=function(){return o("WATimeUtils").castMilliSecondsToUnixTime(this.message.timestampMs)},n.deserialize=function(){return o("MAWProtobufDeserializers").DeserializedBackupMessage.create(this.message.payload)},t})();l.MpsMessageToBridgeWrapper=s}),98);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r,a,i,l=e.ancillary,s=e.integral,u=(n=s==null?void 0:s.receiverFetchId)!=null?n:l==null?void 0:l.receiverFetchId,c=s==null||(r=s.transport)==null||(r=r.ancillary)==null?void 0:r.mimetype;if(!(u==null||c==null)){var d=(a=l==null?void 0:l.width)!=null?a:0,m=(i=l==null?void 0:l.height)!=null?i:0;return{accessibilitySummaryText:l==null?void 0:l.accessibilityLabel,mimetype:c,msgId:t.getMsgId(),previewHeight:m,previewWidth:d,receiverFetchId:u,sortOrderMs:o("WATimeUtils").castLongIntToMillisTime(t.message.timestampMs),threadJid:t.getChatJid(),transportKey:"WhatsApp",type:"sticker"}}}function s(t,n){var r,o=(r=t.stickerMessage())==null?void 0:r.payload;if(o!=null)return e(o,n)}function u(e){var t,n=(t=e.message.deserialize().encryptedTransportMessage())==null?void 0:t.consumerMessage();if(n==null)return e;var r=s(n,e.message);return r==null||e.supplementals.push({kind:"bridgeReceiverFetchInfo",value:r}),e}l.getReceiverFetchInfoForAttachmentTransport=e,l.getReceiverFetchInfoFromConsumerMessage=s,l.processReceiverFetchInfo=u}),98);
__d("WAMedia",[],(function(t,n,r,o,a,i){"use strict";var e="Image",l="Video",s="Ptt",u="Gif",c="Sticker",d="DocumentFile",m={IMAGE:e,VIDEO:l,PTT:s,GIF:u,STICKER:c,DOCUMENT_FILE:d};i.IMAGE=e,i.VIDEO=l,i.PTT=s,i.GIF=u,i.STICKER=c,i.DOCUMENT_FILE=d,i.MEDIA_TYPE=m}),66);
__d("MpsXmaToBridge",["MAWAckLevel","MAWBridgeXMA","MAWDbMedia","MAWDbXMA","MAWParseCollapsibleIdFromXMADataClass","MAWXMAUtils","MWXMAV2IsCollapsibleXMA","MWXMAV2XmaDataClass","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","WAArmadilloXMA.pb","WAHashUtils","WAJids","WALongInt","WAMedia","WATimeUtils","maybeConvertMessageTextMentionsV2ToV1","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=["actionContentBlob"];function s(e){var t,n,o;if(((t=(n=e.payload.messageText)==null?void 0:n.length)!=null?t:0)>0)return r("maybeConvertMessageTextMentionsV2ToV1")({commands:e.payload.commands,mentionedJid:e.payload.mentionedJid,mentions:e.payload.mentions,text:e.payload.messageText});var a=(o=e.associatedMessage())==null||(o=o.consumerMessage())==null||(o=o.payload)==null||(o=o.content)==null?void 0:o.messageText;if(a!=null&&a.text!=null)return r("maybeConvertMessageTextMentionsV2ToV1")(a)}function u(e){if(e!=null){var t=o("WATimeUtils").castLongIntToUnixTime(e);if(t!=null){var n=o("WATimeUtils").cappedMillisecondsUntil(t);if(n!=null){var r=n<=0;return{countdownTs:t,isExpiredXmaMsg:r,millisecondsUntilCountdownTs:n}}}}}function c(e){var t,n=e.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null?void 0:t.extendedContentMessage();if(!(n==null||r==null||o("MAWXMAUtils").isXMAStoryReply(r.payload.targetType))){var a,i=o("MWXMAV2XmaDataClass").parseXmaDataClass(r.payload.xmaDataclass);o("MWXMAV2IsCollapsibleXMA").isCollapsibleXMA(i)&&(a=o("MAWParseCollapsibleIdFromXMADataClass").parseCollapsibleIdFromXMADataClass(i));var l=s(r),c=u(r==null?void 0:r.payload.targetExpiringAtSec),d=babelHelpers.extends({ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid()},a!=null?{collapsibleId:a}:{},{commands:l==null?void 0:l.commands,content:l==null?void 0:l.text,externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isExpiredXmaMsg:c==null?void 0:c.isExpiredXmaMsg,isFBPostMention:o("MAWXMAUtils").isFBXMAPostMention(r.payload.targetType),isFBStoryMention:o("MAWXMAUtils").isFBXMAStoryMention(r.payload.targetType),isForwarded:!1,isIGStoryMention:o("MAWXMAUtils").isIGXMAStoryMention(r.payload.targetType),isIGXMAPostShare:o("MAWXMAUtils").isIGXMAPostShare(r.payload.targetType),isIGXMAStoryShare:o("MAWXMAUtils").isIGXMAStoryShare(r.payload.targetType),isMsgHighlightsTabFriendUpdatesReply:o("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(r.payload.targetType),isPostPrivateReply:o("MAWXMAUtils").isXMAPostPrivateReply(r.payload.targetType),isStoryHighlightShare:o("MAWXMAUtils").isXMAStoryHighlightShare(r.payload.targetType),isStoryProducerReply:o("MAWXMAUtils").isXMAStoryProducerReply(r.payload.targetType),isStoryReaction:o("MAWXMAUtils").isXMAStoryReaction(r.payload.targetType),isStoryReply:o("MAWXMAUtils").isXMAStoryReply(r.payload.targetType),isStoryShare:o("MAWXMAUtils").isXMAStoryShare(r.payload.targetType),mentionedJids:l==null?void 0:l.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:"XMA",xmaMessageType:r.payload.targetType});return{kind:"bridgeMsg",value:d}}}function d(t){var n,a,i,l,s,u,c,d,m,p,_=t.message,f=t.topLevel;if(f.value.type_!=="XMA")return t;var g=_.deserialize().encryptedTransportMessage(),h=g==null||(n=g.armadillo())==null?void 0:n.extendedContentMessage();if(g==null||h==null)return t;var y=h.payload.ctas.map(function(t){var n=t.actionContentBlob,r=babelHelpers.objectWithoutPropertiesLoose(t,e);return r}),C=r("nullthrows")(h.payload.targetType),b=C===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT,v=b?[null,h.previews().at(0)]:[h.previews().at(0),h.favicon()],S=v[0],R=v[1],L=S==null||(a=S.integral)==null||(a=a.transport)==null||(a=a.integral)==null?void 0:a.fileSha256,E=L!=null?o("WAHashUtils").toPlaintextHash(L):void 0,k=R==null||(i=R.integral)==null||(i=i.transport)==null||(i=i.integral)==null?void 0:i.fileSha256,I=k!=null?o("WAHashUtils").toPlaintextHash(k):void 0,T=(l=h.headerImage())==null||(l=l.integral)==null||(l=l.transport)==null||(l=l.integral)==null?void 0:l.fileSha256,D=T!=null?o("WAHashUtils").toPlaintextHash(T):void 0,x=o("WAMedia").MEDIA_TYPE.IMAGE,$=o("MAWBridgeXMA").mediaTypeToMimeType(x),P={author:_.getAuthor(),contentRef:h.payload.contentRef,ctas:y.slice(1),defaultCTA:y.at(0),defaultPreviewMediaId:o("MAWDbMedia").convertNumberToMediaId(0),defaultPreviewMediaPlaintextHash:E,duration:null,faviconMediaId:o("MAWDbMedia").convertNumberToMediaId(0),faviconPlaintextHash:I,filesize:o("WALongInt").numberOrThrowIfTooLarge((s=S==null||(u=S.integral)==null||(u=u.transport)==null||(u=u.ancillary)==null?void 0:u.fileLength)!=null?s:0),hasMedia:E!=null,hasXmaFaviconMedia:k!=null,hasXmaHeaderMedia:T!=null,headerMediaId:o("MAWDbMedia").convertNumberToMediaId(0),headerMediaPlaintextHash:D,headerTitle:h.payload.headerTitle,maxSubtitleNumOfLines:h.payload.maxSubtitleNumOfLines,maxTitleNumOfLines:h.payload.maxTitleNumOfLines,mediaType:x,msgId:t.message.getMsgId(),offlineAttachmentId:E,overlayIconGlyph:h.payload.overlayIconGlyph,overlayTitle:h.payload.overlayTitle,playableUrlMimeType:$,previewHeight:S==null||(c=S.integral)==null||(c=c.transport)==null||(c=c.ancillary)==null||(c=c.thumbnail)==null?void 0:c.thumbnailHeight,previewHeightLarge:S==null||(d=S.ancillary)==null?void 0:d.height,previewUrlMimeType:$,previewWidth:S==null||(m=S.integral)==null||(m=m.transport)==null||(m=m.ancillary)==null||(m=m.thumbnail)==null?void 0:m.thumbnailWidth,previewWidthLarge:S==null||(p=S.ancillary)==null?void 0:p.width,subtitleText:h.payload.subtitleText,targetId:h.payload.targetId,targetType:C,targetUsername:h.payload.targetUsername,threadJid:t.message.getChatJid(),titleText:h.payload.titleText,ts:t.message.getUnixTs(),xmaDataclass:h.payload.xmaDataclass,xmaId:o("MAWDbXMA").convertNumberToXMAId(0),xmaLayoutType:h.payload.xmaLayoutType};return t.supplementals.push({kind:"bridgeXMA",value:P}),t}function m(e){var t,n,r=e.message.deserialize().encryptedTransportMessage(),a=r==null||(t=r.armadillo())==null?void 0:t.extendedContentMessage(),i=a==null||(n=a.associatedMessage())==null?void 0:n.consumerMessage();if(i==null)return e;var l=o("MpsMediaToBridge").getBridgeMediaFromConsumerMessage(i,e.message);l!=null&&e.supplementals.push({kind:"bridgeMedia",value:l});var s=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoFromConsumerMessage(i,e.message);return s!=null&&e.supplementals.push({kind:"bridgeReceiverFetchInfo",value:s}),e}function p(e){var t,n=e.message.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null?void 0:t.extendedContentMessage(),o=u(r==null?void 0:r.payload.targetExpiringAtSec);if(o==null)return e;var a=o.countdownTs,i=o.millisecondsUntilCountdownTs;return e.supplementals.push({kind:"bridgeXMAStartCountdown",value:{msgs:[{countdownTs:a,millisecondsUntilCountdownTs:i,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),e}l.computeXmaContent=s,l.getExpiredXMAParams=u,l.xmaToBridge=c,l.processXmaAttachment=d,l.processXmaAssociatedMessageAttachment=m,l.processXmaExpiration=p}),98);
__d("MpsNoteReplyToBridge",["MAWAckLevel","MAWVault","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","MpsXmaToBridge","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e==null?void 0:e.videoContent(),n=e==null?void 0:e.stickerContent(),a=t!=null?t:n;if(a!=null){var i=t!=null?o("getMediaTypeFromConsumerMessage").getMediaTypeForVideo(t):void 0,l=n!=null?"sticker":void 0,s=r("nullthrows")(i!=null?i:l);return o("MpsMediaToBridge").getMediaTypeForServerMediaType(s)}}function s(t){var n,r,a=t.deserialize().encryptedTransportMessage(),i=a==null||(n=a.armadillo())==null?void 0:n.noteReply();if(!(a==null||i==null)){var l=i.payload,s=l.noteText,u=l.noteTimestampMs,c=l.textContent,d=i.payload.noteTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WALongInt").numberOrThrowIfTooLarge(i.payload.noteTimestampMs)):void 0,m=o("MpsXmaToBridge").getExpiredXMAParams(d),p=t.message.senderId,_=e(i),f={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),content:(c==null?void 0:c.text)==null?void 0:o("MAWVault").vault(c.text),editCount:0,externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isExpiredMsg:!1,isForwarded:!1,isNoteReply:!0,msgId:t.getMsgId(),replyContent:{noteContent:m!=null&&m.isExpiredXmaMsg?void 0:o("MAWVault").vault((r=s==null?void 0:s.text)!=null?r:""),replyMediaExpirationTimestampMs:u!=null?o("WATimeUtils").castToMillisTime(o("WALongInt").numberOrThrowIfTooLarge(u)):void 0,replyToMsgId:t.getMsgId(),replyToUserId:p,replyType:"LIGHTWEIGHT_STATUS"},sender:p,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:_!=null?_:"Text"};return{kind:"bridgeMsg",value:f}}}function u(e){var t,n=e.message.deserialize().encryptedTransportMessage(),r=n==null||(t=n.armadillo())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.noteReplyMessage;if(n==null||r==null)return e;var a=r.noteTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WALongInt").numberOrThrowIfTooLarge(r.noteTimestampMs)):void 0,i=o("MpsXmaToBridge").getExpiredXMAParams(a);if(i==null)return e;var l=i.countdownTs,s=i.millisecondsUntilCountdownTs;return e.supplementals.push({kind:"bridgeNoteReplyStartCountdown",value:{msgs:[{countdownTs:l,millisecondsUntilCountdownTs:s,msgId:e.message.getMsgId(),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()}]}}),e}function c(t){var n,r=t.message,a=r.deserialize().encryptedTransportMessage(),i=a==null||(n=a.armadillo())==null?void 0:n.noteReply(),l=i==null?void 0:i.videoContent(),s=i==null?void 0:i.stickerContent(),u=l!=null?l:s,c=e(i);if(u==null||c==null)return t;var d=o("MpsMediaToBridge").getBridgeFromAttachmentTransport(u,c,r);if(d!=null&&t.supplementals.push({kind:"bridgeMedia",value:d}),s!=null){var m=o("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoForAttachmentTransport(s,r);m!=null&&t.supplementals.push({kind:"bridgeReceiverFetchInfo",value:m})}return t}l.noteReplyToBridge=s,l.processNoteReply=u,l.processNoteReplyAttachment=c}),98);
__d("MpsRavenToBridge",["EphemeralMediaViewMode","FBLogger","MAWAckLevel","MAWDbMedia","MAWProtobufDeserializers","RavenMessagingState","WAArmadilloApplication.pb","WAHashUtils","WAMsgType","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e.deserialize().encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content,o=(n=r==null?void 0:r.ravenMessage)!=null?n:r==null?void 0:r.ravenMessageMsgr;return!!o}function s(t){if(e(t)){var n={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),content:"",externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,msgId:t.getMsgId(),sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.RAVEN};return{kind:"bridgeMsg",value:n}}}function u(e){var t,n,a,i=e.message,l=(t=i.deserialize().encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content,s=(n=l==null?void 0:l.ravenMessage)!=null?n:l==null?void 0:l.ravenMessageMsgr;if(s==null)return e;var u,c;e.supplementalMessages.forEach(function(e){var t,n,r=(t=o("MAWProtobufDeserializers").DeserializedBackupMessage.create(e.payload).encryptedTransportMessage())==null||(t=t.armadillo())==null||(t=t.payload)==null?void 0:t.content;u=(n=r==null?void 0:r.ravenMessage)!=null?n:r==null?void 0:r.ravenMessageMsgr,c=r==null?void 0:r.ravenActionNotifMessage});var d=(typeof u=="object"&&u!==null||typeof u=="function")&&(typeof u.videoMessage=="object"&&u.videoMessage!==null||typeof u.videoMessage=="function")?o("WAMsgType").MSG_TYPE.VIDEO:(typeof u=="object"&&u!==null||typeof u=="function")&&(typeof u.imageMessage=="object"&&u.imageMessage!==null||typeof u.imageMessage=="function")?o("WAMsgType").MSG_TYPE.IMAGE:null;if(d==null&&c==null)return r("FBLogger")("mps").mustfix("Unsupported Raven type"),e;var m=e.message.getMsgId(),p=s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.VIEW_ONCE?r("EphemeralMediaViewMode").READ_ONCE:s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.ALLOW_REPLAY?r("EphemeralMediaViewMode").REPLAYABLE:s.ephemeralType===o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.KEEP_IN_CHAT?r("EphemeralMediaViewMode").PERMANENT:s.ephemeralType===void 0?void 0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+s.ephemeralType)})(),_={duration:null,ephemeralMediaState:c==null?r("RavenMessagingState").UNSEEN:r("RavenMessagingState").SEEN,ephemeralMediaViewMode:p,filesize:100,hasMedia:!1,hasPreviewMedia:!1,mediaId:o("MAWDbMedia").convertNumberToMediaId(0),mediaType:d||o("WAMsgType").MSG_TYPE.IMAGE,messagesSortOrderMs:(a={},a[m]=e.message.topLevel.timestampMs,a),msgIds:[e.message.getMsgId()],plaintextHash:o("WAHashUtils").stringToPlaintextHash("aaa"),previewHeight:1,previewHeightLarge:1,previewWidth:1,previewWidthLarge:1,sortOrderMs:o("WATimeUtils").castLongIntToMillisTime(e.message.topLevel.timestampMs),threadJid:e.message.getChatJid(),ts:e.message.getUnixTs()};return e.supplementals.push({kind:"bridgeMedia",value:_}),e}l.isRavenMsg=e,l.ravenToBridge=s,l.processRavenAttachment=u}),98);
__d("MpsReactionToBridge",["WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=(t=e.deserialize().encryptedTransportMessage())==null||(t=t.consumerMessage())==null||(t=t.payload)==null||(t=t.content)==null?void 0:t.reactionMessage;if(r!=null){var a=r.senderTimestampMs!=null?o("WATimeUtils").castMilliSecondsToUnixTime(o("WATimeUtils").castLongIntToMillisTime(r.senderTimestampMs)):e.getUnixTs(),i=(n=r.text)!=null?n:"",l=i===""?{reaction:{actorId:e.message.senderId,chatJid:e.getChatJid(),messageId:e.topLevelMetadata().getMsgId()},type:"delete"}:{reaction:{actorId:e.message.senderId,chatJid:e.getChatJid(),messageId:e.topLevelMetadata().getMsgId(),reaction:i,ts:a},type:"upsert"};return{kind:"bridgeReactionAction",value:l}}}l.reactionMessageToBridgeMsg=e}),98);
__d("MpsReplyToBridge",["MpsToBridgeMessageId","MpsTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.message,r=e.topLevel,a=n.deserialize().encryptedTransportMessage();if(r.kind!=="bridgeMsg"||a==null)return e;var i=(t=a.proto.metadata)==null?void 0:t.quotedMessage;if(i==null||i.stanzaId==null||r.value.replyContent!=null)return e;var l=o("MpsTypes").toMessageId(i.stanzaId);return r.value=babelHelpers.extends({},r.value,{replyContent:{isBumpMsg:!1,replyToMsgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(n.message.threadId,l),replyType:"MESSAGE"}}),babelHelpers.extends({},e,{topLevel:r})}l.processReplyMessage=e}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.deserialize().encryptedTransportMessage(),r=n==null||(t=n.consumerMessage())==null||(t=t.payload)==null||(t=t.applicationData)==null?void 0:t.revoke;if(!(n==null||r==null))return{kind:"bridgeMsg",value:{ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.REVOKED}}}l.revokeMessageToBridgeMsg=e}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r=e.deserialize().encryptedTransportMessage(),a=r==null||(t=r.armadillo())==null||(t=t.proto.payload)==null||(t=t.content)==null?void 0:t.screenshotAction;if(!(a==null||r==null)){var i=o("MAWEphemeralUtils").getEphemeralScreenshotActionData((n=a.screenshotType)!=null?n:o("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,e.getSenderJid(),e.isAuthorMe()),l={ack:o("MAWAckLevel").ACK.received,adminContent:i.ephemeralScreenshotActionContent,adminType:i.ephemeralScreenshotActionType,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:l}}}l.screenshotActionToBridgeMsg=e}),98);
__d("WAParseReadOnlyMetadataDataclassUtils",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if((e==null?void 0:e.readonlyMetadataDataclass)!=null)try{var t=JSON.parse(e==null?void 0:e.readonlyMetadataDataclass);return t}catch(e){throw r("err")("Failed to parse readonly metadata dataclass JSON")}return null}function s(t){var n,r=e(t);return(r==null||(n=r.power_up)==null?void 0:n.power_up_style)!=null}function u(t){var n,r=e(t);return(r==null||(n=r.note_metadata)==null?void 0:n.message_type)==="MENTION"}l.isPowerUp=s,l.isNoteMention=u}),98);
__d("MpsUnsupportedMessagesToBridge",["MAWAckLevel","MAWParseXMAFBConfig","MAWParseXMAUnsupportedMessageType","WACommon.pb","WAMsgType","WAParseReadOnlyMetadataDataclassUtils","gkx","justknobx","maybeConvertMessageTextMentionsV2ToV1"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l,s,u,c=e.deserialize().encryptedTransportMessage();if(c!=null){var d=c==null?void 0:c.consumerMessage(),m={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.FUTUREPROOF},p=(d==null||(t=d.payload)==null||(t=t.content)==null?void 0:t.messageText)&&r("maybeConvertMessageTextMentionsV2ToV1")(d==null||(n=d.payload)==null||(n=n.content)==null?void 0:n.messageText);if(p!=null){var _,f=((_=p.commands)==null?void 0:_.some(function(e){return e.commandType===o("WACommon.pb").COMMAND_COMMAND_TYPE.AI}))===!0;if(f&&!r("gkx")("12661"))return{kind:"bridgeMsg",value:babelHelpers.extends({},m,{unsupportedType:"metaAiMessage"})}}var g=c==null||(a=c.armadillo())==null?void 0:a.paymentsTransactionMessage(),h=g!=null?g:c==null||(i=c.armadillo())==null?void 0:i.extendedContentMessage();if(h!=null){var y=h.payload,C=y.targetType,b=y.xmaDataclass;if(C==null||!o("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:C,xmaDataclass:b})){var v=g!=null;return{kind:"bridgeMsg",value:babelHelpers.extends({},m,{unsupportedType:o("MAWParseXMAUnsupportedMessageType").getXMAUnsupportedMessageType(C,b,v)})}}}var S=d==null||(l=d.stickerMessage())==null?void 0:l.payload;if(S!=null){var R,L,E=((R=S.integral)==null?void 0:R.receiverFetchId)!=null||((L=S.ancillary)==null?void 0:L.receiverFetchId)!=null;if(E&&!r("justknobx")._("3677"))return{kind:"bridgeMsg",value:babelHelpers.extends({},m,{unsupportedType:"stickerReceiverFetchMessage"})}}var k=d==null||(s=d.documentMessage())==null?void 0:s.payload;if(k!=null&&r("gkx")("23924"))return{kind:"bridgeMsg",value:babelHelpers.extends({},m)};if(o("WAParseReadOnlyMetadataDataclassUtils").isNoteMention(c.proto.metadata))return{kind:"bridgeMsg",value:babelHelpers.extends({},m,{unsupportedType:"noteMention"})};var I=d==null||(u=d.payload)==null||(u=u.content)==null?void 0:u.pollCreationMessage;if(I!=null)return{kind:"bridgeMsg",value:babelHelpers.extends({},m,{unsupportedType:"pollCreationMessage"})}}}l.unsupportedMessagesBridgeMsg=e}),98);
__d("MpsWaAdminMsgToBridge",["MAWAckLevel","MAWGetUserDeviceChangeAdminType","MAWJids","MAWLocalizationType","MAWUserJidWrapper","WAArmadilloTransportEvent.pb","WAJids","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,r,a=e.deserialize(),i=(t=a.encryptedTransportEvent())==null?void 0:t.proto.event;if(i){var l=i.deviceChange,s=i.icdcAlert;if(((n=a.proto.metadata)==null?void 0:n.senderId)!=null){var u=o("WAJids").unsafeCoerceToUserJid((r=a.proto.metadata)==null?void 0:r.senderId),c=o("MAWJids").toUserJid(u),d=c===o("MAWUserJidWrapper").getMyUserJid()?[]:[o("WAJids").userIdFromJid(c)];if(s)return{kind:"bridgeMsg",value:{ack:o("MAWAckLevel").ACK.received,adminContent:d,adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ICDC_ALERT}};if(l){var m,p,_=(typeof l=="object"&&l!==null||typeof l=="function")&&"type"in l&&l.type===o("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.ADDED?"add":(typeof l=="object"&&l!==null||typeof l=="function")&&"type"in l&&l.type===o("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REMOVED?"remove":typeof l=="object"&&l!==null||typeof l=="function"?"update":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+l)})();if(((m=a.proto.metadata)==null?void 0:m.senderId)==null)return;var f=o("WAJids").unsafeCoerceToUserJid((p=a.proto.metadata)==null?void 0:p.senderId),g=o("MAWJids").toUserJid(f),h=o("MAWGetUserDeviceChangeAdminType").getUserDeviceAdminType(_,g===o("MAWUserJidWrapper").getMyUserJid()),y={ack:o("MAWAckLevel").ACK.received,adminContent:d,adminType:h,adminVersion:1,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:o("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:y}}}}}l.waAdminMsgToBridgeMsg=e}),98);
__d("MpsWaPlaceholderToBridge",["MAWAckLevel","WAArmadilloTransportEvent.pb","WAMsgType"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.deserialize().encryptedTransportEvent(),r=n==null||(t=n.proto.placeholder)==null?void 0:t.type;if(!(n==null||r==null)){var a={ack:o("MAWAckLevel").ACK.received,chatJid:e.getChatJid(),externalId:e.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:e.isAuthorMe(),isForwarded:!1,msgId:e.getMsgId(),sender:e.message.senderId,sortOrderMs:e.message.timestampMs,ts:e.getUnixTs(),type_:r===o("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.UNAVAILABLE_MESSAGE?o("WAMsgType").MSG_TYPE.UNAVAILABLE:o("WAMsgType").MSG_TYPE.CIPHERTEXT};return{kind:"bridgeMsg",value:a}}}l.waPlaceholderToBridgeMsg=e}),98);
__d("MpsXmaMentionToBridge",["MAWUserJidWrapper","MAWXMAUtils","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.message,r=e.topLevel,a=n.deserialize().encryptedTransportMessage(),i=a==null||(t=a.armadillo())==null?void 0:t.extendedContentMessage(),l=i==null?void 0:i.payload.targetType,s=o("MAWXMAUtils").isXMAStoryMention(l)||o("MAWXMAUtils").isFBXMAPostMention(l);if(a==null||i==null||!s||r.kind!=="bridgeMsg")return e;var u=o("MAWXMAUtils").isFBXMAPostMention(l),c=o("WAJids").interpretAsUserJid(n.getChatJid()),d=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid()),m=c==null?d:o("WAJids").userIdFromJid(c),p={mentionedUserId:m!=null?m:d,timestampMs:o("WATimeUtils").castToMillisTime(n.message.timestampMs)},_=u?babelHelpers.extends({},p,{replyType:"FB_POST_MENTION"}):babelHelpers.extends({},p,{replyType:"FB_STORY_MENTION"});return r.value=babelHelpers.extends({},r.value,{replyContent:_}),e}l.processXmaMention=e}),98);
__d("MpsXmaStoryReplyToBridge",["MAWAckLevel","MAWDbMedia","MAWMsgType","MAWUserJidWrapper","MAWXMAUtils","MpsMediaToBridge","MpsXmaToBridge","WAHashUtils","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r=(n=o("WAJids").interpretAsUserJid(t.getChatJid()))!=null?n:t.getSenderJid(),a=o("MAWUserJidWrapper").getMyUserJid();return o("MAWXMAUtils").isXMAStoryProducerReply(e.targetType)?t.isAuthorMe()?a:r:t.isAuthorMe()?r:a}function s(t){var n,r,a,i,l=t.deserialize().encryptedTransportMessage(),s=l==null||(n=l.armadillo())==null?void 0:n.extendedContentMessage();if(!(l==null||s==null||!o("MAWXMAUtils").isXMAStoryReply(s.payload.targetType))){var u=o("MpsXmaToBridge").computeXmaContent(s),c=s.previews().at(0),d=c==null||(r=c.integral)==null||(r=r.transport)==null||(r=r.integral)==null?void 0:r.fileSha256,m=d!=null?o("WAHashUtils").toPlaintextHash(d):void 0,p=(a=s.payload.ctas.at(0))==null?void 0:a.nativeUrl,_=e(s.payload,t),f=o("MAWXMAUtils").isXMAStoryProducerReply(s.payload.targetType),g=(i=s.associatedMessage())==null?void 0:i.consumerMessage(),h=g!=null?o("MpsMediaToBridge").getMediaTypeForMessage(g):null,y=o("MpsXmaToBridge").getExpiredXMAParams(s==null?void 0:s.payload.targetExpiringAtSec),C=f?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:o("MAWDbMedia").convertNumberToMediaId(1),storyMediaPlaintextHash:y!=null&&y.isExpiredXmaMsg?void 0:m,storyMsgType:o("MAWMsgType").MSG_TYPE.IMAGE,storyOwnerId:o("WAJids").extractUserId(_),storyUrl:p!=null?p:"",timestampMs:o("WATimeUtils").castToMillisTime(t.message.timestampMs)}:{replyType:"STORY",storyMediaPlaintextHash:y!=null&&y.isExpiredXmaMsg?void 0:m,storyOwnerId:o("WAJids").extractUserId(_),storyUrl:p!=null?p:"",timestampMs:o("WATimeUtils").castToMillisTime(t.message.timestampMs)},b={ack:o("MAWAckLevel").ACK.received,chatJid:t.getChatJid(),commands:u==null?void 0:u.commands,content:u==null?void 0:u.text,externalId:t.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:t.isAuthorMe(),isForwarded:!1,isStoryReply:!0,mentionedJids:u==null?void 0:u.mentionedJid.map(o("WAJids").validateUserJid).filter(Boolean),msgId:t.getMsgId(),replyContent:C,sender:t.message.senderId,sortOrderMs:t.message.timestampMs,ts:t.getUnixTs(),type_:h!=null?h:"Text"};return{kind:"bridgeMsg",value:b}}}l.storyReplyToBridge=s}),98);
__d("MpsMessageToBridge",["MAWMsgType","MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsForwardToBridge","MpsFutureproofToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsNoteReplyToBridge","MpsRavenToBridge","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg","MpsUnsupportedMessagesToBridge","MpsWaAdminMsgToBridge","MpsWaPlaceholderToBridge","MpsXmaMentionToBridge","MpsXmaStoryReplyToBridge","MpsXmaToBridge"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[o("MpsUnsupportedMessagesToBridge").unsupportedMessagesBridgeMsg,o("MpsMessageTextToBridge").messageTextToBridgeMsg,o("MpsMediaToBridge").mediaToBridge,o("MpsAdminMsgToBridge").adminMsgToBridgeMsg,o("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,o("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,o("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg,o("MpsWaAdminMsgToBridge").waAdminMsgToBridgeMsg,(e=o("MpsXmaToBridge")).xmaToBridge,o("MpsXmaStoryReplyToBridge").storyReplyToBridge,o("MpsRavenToBridge").ravenToBridge,o("MpsNoteReplyToBridge").noteReplyToBridge,o("MpsWaPlaceholderToBridge").waPlaceholderToBridgeMsg,o("MpsFutureproofToBridge").futureproofBridgeMsg],u=[o("MpsEditToBridge").editMessageToBridgeMsg,o("MpsReactionToBridge").reactionMessageToBridgeMsg],c=[o("MpsEditToBridge").processEditedMessage,o("MpsReplyToBridge").processReplyMessage,o("MpsMediaToBridge").processAttachment,o("MpsEphemeralMessageToBridge").processEphemeralMessage,o("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo,e.processXmaAttachment,e.processXmaAssociatedMessageAttachment,o("MpsXmaMentionToBridge").processXmaMention,o("MpsRavenToBridge").processRavenAttachment,o("MpsForwardToBridge").processForwarding,o("MpsNoteReplyToBridge").processNoteReply,o("MpsNoteReplyToBridge").processNoteReplyAttachment,e.processXmaExpiration];function d(e,t){for(var n of e){var r=n(t);if(r!=null)return r}}function m(e){var t=o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(e.toplevelProtobuf),n=d(s,t);if(n!=null&&!(n.kind==="bridgeMsg"&&n.value.type_===o("MAWMsgType").MSG_TYPE.ADMIN&&n.value.adminType==null)){if(n.kind==="bridgeMsg"&&n.value.type_===o("MAWMsgType").MSG_TYPE.FUTUREPROOF)return{supplementals:[],topLevel:n};var r=e.supplementalProtobufs.values().toArray().map(function(t){return d(u,o("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(t,e.toplevelProtobuf))}).filter(Boolean),a=c.reduce(function(e,t){return t(e)},{message:t,supplementalMessages:e.supplementalProtobufs,supplementals:r,topLevel:n});return{supplementals:a.supplementals,topLevel:a.topLevel}}}l.mpsFullMessagetoBridge=m}),98);
__d("WebMpsReverbWrites",["asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){"use strict";function e(e,t,r,o,a,i,l){var s=[a,o,r];return l((function(){var l=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var l,u=yield n.stores.supplemental.getByIndex("[threadId+topLevelMessageId+supplementalKey]",s);if(!(((l=u==null?void 0:u.timestampMs)!=null?l:0)>=i)){var c={messageId:e,payload:t,supplementalKey:r,threadId:a,timestampMs:i,topLevelMessageId:o};yield n.stores.supplemental.bulkUpsert("[threadId+topLevelMessageId+supplementalKey]",[{item:c,selector:s}])}});return function(e){return l.apply(this,arguments)}})())}function l(e,t,r){var o=e.messageId,a=e.threadId;return r((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r,i=yield n.stores.message.getByIndex("[threadId+messageId]",[a,o]);if(!(i!=null&&!i.isTransportErrorPlaceholder)&&!(i!=null&&i.isTransportErrorPlaceholder&&t.isTransportErrorPlaceholder)){var l=yield n.stores.deleted.getByIndex("[threadId+deletedMessageId]",[e.threadId,e.messageId]),s=babelHelpers.extends({},e,{debugFlags:t.debugFlags,expiryTimestampMs:t.expiryTimestampMs,isLocalOnlyMessage:t.isLocalOnly,isTransportErrorPlaceholder:t.isTransportErrorPlaceholder,timestampMs:(r=i==null?void 0:i.timestampMs)!=null?r:e.timestampMs});if(l)l.payload=s.payload,yield n.stores.deleted.bulkPut([l]),i!=null&&(i.timestampMs=e.timestampMs,yield n.stores.message.bulkPut([i]));else{var u=yield n.stores.message.bulkUpsert("[threadId+messageId]",[{item:s,selector:[a,o]}]),c=u[0],d=yield n.stores.tags.readIndexRange("[threadId+messageId+tag]",{only:[a,o]});d.length>0&&(yield n.stores.tags.bulkDelete(d.map(function(e){return e.pk}))),t.tags.length>0&&(yield n.stores.tags.bulkAdd(t.tags.map(function(e){return{messageId:s.messageId,messagePk:c,tag:e,threadId:s.threadId,timestampMs:s.timestampMs}})))}}});return function(e){return r.apply(this,arguments)}})())}i.upsertSupplementalToReverb=e,i.upsertTopLevelToReverb=l}),66);
__d("WormMemoryDriver",["Promise","WAResolvable","WormStoreFunctions","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=0;function u(){return s+=1,s}function c(){s=0}var d=(function(){function t(t){this.$2={},this.$3=(e||(e=n("Promise"))).resolve(),this.$1=t;for(var r of Object.keys(t))this.$2[r]=new Map}var r=t.prototype;return r.getSchema=function(){return this.$1},r.getDbAlias=function(){},r.runInTransaction=function(t,r,a,i){var e=this,l=new(o("WAResolvable")).Resolvable;return this.$3=this.$3.then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n={};for(var o of Object.keys(e.$1))n[o]=new Map(e.$2[o]);var i=t.reduce(function(t,r){var o;return babelHelpers.extends({},t,(o={},o[r]=new m(n[r],e.$1[r]),o))},{}),s={abort:function(){},commit:function(){return l.promise.then(function(){})},stores:i},u=yield a(s);r==="readwrite"&&(e.$2=n),l.resolve(u)})).catch(function(e){l.reject(e)}),l.promise},r.close=function(){},r.init=function(r){return(e||(e=n("Promise"))).resolve({isNewDb:!0,isUpgraded:!1})},t})(),m=(function(){function t(t,o){var a=this;this.readIndexRange=function(t,o,i){var l=a.$2.indexes;if(l==null)throw r("err")("No indexes found");var s=l[t];if(s==null)throw r("err")("Index not found");var u=Array.from(a.$1.values());if(o!=null){var c,d,m,p;u=_(u,(c=(d=o.lessThan)!=null?d:o.lessThanOrEqual)!=null?c:o.only,o.lessThanOrEqual!=null||o.only!=null,(m=(p=o.greaterThan)!=null?p:o.greaterThanOrEqual)!=null?m:o.only,o.greaterThanOrEqual!=null||o.only!=null,s)}return(e||(e=n("Promise"))).resolve(a.$4(u,i,t))},this.$1=t,this.$2=o}var a=t.prototype;return a.bulkAdd=function(o){var t=this;for(var a of o){if(this.$2.autoIncrement===!0&&a[this.$2.primaryKey]===void 0&&(a[this.$2.primaryKey]=u()),this.$1.has(a[this.$2.primaryKey]))throw r("err")("Item with key already exists");this.$3(a),this.$1.set(a[this.$2.primaryKey],a)}return(e||(e=n("Promise"))).resolve(o.map(function(e){return e[t.$2.primaryKey]}))},a.bulkPut=function(r){for(var t of r)this.$3(t),this.$1.set(t[this.$2.primaryKey],t);return(e||(e=n("Promise"))).resolve()},a.$3=function(t){var e=this,n=this.$2.indexes;if(n!=null){for(var o of Object.values(n))if(!(typeof o!="object"||o==null)){var a=o.fields,i=o.unique;if(i!==!1){var l=a.map(function(e){return t[e]}).join(":"),s=function(o){if(o[e.$2.primaryKey]===t[e.$2.primaryKey])return 1;var n=a.map(function(e){return o[e]}).join(":");if(l===n)throw r("err")("ConstraintError")};for(var u of this.$1.values())s(u)}}}},a.bulkGet=function(r){var t=this;return(e||(e=n("Promise"))).resolve(r.map(function(e){return t.$1.get(e)}))},a.get=function(r){return(e||(e=n("Promise"))).resolve(this.$1.get(r))},a.getByIndex=function(t,n,r){return o("WormStoreFunctions").getByIndex(this,t,n,r)},a.readByKeyRange=function(r,o){var t,a,i=p(Array.from(this.$1.values()),(t=r.lessThan)!=null?t:r.lessThanOrEqual,r.lessThanOrEqual!=null,(a=r.greaterThan)!=null?a:r.greaterThanOrEqual,r.greaterThanOrEqual!=null,this.$2.primaryKey);return(e||(e=n("Promise"))).resolve(this.$4(i,o))},a.bulkDelete=function(r){for(var t of r)this.$1.delete(t);return(e||(e=n("Promise"))).resolve()},a.delete=function(r){return this.$1.delete(r),(e||(e=n("Promise"))).resolve()},a.bulkUpsert=function(t,n){return o("WormStoreFunctions").bulkUpsert(this,this.$2,t,n)},a.readKeysByIndexRange=function(t,n,r){var e=this;return this.readIndexRange(t,n,r).then(function(t){return t.map(function(t){return t[e.$2.primaryKey]})})},a.getIndexRangeIterator=function(t,n,r,a){return o("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$2,t,n,r,a)},a.$4=function(t,n,r){var e=t;return(n==null?void 0:n.filter)!=null&&(e=e.filter(n.filter)),(n==null?void 0:n.order)!=null&&r!=null&&(e=e.sort(function(e,t){var o=e[r],a=t[r];return o===a?0:n.order==="desc"?a>o?1:-1:o>a?1:-1})),(n==null?void 0:n.limit)!=null&&(e=e.slice(0,n.limit)),e},a.readIndex=function(o,a,i){var t=this.$2.indexes;if(t==null)throw r("err")("No indexes found");var l=t[o];if(l==null)throw r("err")("Index not found");var s=Array.from(this.$1.values());return a!=null&&(s=s.filter(function(e){for(var t=0;t<l.fields.length;t++)if(e[l.fields[t]]!==a[t])return!1;return!0})),(e||(e=n("Promise"))).resolve(this.$4(s,i,o))},a.readIndexAnyOf=function(o,a,i){var t=this.$2.indexes;if(t==null)throw r("err")("No indexes found");var l=t[o];if(l==null)throw r("err")("Index not found");if(a.length===0)return(e||(e=n("Promise"))).resolve([]);var s=Array.from(this.$1.values());return s=s.filter(function(e){return a.some(function(t){for(var n=0;n<l.fields.length;n++)if(t[n]!==void 0&&e[l.fields[n]]!==t[n])return!1;return!0})}),(e||(e=n("Promise"))).resolve(this.$4(s,i,o))},a.readIndexKeys=function(t,n,r){var e=this;return this.readIndex(t,n,r).then(function(t){return t.map(function(t){return t[e.$2.primaryKey]})})},a.readAll=function(r){var t=this,o=Array.from(this.$1.values());return(r==null?void 0:r.filter)!=null&&(o=o.filter(r.filter)),(r==null?void 0:r.order)!=null&&(o=o.sort(function(e,n){var o=e[t.$2.primaryKey],a=n[t.$2.primaryKey];return o===a?0:r.order==="desc"?a>o?1:-1:o>a?1:-1})),(r==null?void 0:r.limit)!=null&&(o=o.slice(0,r.limit)),(e||(e=n("Promise"))).resolve(o)},a.readKeys=function(t){var e=this;return this.readAll(t).then(function(t){return t.map(function(t){return t[e.$2.primaryKey]})})},a.clear=function(){return this.$1.clear(),(e||(e=n("Promise"))).resolve()},a.count=function(){return(e||(e=n("Promise"))).resolve(this.$1.size)},t})();function p(e,t,n,r,o,a){return e.filter(function(e){return!(r!=null&&r>e[a]||t!=null&&t<e[a]||t!=null&&n===!1&&e[a]===t||r!=null&&o===!1&&e[a]===r)})}function _(e,t,n,r,o,a){return e.filter(function(e){for(var i=0;i<a.fields.length;i++)if(r!=null&&r[i]>e[a.fields[i]]||t!=null&&t[i]<e[a.fields[i]]||i===a.fields.length-1&&(t!=null&&n===!1&&e[a.fields[i]]===t[i]||r!=null&&o===!1&&e[a.fields[i]]===r[i]))return!1;return!0})}l.TEST_ONLY_resetPK=c,l.WormMemoryDriver=d,l.WormMemoryStore=m}),98);
__d("WebReverbSchema",["FBLogger","MAWWormOdsLogger","WAHex","Worm","WormEAR","WormIDbDriver","WormMemoryDriver"],(function(t,n,r,o,a,i,l){"use strict";var e={autoIncrement:!0,indexes:{"[threadId+messageId]":{fields:["threadId","messageId"],unique:!0},"[threadId+timestampMs+messageId]":{fields:["threadId","timestampMs","messageId"],unique:!1},expiryTimestampMs:{fields:["expiryTimestampMs"],unique:!1},messageId:{fields:["messageId"],unique:!1},timestampMs:{fields:["timestampMs"],unique:!1}},nonEncryptedFields:["timestampMs","expiryTimestampMs","messageId","debugFlags"],primaryKey:"pk",secure:!0},s={autoIncrement:!0,indexes:{"[threadId+topLevelMessageId+supplementalKey]":{fields:["threadId","topLevelMessageId","supplementalKey"],unique:!0}},nonEncryptedFields:["topLevelMessageId"],primaryKey:"pk",secure:!0},u={autoIncrement:!0,indexes:{"[threadId+deletedMessageId]":{fields:["threadId","deletedMessageId"],unique:!0},"[threadId+timestampMs+deletedMessageId]":{fields:["threadId","timestampMs","deletedMessageId"],unique:!0},"[threadId+topLevelMessageId+supplementalKey]":{fields:["threadId","topLevelMessageId","supplementalKey"],unique:!1},deletionTimestampMs:{fields:["deletionTimestampMs"],unique:!1}},nonEncryptedFields:["topLevelMessageId","deletionTimestampMs"],primaryKey:"pk",secure:!0},c={autoIncrement:!0,indexes:{"[threadId+messageId+tag]":{fields:["threadId","messageId","tag"],unique:!0},"[threadId+tag+timestampMs]":{fields:["threadId","tag","timestampMs"],unique:!1}},nonEncryptedFields:["messageId","timestampMs","messagePk","tag"],primaryKey:"pk",secure:!0},d={autoIncrement:!1,indexes:{},primaryKey:"pk",secure:!0},m={dbMetadata:d,deleted:u,message:e,supplemental:s,tags:c};function p(e,t,n,a,i){var l=o("WAHex").parseHex(t),s="reverb",u=new(o("WormEAR")).WormEAR(m,s,l),c=new(o("Worm")).WormDatabase(new(o("WormIDbDriver")).WormIDbDriver(e,s,m,u,o("MAWWormOdsLogger").wormOdsWorkerLogger,{blockingErrorThreshold:n,onBlockingError:a,onTransactionError:function(t){if(t instanceof o("WormEAR").DecryptionError){var e=t;r("FBLogger")("mps").mustfix("EAR decryption error in store: %s. Dropping corrupted entity %s",e.store,e.maybeHashedPk),c.runInTransaction([e.store],"readwrite",function(t){var n=t.stores[e.store];return e.maybeHashedPk!=null?n.delete(e.maybeHashedPk):n.clear()},"delete-corrupted-entity")}}}),i);return c}function _(e){return new(o("Worm")).WormDatabase(new(o("WormMemoryDriver")).WormMemoryDriver(m),e)}l.schema=m,l.makeWebReverbSchema=p,l.makeInMemoryReverbSchema_TEST_ONLY=_}),98);
__d("WebReverbDB",["MpsLogger","WAResolvable","WebReverbSchema","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(o("WAResolvable")).Resolvable;function u(e,t,n,r,o){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i,l){var u;try{var c=o("WebReverbSchema").makeWebReverbSchema(t,n,a,i,l);return e=c,u=yield c.init(),s.resolve(c),u}catch(e){throw o("MpsLogger").MpsLogger().catching(r("getErrorSafe")(e)).mustfix("Error performing WebReverb init"),e}}),c.apply(this,arguments)}function d(){if(e==null)throw r("err")("Reverb DB is not initialized");return e}function m(){return s.promise}function p(e){return"WebReverb - "+e}l.makeWebReverb=u,l.getWebReverbDB=d,l.getDbPromise=m,l.mpsOp=p}),98);
__d("WebMpsMigrationReverbTxns",["FBLogger","MpsTypes","Promise","WebMpsReverbWrites","WebReverbDB","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return r("FBLogger")("mps").tags(["mps_migration"])};function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){try{yield o("WebReverbDB").getWebReverbDB().runInTransaction(["message","supplemental","deleted","tags","dbMetadata"],"readwrite",function(r){var o=function(t){return t(r)};return(e||(e=n("Promise"))).all(t.map(function(e){return d(e,o)}))},"mps-persist-messages-migrated-from-maw-db")}catch(e){throw r.endFail("reverb_write_failure"),e}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){var a=[],i=[];a.push(o("WebMpsReverbWrites").upsertTopLevelToReverb(t.toplevelProtobuf,{actionType:o("MpsTypes").ActionType.UpsertTopLevel,debugFlags:["MAW_Migration"],isLocalOnly:!0,isTransportErrorPlaceholder:!1,tags:[],targetMessageId:t.toplevelProtobuf.messageId},r));for(var l of t.supplementalsToInsert.entries()){var u=l[0],c=l[1];a.push(o("WebMpsReverbWrites").upsertSupplementalToReverb(c.messageId,c.payload,u,t.toplevelProtobuf.messageId,t.toplevelProtobuf.threadId,c.timestampMs,r))}var d=yield(e||(e=n("Promise"))).allSettled(a),m=d.filter(function(e){return e.status==="rejected"});for(var p of m)s().mustfix("Failed to upsert a row into Reverb: %s",p.reason);if(m.length>0)throw s().mustfixThrow("Reverb upsert failed");var _=function*(){var e=f[0],o=f[1];i.push(r((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=[t.toplevelProtobuf.threadId,t.toplevelProtobuf.messageId,e],o=yield n.stores.supplemental.getByIndex("[threadId+topLevelMessageId+supplementalKey]",r);o!=null&&(yield n.stores.supplemental.bulkDelete([o.pk]))});return function(e){return r.apply(this,arguments)}})()))};for(var f of t.supplementalsToDelete.entries())yield*_();var g=yield e.allSettled(i),h=g.filter(function(e){return e.status==="rejected"});for(var y of h)s().mustfix("Failed to delete a row from Reverb: %s",y.reason);if(h.length>0)throw s().mustfixThrow("Reverb delete failed")}),m.apply(this,arguments)}function p(){return o("WebReverbDB").getWebReverbDB().runInTransaction(["dbMetadata"],"readonly",function(e){return e.stores.dbMetadata.get("db-info")},"mps-get-db-metadata")}function _(e,t){try{return o("WebReverbDB").getWebReverbDB().runInTransaction(["dbMetadata"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){yield t.stores.dbMetadata.bulkAdd([babelHelpers.extends({},e,{pk:"db-info"})])});return function(e){return t.apply(this,arguments)}})(),"mps-set-db-metadata")}catch(e){throw t.endFail("migration_state_write_failure"),e}}function f(e,t){try{return o("WebReverbDB").getWebReverbDB().runInTransaction(["dbMetadata"],"readwrite",(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n,r,o,a,i=yield t.stores.dbMetadata.get("db-info");if(i==null)throw s().mustfixThrow("DB Metadata row does not exist, cannot update the cursor");var l=i,u=babelHelpers.extends({},l,{mawDBMigrationCurrentMessageId:(n=e.mawDBMigrationCurrentMessageId)!=null?n:l.mawDBMigrationCurrentMessageId,mawDBMigrationCurrentThread:(r=e.mawDBMigrationCurrentThread)!=null?r:l.mawDBMigrationCurrentThread,mawDBMigrationStartMs:(o=e.mawDBMigrationStartMs)!=null?o:l.mawDBMigrationStartMs,mawDBMigrationState:(a=e.mawDBMigrationState)!=null?a:l.mawDBMigrationState});yield t.stores.dbMetadata.bulkPut([u])});return function(e){return t.apply(this,arguments)}})(),"mps-update-db-metadata")}catch(e){throw t.endFail("migration_state_write_failure"),e}}l.persistMigratedMessagesFromMawDb=u,l.getMawMpsMigrationState=p,l.setInitialMawMpsMigrationState=_,l.setMawMpsMigrationState=f}),98);
__d("MpsReverbInit",["BrowserLockManager","MAWMpsMigrationStatus","MpsTypes","Promise","WebMpsMigrationReverbTxns","WebReverbDB","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s="wmi_mps_m4_non_migrated_status_lock",u="wmi_mps_new_db_status_lock",c;function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=yield o("WebReverbDB").makeWebReverb(t.name,t.strEncKey,t.blockingErrorThreshold,t.onBlockingError,t.qplEvent),i=a.isNewDb,l;if(i)l=!0;else{var d=yield o("WebMpsMigrationReverbTxns").getMawMpsMigrationState();l=(d==null?void 0:d.mawDBMigrationState)===o("MpsTypes").MawDBMigrationState.Completed}if(r("BrowserLockManager")==null){o("MAWMpsMigrationStatus").setStatus(l);return}var m=yield r("BrowserLockManager").query(),p=m.held.some(function(e){return e.name===u});if(p){o("MAWMpsMigrationStatus").setStatus(!0);return}if(l===!0){var _=m.held.some(function(e){return e.name===s})||m.pending.some(function(e){return e.name===s});_?l=!1:i===!0&&(c=r("BrowserLockManager").request(u,function(){return new(e||(e=n("Promise")))(function(){})}))}l||(c=r("BrowserLockManager").request(s,function(){return new(e||(e=n("Promise")))(function(){})})),o("MAWMpsMigrationStatus").setStatus(l)}),m.apply(this,arguments)}l.initReverb=d}),98);
__d("UFICommentFileInputAcceptValuesJSModuleWrapper",["UFICommentFileInputAcceptValues"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("UFICommentFileInputAcceptValues")}),98);
__d("WADbContact",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1,s=2,u=3;i.NON_CONTACT=e,i.ONE_WAY_CONTACT=l,i.REVERSED_ONE_WAY_CONTACT=s,i.TWO_WAY_CONTACT=u}),66);
__d("WAIsOgg",[],(function(t,n,r,o,a,i){"use strict";function e(e){return!(e.length<4||e[0]!==79||e[1]!==103||e[2]!==103||e[3]!==83)}i.isOgg=e}),66);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"}),l=1,s=e.LOW,u=10*1e3;i.JOB_PRIORITY=e,i.DEFAULT_CONCURRENCY=l,i.DEFAULT_JOB_PRIORITY=s,i.DEFAULT_JOB_TIMEOUT_MS=u}),66);
__d("WAMediaQplHelper",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null||e<0||e>1e3*1024*1024?"invalid_size":e===0?"size equal to 0KB":e<=1*1024?"size lower than 1 KB":e<=50*1024?"size between 1 KB and 50 KB":e<=100*1024?"size between 50 KB and 100 KB":e<=500*1024?"size between 100 KB and 500 KB":e<=1*1024*1024?"size between 500 KB and 1 MB":e<=2*1024*1024?"size between 1 MB and 2 MB":e<=5*1024*1024?"size between 2 MB and 5 MB":e<=10*1024*1024?"size between 5 MB and 10 MB":e<=20*1024*1024?"size between 10 MB and 20 MB":e<=25*1024*1024?"size between 20 MB and 25 MB":e<=30*1024*1024?"size between 25 MB and 30 MB":e<=50*1024*1024?"size between 30 MB and 50 MB":e<=75*1024*1024?"size between 50 MB and 75 MB":e<=100*1024*1024?"size between 75 MB and 100 MB":"size above 100 MB"}i.convertIntegerSizeToStringBucket=e}),66);
__d("WAOfflineUtils",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["INIT","OFFLINE_RESUME","ONLINE"]),l=n("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});i.ServerRPCMode=e,i.WAClientInfraOfflineProgress=l}),66);
__d("WorkerSchedulerError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this,"Task execution exceeds timeout "+t+":"+n)||this,r.name="WorkerSchedulerTimeoutError",r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.WorkerSchedulerTimeoutError=e}),66);
__d("WorkerSchedulerPriority",[],(function(t,n,r,o,a,i){"use strict";var e=2,l=1,s=0;i.BACKGROUND_PRIORITY=e,i.REGULAR_PRIORITY=l,i.BLOCKING_PRIORITY=s}),66);
__d("WorkerScheduler",["$InternalEnum","Promise","QPLFlow","QuickPerformanceLogger","WAGetSafeQPLError","WAResolvable","WAShiftTimer","WATagsLogger","WATimeUtils","WorkerSchedulerError","WorkerSchedulerPriority","err","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v=o("WATagsLogger").TAGS(["WorkerScheduler"]),S=0,R=100,L=3e4,E=10,k=6e4,I=n("$InternalEnum")({CREATED:0,SCHEDULED:1,RUNNING:2,COMPLETED:3,CANCELLED:-3,FAILED:-2,STUCK:-1}),T=(function(){function t(e,t){var n;this.$3=!1,this.$4=new Map,this.$5=new Map,this.$6=new Map,this.$7=[new Set,new Set,new Set],this.$8=[new(n=o("WAResolvable")).Resolvable,new n.Resolvable,new n.Resolvable],this.$9=new n.Resolvable,this.$1=e,this.config=t,this.$2=v.TAGS([e])}var a=t.prototype;return a.waitUntilEndReached=function(){return this.$9.promise},a.waitUntilBlockingEnded=function(){return this.$8[o("WorkerSchedulerPriority").BLOCKING_PRIORITY].promise},a.waitUntilRegularEnded=function(){return this.$8[o("WorkerSchedulerPriority").REGULAR_PRIORITY].promise},a.waitUntilBackgroundEnded=function(){return this.$8[o("WorkerSchedulerPriority").BACKGROUND_PRIORITY].promise},a.getDebugState=function(){var e=this,t=Date.now();return{activeTasks:Array.from(this.$6.entries()).map(function(n){var r=n[0],o=n[1],a=e.$5.get(r);return!a||a.startTime==null?null:{executionTimeMs:t-a.startTime,priority:o,task:a.name,waitTimeMs:t-a.scheduledTime}}).filter(Boolean),pendingTasksByPriority:this.$7.map(function(n){var r=[];return n.forEach(function(n){var o=e.$5.get(n);o&&r.push({task:o.name,waitTimeMs:t-o.scheduledTime})}),r})}},a.$10=function(){if(this.$6.size<this.config.maxTaskLimit){var e=this.pendingTasksTick({increaseCounter:!1,lowestTier:this.$3?o("WorkerSchedulerPriority").BACKGROUND_PRIORITY:o("WorkerSchedulerPriority").BLOCKING_PRIORITY,tasksToPick:1,tickDelta:0}),t=e.candidates,n=x.getHighestActivePriority();t.length>0&&this.maybeStartTask(t[0].id,n)}},a.runTask=function(t){return this.task(t).run()},a.task=function(t){var e,n=this.$1+":"+t.name+":"+S++,r=(e=t.priority)!=null?e:o("WorkerSchedulerPriority").REGULAR_PRIORITY,a=this.$11(n,{annotations:t.annotations,customFlags:t.customFlags,eventSamplingRate:t.eventSamplingRate,fn:t.fn,name:t.name,priority:r});return this.$4.set(n,a),a.publicApi},a.$12=function(t){var e=this.$4.get(t);return e==null?(b||(b=n("Promise"))).reject(r("err")("Cannot run task from Scheduler:"+this.$1+" Task was already cancelled")):(e.publicApi.status=I.SCHEDULED,this.$5.set(t,e),this.$7[e.priority].add(t),this.$13(e.priority),e.metric.addPoint("schedule_start"),x.scheduleTimerIfNeeded(),this.$10(),e.resolvable.promise)},a.$11=function(n,r){var t,a,i,l=this,s=new(o("WAResolvable")).Resolvable,u=o("QPLFlow").startQplFlowWithCoinflip($,r.eventSamplingRate!=null?r.eventSamplingRate:this.config.defaultSamplingRate,{annotations:{bool:babelHelpers.extends({},(t=r.annotations)==null?void 0:t.bool,r.customFlags),int:babelHelpers.extends({},(a=r.annotations)==null?void 0:a.int,{originalPriority:r.priority}),string:babelHelpers.extends({},(i=r.annotations)==null?void 0:i.string,{name:r.name,scheduler:this.$1,workerID:self!=null&&"worker_id"in self?self.worker_id:void 0})}}),c={fn:r.fn,id:n,loggingParams:{},maxTickDelta:0,metric:u,name:r.name,priority:r.priority,publicApi:{cancel:function(){return c.publicApi.status!==I.CREATED&&c.publicApi.status!==I.SCHEDULED?!1:(l.$14(n,I.CANCELLED),l.$4.delete(n))},id:n,name:r.name,promise:s.promise,promote:function(n){return l.$2.DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Promoting "," from "," to ",""])),c.id,c.priority,n),(c.publicApi.status===I.CREATED||c.publicApi.status===I.SCHEDULED)&&c.priority>n?(l.$15(c,n),!0):!1},run:function(){return l.$12(n)},status:I.CREATED},resolvable:s,scheduledTime:Date.now(),startTime:null,tickCounter:0,waitCounter:0};return c},a.$14=function(t,n){var e=this.$5.get(t),r=e==null?void 0:e.publicApi.status;if(!(e==null||r===I.COMPLETED||r===I.FAILED||r===I.STUCK)){this.$5.delete(t),this.$6.delete(t),e.publicApi.status=n;var a=[this.$7[o("WorkerSchedulerPriority").BLOCKING_PRIORITY].size===0,this.$7[o("WorkerSchedulerPriority").REGULAR_PRIORITY].size===0,this.$7[o("WorkerSchedulerPriority").BACKGROUND_PRIORITY].size===0];this.$6.forEach(function(e){a[e]=!1}),a[o("WorkerSchedulerPriority").BLOCKING_PRIORITY]&&a[o("WorkerSchedulerPriority").REGULAR_PRIORITY]&&a[o("WorkerSchedulerPriority").BACKGROUND_PRIORITY]&&this.$9.resolve();for(var i=o("WorkerSchedulerPriority").BLOCKING_PRIORITY;i<=o("WorkerSchedulerPriority").BACKGROUND_PRIORITY;i++)a[i]&&this.$8[i].resolve()}},a.maybeStartTask=function(t,n){var e=this.$5.get(t);if(e==null){this.$2.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Safeguard: Task without corresponding record: Task: ",", Scheduler: ",""])),t,this.$1);return}if(n==null||this.$3===!0)return this.$16(e);if(!(n<e.priority))return this.$16(e)},a.$16=function(t){var e=this;this.$7[t.priority].delete(t.id),this.$6.set(t.id,t.priority),this.$2.TAGS([t.name]).LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Started: ",""])),t.id),t.startTime=Date.now(),t.publicApi.status=I.RUNNING,t.metric.addPoint("schedule_end",{int:{priorityTier:t.priority,waitTicks:t.waitCounter}}),t.metric.addPoint("run_start",{int:{startPriority:t.priority}});var r;try{r=t.fn({metric:t.metric})}catch(e){r=(b||(b=n("Promise"))).reject(e)}this.config.warnTaskLimit!=null&&this.$6.size>=this.config.warnTaskLimit&&this.$6.entries().forEach(function(t){var n=t[0],r=t[1],o=e.$5.get(n);o!=null&&o.metric.addAnnotations({bool:{exceedsWarnLimit:!0}})}),r.then(function(n){t.resolvable.resolve(n),e.$2.TAGS([t.name]).LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Completed: ",""])),t.id),t.metric.addPoint("run_end",{int:{executionTicks:t.tickCounter}}),e.$14(t.id,I.COMPLETED),t.metric.endSuccess({int:{maxTickDeltaMs:t.maxTickDelta}}),e.$10()}).catch(function(n){t.resolvable.reject(n),e.$2.TAGS([t.name]).WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Failed: ",""])),t.id),t.metric.addPoint("run_fail"),e.$2.TAGS([t.name]).ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Debug params: "," failed: ",""])),t.loggingParams,n),e.$14(t.id,I.FAILED),t.metric.endFail("runtime",{int:{maxTickDeltaMs:t.maxTickDelta},string:{jsError:o("WAGetSafeQPLError").getSafeQPLErrorMessage(n)}}),e.$10()})},a.$13=function(t){for(var e=o("WorkerSchedulerPriority").BLOCKING_PRIORITY;e<=t;e++)this.$8[e].resolveWasCalled()&&(this.$8[e]=new(o("WAResolvable")).Resolvable);this.$9.resolveWasCalled()&&(this.$9=new(o("WAResolvable")).Resolvable)},a.getHighestActivePriority=function(){var e=this,t=null;return this.$6.forEach(function(n,r){var o=e.$5.get(r);if(o==null){v.ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Safeguard: Active task without corresponding record: Task: ",", Scheduler: ",""])),r,e.$1),e.$6.delete(r);return}(t==null||t>o.priority)&&(t=o.priority)}),t},a.activeTasksTick=function(t){var e=this,n=null;return this.$6.forEach(function(r,a){var i=e.$5.get(a);if(i==null){v.ERROR(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Safeguard: Active task without corresponding record: Task: ",", Scheduler: ",""])),a,e.$1),e.$6.delete(a);return}i.tickCounter++,i.maxTickDelta=Math.max(t,i.maxTickDelta),(n==null||n>i.priority)&&(n=i.priority),i.tickCounter>e.config.ticksToTimeout&&i.publicApi.status===I.RUNNING&&(v.WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Possibly stuck: ",""])),i.name),e.$14(i.id,I.STUCK),e.config.shouldContinueAfterTimeout||i.resolvable.reject(new(o("WorkerSchedulerError")).WorkerSchedulerTimeoutError(e.$1,i.id)),i.metric.endCancel(113,{int:{maxTickDeltaMs:i.maxTickDelta}}))}),n},a.$15=function(t,n){function e(){switch(r){case o("WorkerSchedulerPriority").BACKGROUND_PRIORITY:return o("WorkerSchedulerPriority").REGULAR_PRIORITY;case o("WorkerSchedulerPriority").REGULAR_PRIORITY:return o("WorkerSchedulerPriority").BLOCKING_PRIORITY;default:return o("WorkerSchedulerPriority").BLOCKING_PRIORITY}}var r=t.priority,a=n!=null?n:e();a!==r&&(t.metric.addPoint("promote_to_"+a),this.$7[r].delete(t.id),t.priority=a,this.$7[a].add(t.id))},a.pendingTasksTick=function(t){for(var e=this,n=t.increaseCounter,r=t.lowestTier,a=t.tasksToPick,i=t.tickDelta,l=[],s=!0,u=function(r){s&&(s=e.$7[r].size===0),e.$7[r].forEach(function(t){var s=e.$5.get(t);if(s==null){v.ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Safeguard: Pending task without corresponding record: Task: ",", Scheduler: ",""])),t,e.$1),e.$7[r].delete(t);return}n&&(s.waitCounter++,s.maxTickDelta=Math.max(i,s.maxTickDelta),s.priority>o("WorkerSchedulerPriority").REGULAR_PRIORITY&&s.waitCounter>=e.config.throttleTicks&&e.$15(s),s.priority===o("WorkerSchedulerPriority").REGULAR_PRIORITY&&s.waitCounter>=x.maxWaitTicksMultiplierForFinalPromotion*e.config.throttleTicks&&(v.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Promoting task ",":"," to blocking priority"])),e.$1,s.name),e.$15(s))),!(l.length>=a)&&(e.$6.size+l.length>=e.config.maxTaskLimit||l.push(s))})},c=o("WorkerSchedulerPriority").BLOCKING_PRIORITY;c<=r;c++)u(c);return{candidates:l.map(function(e){return{id:e.id,priority:e.priority}}),isEmpty:s}},a.TEST_ONLY_ignore_delays=function(){this.$3=!0},t})(),D=(function(){function e(){var e=this;this.$1=new Map,this.tickFrequencyMs=R,this.maxThrottleMs=k,this.maxWaitTicksMultiplierForFinalPromotion=E,this.$2=null,this.$3=new(o("WAShiftTimer")).ShiftTimer(function(){var t=!1;try{var n,r=o("WATimeUtils").performanceAbsoluteNow();t=e.$4(r-((n=e.$2)!=null?n:r))}catch(e){v.ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Scheduler fatal: ",""])),e)}finally{t===!1?(e.$2=o("WATimeUtils").performanceAbsoluteNow(),e.$3.onOrBefore(e.tickFrequencyMs)):e.$2=null}}),this.$5=new Map}var t=e.prototype;return t.getHighestActivePriority=function(){var e=null;return this.$5.forEach(function(t){var n=t.getHighestActivePriority();e!=null&&n!=null&&e<n&&(e=n),e==null&&n!=null&&(e=n)}),e},t.$4=function(t){var e,n=!0,r=null;this.$5.forEach(function(e){var n=e.activeTasksTick(t);r!=null&&n!=null&&r<n&&(r=n),r==null&&n!=null&&(r=n)});var a=[[],[],[]];this.$5.forEach(function(e){var r=e.pendingTasksTick({increaseCounter:!0,lowestTier:o("WorkerSchedulerPriority").BACKGROUND_PRIORITY,tasksToPick:e.config.concurrency,tickDelta:t}),i=r.candidates,l=r.isEmpty;n&&(n=l),i.forEach(function(t){a[t.priority].push({id:t.id,scheduler:e})})});var i=(e=a.find(function(e){return e.length>0}))!=null?e:[];for(var l of i){var s=l.id,u=l.scheduler;u.maybeStartTask(s,r)}return n},t.scheduleTimerIfNeeded=function(){this.$3.onOrBefore(this.tickFrequencyMs)},t.newScheduler=function(t,n){var e=this.$5.get(t);return e||(e=new T(t,n),this.$5.set(t,e),e)},t.TEST_ONLY_reset=function(){this.$5=new Map,this.$1=new Map},e})(),x=new D,$=r("qpl")._(1056838280,"1566");function P(e,t){var n,r,o,a,i;return x.newScheduler(e,{concurrency:(n=t.concurrency)!=null?n:1,defaultSamplingRate:(r=t.defaultSamplingRate)!=null?r:1e4,maxTaskLimit:t.maxTaskLimit,shouldContinueAfterTimeout:(o=t.shouldContinueAfterTimeout)!=null?o:!1,throttleTicks:Math.round(((a=t.maxThrottleMs)!=null?a:x.maxThrottleMs)/x.tickFrequencyMs),ticksToTimeout:Math.round(((i=t.timeoutMs)!=null?i:L)/x.tickFrequencyMs),warnTaskLimit:t.warnTaskLimit})}function N(e){e.tickFrequencyMs!=null&&(x.tickFrequencyMs=e.tickFrequencyMs),e.maxThrottleMs!=null&&(x.maxThrottleMs=e.maxThrottleMs),e.maxWaitTicksMultiplierForFinalPromotion!=null&&(x.maxWaitTicksMultiplierForFinalPromotion=e.maxWaitTicksMultiplierForFinalPromotion),e.qplEventType!=null&&($=e.qplEventType),(C||(C=r("QuickPerformanceLogger"))).setAlwaysOnSampleRate($,1)}function M(){x.TEST_ONLY_reset()}l.BACKGROUND_PRIORITY=o("WorkerSchedulerPriority").BACKGROUND_PRIORITY,l.BLOCKING_PRIORITY=o("WorkerSchedulerPriority").BLOCKING_PRIORITY,l.REGULAR_PRIORITY=o("WorkerSchedulerPriority").REGULAR_PRIORITY,l.SchedulerExecutionState=I,l.makeScheduler=P,l.configWorkerScheduler=N,l.TEST_ONLY_reset=M}),98);
__d("groupBy",[],(function(t,n,r,o,a,i){function e(e,t){return e.reduce(function(e,n){return(e[t(n)]=e[t(n)]||[]).push(n),e},{})}i.default=e}),66);
__d("isGroupInvitesEnabled",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("125")===!0}l.default=e}),98);
__d("isInstamadilloEB",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("qex")._("670")===!0}l.default=e}),98);